atob('KGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGYuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7aWYodHlwZW9mIG1vZHVsZSE9PSJ1bmRlZmluZWQiKXttb2R1bGUuZXhwb3J0cz1FbWl0dGVyfWZ1bmN0aW9uIEVtaXR0ZXIob2JqKXtpZihvYmopcmV0dXJuIG1peGluKG9iail9ZnVuY3Rpb24gbWl4aW4ob2JqKXtmb3IodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSl7b2JqW2tleV09RW1pdHRlci5wcm90b3R5cGVba2V5XX1yZXR1cm4gb2JqfUVtaXR0ZXIucHJvdG90eXBlLm9uPUVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsZm4pe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9Oyh0aGlzLl9jYWxsYmFja3NbIiQiK2V2ZW50XT10aGlzLl9jYWxsYmFja3NbIiQiK2V2ZW50XXx8W10pLnB1c2goZm4pO3JldHVybiB0aGlzfTtFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGV2ZW50LGZuKXtmdW5jdGlvbiBvbigpe3RoaXMub2ZmKGV2ZW50LG9uKTtmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9b24uZm49Zm47dGhpcy5vbihldmVudCxvbik7cmV0dXJuIHRoaXN9O0VtaXR0ZXIucHJvdG90eXBlLm9mZj1FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudCxmbil7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307aWYoMD09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5fY2FsbGJhY2tzPXt9O3JldHVybiB0aGlzfXZhciBjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzWyIkIitldmVudF07aWYoIWNhbGxiYWNrcylyZXR1cm4gdGhpcztpZigxPT1hcmd1bWVudHMubGVuZ3RoKXtkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyIkIitldmVudF07cmV0dXJuIHRoaXN9dmFyIGNiO2Zvcih2YXIgaT0wO2k8Y2FsbGJhY2tzLmxlbmd0aDtpKyspe2NiPWNhbGxiYWNrc1tpXTtpZihjYj09PWZufHxjYi5mbj09PWZuKXtjYWxsYmFja3Muc3BsaWNlKGksMSk7YnJlYWt9fXJldHVybiB0aGlzfTtFbWl0dGVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGV2ZW50KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTt2YXIgYXJncz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzWyIkIitldmVudF07aWYoY2FsbGJhY2tzKXtjYWxsYmFja3M9Y2FsbGJhY2tzLnNsaWNlKDApO2Zvcih2YXIgaT0wLGxlbj1jYWxsYmFja3MubGVuZ3RoO2k8bGVuOysraSl7Y2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsYXJncyl9fXJldHVybiB0aGlzfTtFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnQpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O3JldHVybiB0aGlzLl9jYWxsYmFja3NbIiQiK2V2ZW50XXx8W119O0VtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbihldmVudCl7cmV0dXJuISF0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RofX0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtfYXJnczpbW3tyYXc6ImRpc2NvcmQuanMiLHNjb3BlOm51bGwsZXNjYXBlZE5hbWU6ImRpc2NvcmQuanMiLG5hbWU6ImRpc2NvcmQuanMiLHJhd1NwZWM6IiIsc3BlYzoibGF0ZXN0Iix0eXBlOiJ0YWcifSwiQzpcXEluZmluaXR5Il1dLF9mcm9tOiJkaXNjb3JkLmpzQGxhdGVzdCIsX2lkOiJkaXNjb3JkLmpzQDExLjAuMCIsX2luQ2FjaGU6dHJ1ZSxfbG9jYXRpb246Ii9kaXNjb3JkLmpzIixfbm9kZVZlcnNpb246IjcuMC4wIixfbnBtT3BlcmF0aW9uYWxJbnRlcm5hbDp7aG9zdDoicGFja2FnZXMtMTItd2VzdC5pbnRlcm5hbC5ucG1qcy5jb20iLHRtcDoidG1wL2Rpc2NvcmQuanMtMTEuMC4wLnRnel8xNDgzMDMwODUyNTY0XzAuNjAyMzEyMDU4OTA4ODY0OSJ9LF9ucG1Vc2VyOntuYW1lOiJoeWRyYWJvbHQiLGVtYWlsOiJhbWlzaHNoYWguMmtAZ21haWwuY29tIn0sX25wbVZlcnNpb246IjMuMTAuNiIsX3BoYW50b21DaGlsZHJlbjp7fSxfcmVxdWVzdGVkOntyYXc6ImRpc2NvcmQuanMiLHNjb3BlOm51bGwsZXNjYXBlZE5hbWU6ImRpc2NvcmQuanMiLG5hbWU6ImRpc2NvcmQuanMiLHJhd1NwZWM6IiIsc3BlYzoibGF0ZXN0Iix0eXBlOiJ0YWcifSxfcmVxdWlyZWRCeTpbIiNVU0VSIiwiLyJdLF9yZXNvbHZlZDoiaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvZGlzY29yZC5qcy8tL2Rpc2NvcmQuanMtMTEuMC4wLnRneiIsX3NoYXN1bToiNzM1YTRmYzU2MDdiMDRiMmMxZDBkNjk5Yzg4ZWEyOTM2Y2YwZDY1NiIsX3Nocmlua3dyYXA6bnVsbCxfc3BlYzoiZGlzY29yZC5qcyIsX3doZXJlOiJDOlxcSW5maW5pdHkiLGF1dGhvcjp7bmFtZToiQW1pc2ggU2hhaCIsZW1haWw6ImFtaXNoc2hhaC4ya0BnbWFpbC5jb20ifSxicm93c2VyOnt3czpmYWxzZSx1d3M6ZmFsc2UsZXJscGFjazpmYWxzZSxvcHVzc2NyaXB0OmZhbHNlLCJub2RlLW9wdXMiOmZhbHNlLCJ0d2VldC1uYWNsIjpmYWxzZSwic3JjL3NoYXJkaW5nL1NoYXJkLmpzIjpmYWxzZSwic3JjL3NoYXJkaW5nL1NoYXJkQ2xpZW50VXRpbC5qcyI6ZmFsc2UsInNyYy9zaGFyZGluZy9TaGFyZGluZ01hbmFnZXIuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL2Rpc3BhdGNoZXIvU3RyZWFtRGlzcGF0Y2hlci5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2Uvb3B1cy9CYXNlT3B1c0VuZ2luZS5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2Uvb3B1cy9Ob2RlT3B1c0VuZ2luZS5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2Uvb3B1cy9PcHVzRW5naW5lTGlzdC5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2Uvb3B1cy9PcHVzU2NyaXB0RW5naW5lLmpzIjpmYWxzZSwic3JjL2NsaWVudC92b2ljZS9wY20vQ29udmVydGVyRW5naW5lLmpzIjpmYWxzZSwic3JjL2NsaWVudC92b2ljZS9wY20vQ29udmVydGVyRW5naW5lTGlzdC5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2UvcGNtL0ZmbXBlZ0NvbnZlcnRlckVuZ2luZS5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2UvcGxheWVyL0F1ZGlvUGxheWVyLmpzIjpmYWxzZSwic3JjL2NsaWVudC92b2ljZS9wbGF5ZXIvQmFzZVBsYXllci5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2UvcGxheWVyL0RlZmF1bHRQbGF5ZXIuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL3JlY2VpdmVyL1ZvaWNlUmVhZGFibGUuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL3JlY2VpdmVyL1ZvaWNlUmVjZWl2ZXIuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL3V0aWwvU2VjcmV0S2V5LmpzIjpmYWxzZSwic3JjL2NsaWVudC92b2ljZS9DbGllbnRWb2ljZU1hbmFnZXIuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL1ZvaWNlQ29ubmVjdGlvbi5qcyI6ZmFsc2UsInNyYy9jbGllbnQvdm9pY2UvVm9pY2VVRFBDbGllbnQuanMiOmZhbHNlLCJzcmMvY2xpZW50L3ZvaWNlL1ZvaWNlV2ViU29ja2V0LmpzIjpmYWxzZX0sYnVnczp7dXJsOiJodHRwczovL2dpdGh1Yi5jb20vaHlkcmFib2x0L2Rpc2NvcmQuanMvaXNzdWVzIn0sZGVwZW5kZW5jaWVzOnsiQHR5cGVzL25vZGUiOiJeNi4wLjAiLHBha286Il4xLjAuMCIsc3VwZXJhZ2VudDoiXjMuMy4wIix0d2VldG5hY2w6Il4wLjE0LjAiLHdzOiJeMS4xLjAifSxkZXNjcmlwdGlvbjoiQSBwb3dlcmZ1bCBsaWJyYXJ5IGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBEaXNjb3JkIEFQSSIsZGV2RGVwZW5kZW5jaWVzOnsiZGlzY29yZC5qcy1kb2NnZW4iOiJnaXRodWI6aHlkcmFib2x0L2Rpc2NvcmQuanMtZG9jZ2VuI21hc3RlciIsZXNsaW50OiJeMy4xMi4wIiwicGFyYWxsZWwtd2VicGFjayI6Il4xLjYuMCIsInVnbGlmeS1qcyI6ImdpdGh1YjptaXNob28vVWdsaWZ5SlMyI2hhcm1vbnkiLHdlYnBhY2s6IjIuMi4wLXJjLjMifSxkaXJlY3Rvcmllczp7fSxkaXN0OntzaGFzdW06IjczNWE0ZmM1NjA3YjA0YjJjMWQwZDY5OWM4OGVhMjkzNmNmMGQ2NTYiLHRhcmJhbGw6Imh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL2Rpc2NvcmQuanMvLS9kaXNjb3JkLmpzLTExLjAuMC50Z3oifSxlbmdpbmVzOntub2RlOiI+PTYuMC4wIn0sZ2l0SGVhZDoiYzhmNmI2YjA1OTZjNTBkZmIwZDkxMGRjYTg4YjVhMzI5MzEwNDFiNiIsaG9tZXBhZ2U6Imh0dHBzOi8vZ2l0aHViLmNvbS9oeWRyYWJvbHQvZGlzY29yZC5qcyNyZWFkbWUiLGtleXdvcmRzOlsiZGlzY29yZCIsImFwaSIsImJvdCIsImNsaWVudCIsIm5vZGUiLCJkaXNjb3JkYXBwIl0sbGljZW5zZToiQXBhY2hlLTIuMCIsbWFpbjoiLi9zcmMvaW5kZXgiLG1haW50YWluZXJzOlt7bmFtZToiaHlkcmFib2x0IixlbWFpbDoiYW1pc2hzaGFoLjJrQGdtYWlsLmNvbSJ9XSxuYW1lOiJkaXNjb3JkLmpzIixvcHRpb25hbERlcGVuZGVuY2llczp7fSxwZWVyRGVwZW5kZW5jaWVzOntlcmxwYWNrOiJoYW1tZXJhbmRjaGlzZWwvZXJscGFjayNtYXN0ZXIiLCJub2RlLW9wdXMiOiJeMC4yLjAiLG9wdXNzY3JpcHQ6Il4wLjAuMSIsdXdzOiJeMC4xMi4wIn0scmVhZG1lOiJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhIixyZXBvc2l0b3J5Ont0eXBlOiJnaXQiLHVybDoiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9oeWRyYWJvbHQvZGlzY29yZC5qcy5naXQifSxydW5raXRFeGFtcGxlRmlsZW5hbWU6Ii4vZG9jcy9leGFtcGxlcy9waW5nLmpzIixzY3JpcHRzOntkb2NzOiJkb2NnZW4gLS1zb3VyY2Ugc3JjIC0tY3VzdG9tIGRvY3MvaW5kZXgueW1sIC0tb3V0cHV0IGRvY3MvZG9jcy5qc29uIixsaW50OiJlc2xpbnQgc3JjIix0ZXN0OiJlc2xpbnQgc3JjICYmIGRvY2dlbiAtLXNvdXJjZSBzcmMgLS1jdXN0b20gZG9jcy9pbmRleC55bWwiLCJ0ZXN0LWRvY3MiOiJkb2NnZW4gLS1zb3VyY2Ugc3JjIC0tY3VzdG9tIGRvY3MiLCJ3ZWItZGlzdCI6Im5vZGUgLi9ub2RlX21vZHVsZXMvcGFyYWxsZWwtd2VicGFjay9iaW4vcnVuLmpzIn0sdHlwZXM6Ii4vdHlwaW5ncy9pbmRleC5kLnRzIix2ZXJzaW9uOiIxMS4wLjAifX0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NvbnN0IG1lcmdlRGVmYXVsdD1yZXF1aXJlKCIuLi91dGlsL01lcmdlRGVmYXVsdCIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IFJFU1RNYW5hZ2VyPXJlcXVpcmUoIi4vcmVzdC9SRVNUTWFuYWdlciIpO2NvbnN0IENsaWVudERhdGFNYW5hZ2VyPXJlcXVpcmUoIi4vQ2xpZW50RGF0YU1hbmFnZXIiKTtjb25zdCBDbGllbnRNYW5hZ2VyPXJlcXVpcmUoIi4vQ2xpZW50TWFuYWdlciIpO2NvbnN0IENsaWVudERhdGFSZXNvbHZlcj1yZXF1aXJlKCIuL0NsaWVudERhdGFSZXNvbHZlciIpO2NvbnN0IENsaWVudFZvaWNlTWFuYWdlcj1yZXF1aXJlKCIuL3ZvaWNlL0NsaWVudFZvaWNlTWFuYWdlciIpO2NvbnN0IFdlYlNvY2tldE1hbmFnZXI9cmVxdWlyZSgiLi93ZWJzb2NrZXQvV2ViU29ja2V0TWFuYWdlciIpO2NvbnN0IEFjdGlvbnNNYW5hZ2VyPXJlcXVpcmUoIi4vYWN0aW9ucy9BY3Rpb25zTWFuYWdlciIpO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y29uc3QgUHJlc2VuY2U9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9QcmVzZW5jZSIpLlByZXNlbmNlO2NvbnN0IFNoYXJkQ2xpZW50VXRpbD1yZXF1aXJlKCIuLi9zaGFyZGluZy9TaGFyZENsaWVudFV0aWwiKTtjbGFzcyBDbGllbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3Iob3B0aW9ucz17fSl7c3VwZXIoKTtpZighb3B0aW9ucy5zaGFyZElkJiYiU0hBUkRfSUQiaW4gcHJvY2Vzcy5lbnYpb3B0aW9ucy5zaGFyZElkPU51bWJlcihwcm9jZXNzLmVudi5TSEFSRF9JRCk7aWYoIW9wdGlvbnMuc2hhcmRDb3VudCYmIlNIQVJEX0NPVU5UImluIHByb2Nlc3MuZW52KW9wdGlvbnMuc2hhcmRDb3VudD1OdW1iZXIocHJvY2Vzcy5lbnYuU0hBUkRfQ09VTlQpO3RoaXMub3B0aW9ucz1tZXJnZURlZmF1bHQoQ29uc3RhbnRzLkRlZmF1bHRPcHRpb25zLG9wdGlvbnMpO3RoaXMuX3ZhbGlkYXRlT3B0aW9ucygpO3RoaXMucmVzdD1uZXcgUkVTVE1hbmFnZXIodGhpcyk7dGhpcy5kYXRhTWFuYWdlcj1uZXcgQ2xpZW50RGF0YU1hbmFnZXIodGhpcyk7dGhpcy5tYW5hZ2VyPW5ldyBDbGllbnRNYW5hZ2VyKHRoaXMpO3RoaXMud3M9bmV3IFdlYlNvY2tldE1hbmFnZXIodGhpcyk7dGhpcy5yZXNvbHZlcj1uZXcgQ2xpZW50RGF0YVJlc29sdmVyKHRoaXMpO3RoaXMuYWN0aW9ucz1uZXcgQWN0aW9uc01hbmFnZXIodGhpcyk7dGhpcy52b2ljZT0hdGhpcy5icm93c2VyP25ldyBDbGllbnRWb2ljZU1hbmFnZXIodGhpcyk6bnVsbDt0aGlzLnNoYXJkPXByb2Nlc3Muc2VuZD9TaGFyZENsaWVudFV0aWwuc2luZ2xldG9uKHRoaXMpOm51bGw7dGhpcy51c2Vycz1uZXcgQ29sbGVjdGlvbjt0aGlzLmd1aWxkcz1uZXcgQ29sbGVjdGlvbjt0aGlzLmNoYW5uZWxzPW5ldyBDb2xsZWN0aW9uO3RoaXMucHJlc2VuY2VzPW5ldyBDb2xsZWN0aW9uO2lmKCF0aGlzLnRva2VuJiYiQ0xJRU5UX1RPS0VOImluIHByb2Nlc3MuZW52KXt0aGlzLnRva2VuPXByb2Nlc3MuZW52LkNMSUVOVF9UT0tFTn1lbHNle3RoaXMudG9rZW49bnVsbH10aGlzLnVzZXI9bnVsbDt0aGlzLnJlYWR5QXQ9bnVsbDt0aGlzLnBpbmdzPVtdO3RoaXMuX3BpbmdUaW1lc3RhbXA9MDt0aGlzLl90aW1lb3V0cz1uZXcgU2V0O3RoaXMuX2ludGVydmFscz1uZXcgU2V0O2lmKHRoaXMub3B0aW9ucy5tZXNzYWdlU3dlZXBJbnRlcnZhbD4wKXt0aGlzLnNldEludGVydmFsKHRoaXMuc3dlZXBNZXNzYWdlcy5iaW5kKHRoaXMpLHRoaXMub3B0aW9ucy5tZXNzYWdlU3dlZXBJbnRlcnZhbCoxZTMpfX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMud3Muc3RhdHVzfWdldCB1cHRpbWUoKXtyZXR1cm4gdGhpcy5yZWFkeUF0P0RhdGUubm93KCktdGhpcy5yZWFkeUF0Om51bGx9Z2V0IHBpbmcoKXtyZXR1cm4gdGhpcy5waW5ncy5yZWR1Y2UoKHByZXYscCk9PnByZXYrcCwwKS90aGlzLnBpbmdzLmxlbmd0aH1nZXQgdm9pY2VDb25uZWN0aW9ucygpe2lmKHRoaXMuYnJvd3NlcilyZXR1cm4gbmV3IENvbGxlY3Rpb247cmV0dXJuIHRoaXMudm9pY2UuY29ubmVjdGlvbnN9Z2V0IGVtb2ppcygpe2NvbnN0IGVtb2ppcz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgZ3VpbGQgb2YgdGhpcy5ndWlsZHMudmFsdWVzKCkpe2Zvcihjb25zdCBlbW9qaSBvZiBndWlsZC5lbW9qaXMudmFsdWVzKCkpZW1vamlzLnNldChlbW9qaS5pZCxlbW9qaSl9cmV0dXJuIGVtb2ppc31nZXQgcmVhZHlUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5yZWFkeUF0P3RoaXMucmVhZHlBdC5nZXRUaW1lKCk6bnVsbH1nZXQgYnJvd3Nlcigpe3JldHVybiB0eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCJ9bG9naW4odG9rZW4pe3JldHVybiB0aGlzLnJlc3QubWV0aG9kcy5sb2dpbih0b2tlbil9ZGVzdHJveSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3RpbWVvdXRzKWNsZWFyVGltZW91dCh0KTtmb3IoY29uc3QgaSBvZiB0aGlzLl9pbnRlcnZhbHMpY2xlYXJJbnRlcnZhbChpKTt0aGlzLl90aW1lb3V0cy5jbGVhcigpO3RoaXMuX2ludGVydmFscy5jbGVhcigpO3JldHVybiB0aGlzLm1hbmFnZXIuZGVzdHJveSgpfXN5bmNHdWlsZHMoZ3VpbGRzPXRoaXMuZ3VpbGRzKXtpZih0aGlzLnVzZXIuYm90KXJldHVybjt0aGlzLndzLnNlbmQoe29wOjEyLGQ6Z3VpbGRzIGluc3RhbmNlb2YgQ29sbGVjdGlvbj9ndWlsZHMua2V5QXJyYXkoKTpndWlsZHMubWFwKGc9PmcuaWQpfSl9ZmV0Y2hVc2VyKGlkKXtpZih0aGlzLnVzZXJzLmhhcyhpZCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnVzZXJzLmdldChpZCkpO3JldHVybiB0aGlzLnJlc3QubWV0aG9kcy5nZXRVc2VyKGlkKX1mZXRjaEludml0ZShpbnZpdGUpe2NvbnN0IGNvZGU9dGhpcy5yZXNvbHZlci5yZXNvbHZlSW52aXRlQ29kZShpbnZpdGUpO3JldHVybiB0aGlzLnJlc3QubWV0aG9kcy5nZXRJbnZpdGUoY29kZSl9ZmV0Y2hXZWJob29rKGlkLHRva2VuKXtyZXR1cm4gdGhpcy5yZXN0Lm1ldGhvZHMuZ2V0V2ViaG9vayhpZCx0b2tlbil9c3dlZXBNZXNzYWdlcyhsaWZldGltZT10aGlzLm9wdGlvbnMubWVzc2FnZUNhY2hlTGlmZXRpbWUpe2lmKHR5cGVvZiBsaWZldGltZSE9PSJudW1iZXIifHxpc05hTihsaWZldGltZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGxpZmV0aW1lIG11c3QgYmUgYSBudW1iZXIuIik7aWYobGlmZXRpbWU8PTApe3RoaXMuZW1pdCgiZGVidWciLCJEaWRuJ3Qgc3dlZXAgbWVzc2FnZXMgLSBsaWZldGltZSBpcyB1bmxpbWl0ZWQiKTtyZXR1cm4tMX1jb25zdCBsaWZldGltZU1zPWxpZmV0aW1lKjFlMztjb25zdCBub3c9RGF0ZS5ub3coKTtsZXQgY2hhbm5lbHM9MDtsZXQgbWVzc2FnZXM9MDtmb3IoY29uc3QgY2hhbm5lbCBvZiB0aGlzLmNoYW5uZWxzLnZhbHVlcygpKXtpZighY2hhbm5lbC5tZXNzYWdlcyljb250aW51ZTtjaGFubmVscysrO2Zvcihjb25zdCBtZXNzYWdlIG9mIGNoYW5uZWwubWVzc2FnZXMudmFsdWVzKCkpe2lmKG5vdy0obWVzc2FnZS5lZGl0ZWRUaW1lc3RhbXB8fG1lc3NhZ2UuY3JlYXRlZFRpbWVzdGFtcCk+bGlmZXRpbWVNcyl7Y2hhbm5lbC5tZXNzYWdlcy5kZWxldGUobWVzc2FnZS5pZCk7bWVzc2FnZXMrK319fXRoaXMuZW1pdCgiZGVidWciLGBTd2VwdCAke21lc3NhZ2VzfSBtZXNzYWdlcyBvbGRlciB0aGFuICR7bGlmZXRpbWV9IHNlY29uZHMgaW4gJHtjaGFubmVsc30gdGV4dC1iYXNlZCBjaGFubmVsc2ApO3JldHVybiBtZXNzYWdlc31mZXRjaEFwcGxpY2F0aW9uKCl7aWYoIXRoaXMudXNlci5ib3QpdGhyb3cgbmV3IEVycm9yKENvbnN0YW50cy5FcnJvcnMuTk9fQk9UX0FDQ09VTlQpO3JldHVybiB0aGlzLnJlc3QubWV0aG9kcy5nZXRNeUFwcGxpY2F0aW9uKCl9Z2VuZXJhdGVJbnZpdGUocGVybWlzc2lvbnMpe2lmKHBlcm1pc3Npb25zKXtpZihwZXJtaXNzaW9ucyBpbnN0YW5jZW9mIEFycmF5KXBlcm1pc3Npb25zPXRoaXMucmVzb2x2ZXIucmVzb2x2ZVBlcm1pc3Npb25zKHBlcm1pc3Npb25zKX1lbHNle3Blcm1pc3Npb25zPTB9cmV0dXJuIHRoaXMuZmV0Y2hBcHBsaWNhdGlvbigpLnRoZW4oYXBwbGljYXRpb249PmBodHRwczovL2Rpc2NvcmRhcHAuY29tL29hdXRoMi9hdXRob3JpemU/Y2xpZW50X2lkPSR7YXBwbGljYXRpb24uaWR9JnBlcm1pc3Npb25zPSR7cGVybWlzc2lvbnN9JnNjb3BlPWJvdGApfXNldFRpbWVvdXQoZm4sZGVsYXksLi4uYXJncyl7Y29uc3QgdGltZW91dD1zZXRUaW1lb3V0KCgpPT57Zm4oKTt0aGlzLl90aW1lb3V0cy5kZWxldGUodGltZW91dCl9LGRlbGF5LC4uLmFyZ3MpO3RoaXMuX3RpbWVvdXRzLmFkZCh0aW1lb3V0KTtyZXR1cm4gdGltZW91dH1jbGVhclRpbWVvdXQodGltZW91dCl7Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO3RoaXMuX3RpbWVvdXRzLmRlbGV0ZSh0aW1lb3V0KX1zZXRJbnRlcnZhbChmbixkZWxheSwuLi5hcmdzKXtjb25zdCBpbnRlcnZhbD1zZXRJbnRlcnZhbChmbixkZWxheSwuLi5hcmdzKTt0aGlzLl9pbnRlcnZhbHMuYWRkKGludGVydmFsKTtyZXR1cm4gaW50ZXJ2YWx9Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCl7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7dGhpcy5faW50ZXJ2YWxzLmRlbGV0ZShpbnRlcnZhbCl9X3Bvbmcoc3RhcnRUaW1lKXt0aGlzLnBpbmdzLnVuc2hpZnQoRGF0ZS5ub3coKS1zdGFydFRpbWUpO2lmKHRoaXMucGluZ3MubGVuZ3RoPjMpdGhpcy5waW5ncy5sZW5ndGg9Mzt0aGlzLndzLmxhc3RIZWFydGJlYXRBY2s9dHJ1ZX1fc2V0UHJlc2VuY2UoaWQscHJlc2VuY2Upe2lmKHRoaXMucHJlc2VuY2VzLmdldChpZCkpe3RoaXMucHJlc2VuY2VzLmdldChpZCkudXBkYXRlKHByZXNlbmNlKTtyZXR1cm59dGhpcy5wcmVzZW5jZXMuc2V0KGlkLG5ldyBQcmVzZW5jZShwcmVzZW5jZSkpfV9ldmFsKHNjcmlwdCl7cmV0dXJuIGV2YWwoc2NyaXB0KX1fdmFsaWRhdGVPcHRpb25zKG9wdGlvbnM9dGhpcy5vcHRpb25zKXtpZih0eXBlb2Ygb3B0aW9ucy5zaGFyZENvdW50IT09Im51bWJlciJ8fGlzTmFOKG9wdGlvbnMuc2hhcmRDb3VudCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBzaGFyZENvdW50IG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLiIpfWlmKHR5cGVvZiBvcHRpb25zLnNoYXJkSWQhPT0ibnVtYmVyInx8aXNOYU4ob3B0aW9ucy5zaGFyZElkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIHNoYXJkSWQgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuIil9aWYob3B0aW9ucy5zaGFyZENvdW50PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBzaGFyZENvdW50IG9wdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDAuIik7aWYob3B0aW9ucy5zaGFyZElkPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRoZSBzaGFyZElkIG9wdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDAuIik7aWYob3B0aW9ucy5zaGFyZElkIT09MCYmb3B0aW9ucy5zaGFyZElkPj1vcHRpb25zLnNoYXJkQ291bnQpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJUaGUgc2hhcmRJZCBvcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gc2hhcmRDb3VudC4iKX1pZih0eXBlb2Ygb3B0aW9ucy5tZXNzYWdlQ2FjaGVNYXhTaXplIT09Im51bWJlciJ8fGlzTmFOKG9wdGlvbnMubWVzc2FnZUNhY2hlTWF4U2l6ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBtZXNzYWdlQ2FjaGVNYXhTaXplIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLiIpfWlmKHR5cGVvZiBvcHRpb25zLm1lc3NhZ2VDYWNoZUxpZmV0aW1lIT09Im51bWJlciJ8fGlzTmFOKG9wdGlvbnMubWVzc2FnZUNhY2hlTGlmZXRpbWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgbWVzc2FnZUNhY2hlTGlmZXRpbWUgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuIil9aWYodHlwZW9mIG9wdGlvbnMubWVzc2FnZVN3ZWVwSW50ZXJ2YWwhPT0ibnVtYmVyInx8aXNOYU4ob3B0aW9ucy5tZXNzYWdlU3dlZXBJbnRlcnZhbCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBtZXNzYWdlU3dlZXBJbnRlcnZhbCBvcHRpb24gbXVzdCBiZSBhIG51bWJlci4iKX1pZih0eXBlb2Ygb3B0aW9ucy5mZXRjaEFsbE1lbWJlcnMhPT0iYm9vbGVhbiIpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmZXRjaEFsbE1lbWJlcnMgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpfWlmKHR5cGVvZiBvcHRpb25zLmRpc2FibGVFdmVyeW9uZSE9PSJib29sZWFuIil7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGRpc2FibGVFdmVyeW9uZSBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uIil9aWYodHlwZW9mIG9wdGlvbnMucmVzdFdzQnJpZGdlVGltZW91dCE9PSJudW1iZXIifHxpc05hTihvcHRpb25zLnJlc3RXc0JyaWRnZVRpbWVvdXQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgcmVzdFdzQnJpZGdlVGltZW91dCBvcHRpb24gbXVzdCBiZSBhIG51bWJlci4iKX1pZighKG9wdGlvbnMuZGlzYWJsZWRFdmVudHMgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGRpc2FibGVkRXZlbnRzIG9wdGlvbiBtdXN0IGJlIGFuIEFycmF5LiIpfX1tb2R1bGUuZXhwb3J0cz1DbGllbnR9KS5jYWxsKHRoaXMscmVxdWlyZSgiX3Byb2Nlc3MiKSl9LHsiLi4vc2hhcmRpbmcvU2hhcmRDbGllbnRVdGlsIjo5OCwiLi4vc3RydWN0dXJlcy9QcmVzZW5jZSI6MTIwLCIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi4vdXRpbC9NZXJnZURlZmF1bHQiOjE0MCwiLi9DbGllbnREYXRhTWFuYWdlciI6NCwiLi9DbGllbnREYXRhUmVzb2x2ZXIiOjUsIi4vQ2xpZW50TWFuYWdlciI6NiwiLi9hY3Rpb25zL0FjdGlvbnNNYW5hZ2VyIjo5LCIuL3Jlc3QvUkVTVE1hbmFnZXIiOjM3LCIuL3ZvaWNlL0NsaWVudFZvaWNlTWFuYWdlciI6NDMsIi4vd2Vic29ja2V0L1dlYlNvY2tldE1hbmFnZXIiOjU5LF9wcm9jZXNzOjE5MyxldmVudHM6MTc1fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgY2xvbmVPYmplY3Q9cmVxdWlyZSgiLi4vdXRpbC9DbG9uZU9iamVjdCIpO2NvbnN0IEd1aWxkPXJlcXVpcmUoIi4uL3N0cnVjdHVyZXMvR3VpbGQiKTtjb25zdCBVc2VyPXJlcXVpcmUoIi4uL3N0cnVjdHVyZXMvVXNlciIpO2NvbnN0IERNQ2hhbm5lbD1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL0RNQ2hhbm5lbCIpO2NvbnN0IEVtb2ppPXJlcXVpcmUoIi4uL3N0cnVjdHVyZXMvRW1vamkiKTtjb25zdCBUZXh0Q2hhbm5lbD1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL1RleHRDaGFubmVsIik7Y29uc3QgVm9pY2VDaGFubmVsPXJlcXVpcmUoIi4uL3N0cnVjdHVyZXMvVm9pY2VDaGFubmVsIik7Y29uc3QgR3VpbGRDaGFubmVsPXJlcXVpcmUoIi4uL3N0cnVjdHVyZXMvR3VpbGRDaGFubmVsIik7Y29uc3QgR3JvdXBETUNoYW5uZWw9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9Hcm91cERNQ2hhbm5lbCIpO2NsYXNzIENsaWVudERhdGFNYW5hZ2Vye2NvbnN0cnVjdG9yKGNsaWVudCl7dGhpcy5jbGllbnQ9Y2xpZW50fWdldCBwYXN0UmVhZHkoKXtyZXR1cm4gdGhpcy5jbGllbnQud3Muc3RhdHVzPT09Q29uc3RhbnRzLlN0YXR1cy5SRUFEWX1uZXdHdWlsZChkYXRhKXtjb25zdCBhbHJlYWR5PXRoaXMuY2xpZW50Lmd1aWxkcy5oYXMoZGF0YS5pZCk7Y29uc3QgZ3VpbGQ9bmV3IEd1aWxkKHRoaXMuY2xpZW50LGRhdGEpO3RoaXMuY2xpZW50Lmd1aWxkcy5zZXQoZ3VpbGQuaWQsZ3VpbGQpO2lmKHRoaXMucGFzdFJlYWR5JiYhYWxyZWFkeSl7aWYodGhpcy5jbGllbnQub3B0aW9ucy5mZXRjaEFsbE1lbWJlcnMpe2d1aWxkLmZldGNoTWVtYmVycygpLnRoZW4oKCk9Pnt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfQ1JFQVRFLGd1aWxkKX0pfWVsc2V7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX0NSRUFURSxndWlsZCl9fXJldHVybiBndWlsZH1uZXdVc2VyKGRhdGEpe2lmKHRoaXMuY2xpZW50LnVzZXJzLmhhcyhkYXRhLmlkKSlyZXR1cm4gdGhpcy5jbGllbnQudXNlcnMuZ2V0KGRhdGEuaWQpO2NvbnN0IHVzZXI9bmV3IFVzZXIodGhpcy5jbGllbnQsZGF0YSk7dGhpcy5jbGllbnQudXNlcnMuc2V0KHVzZXIuaWQsdXNlcik7cmV0dXJuIHVzZXJ9bmV3Q2hhbm5lbChkYXRhLGd1aWxkKXtjb25zdCBhbHJlYWR5PXRoaXMuY2xpZW50LmNoYW5uZWxzLmhhcyhkYXRhLmlkKTtsZXQgY2hhbm5lbDtpZihkYXRhLnR5cGU9PT1Db25zdGFudHMuQ2hhbm5lbFR5cGVzLkRNKXtjaGFubmVsPW5ldyBETUNoYW5uZWwodGhpcy5jbGllbnQsZGF0YSl9ZWxzZSBpZihkYXRhLnR5cGU9PT1Db25zdGFudHMuQ2hhbm5lbFR5cGVzLmdyb3VwRE0pe2NoYW5uZWw9bmV3IEdyb3VwRE1DaGFubmVsKHRoaXMuY2xpZW50LGRhdGEpfWVsc2V7Z3VpbGQ9Z3VpbGR8fHRoaXMuY2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZF9pZCk7aWYoZ3VpbGQpe2lmKGRhdGEudHlwZT09PUNvbnN0YW50cy5DaGFubmVsVHlwZXMudGV4dCl7Y2hhbm5lbD1uZXcgVGV4dENoYW5uZWwoZ3VpbGQsZGF0YSk7Z3VpbGQuY2hhbm5lbHMuc2V0KGNoYW5uZWwuaWQsY2hhbm5lbCl9ZWxzZSBpZihkYXRhLnR5cGU9PT1Db25zdGFudHMuQ2hhbm5lbFR5cGVzLnZvaWNlKXtjaGFubmVsPW5ldyBWb2ljZUNoYW5uZWwoZ3VpbGQsZGF0YSk7Z3VpbGQuY2hhbm5lbHMuc2V0KGNoYW5uZWwuaWQsY2hhbm5lbCl9fX1pZihjaGFubmVsKXtpZih0aGlzLnBhc3RSZWFkeSYmIWFscmVhZHkpdGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkNIQU5ORUxfQ1JFQVRFLGNoYW5uZWwpO3RoaXMuY2xpZW50LmNoYW5uZWxzLnNldChjaGFubmVsLmlkLGNoYW5uZWwpO3JldHVybiBjaGFubmVsfXJldHVybiBudWxsfW5ld0Vtb2ppKGRhdGEsZ3VpbGQpe2NvbnN0IGFscmVhZHk9Z3VpbGQuZW1vamlzLmhhcyhkYXRhLmlkKTtpZihkYXRhJiYhYWxyZWFkeSl7bGV0IGVtb2ppPW5ldyBFbW9qaShndWlsZCxkYXRhKTt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfRU1PSklfQ1JFQVRFLGVtb2ppKTtndWlsZC5lbW9qaXMuc2V0KGVtb2ppLmlkLGVtb2ppKTtyZXR1cm4gZW1vaml9ZWxzZSBpZihhbHJlYWR5KXtyZXR1cm4gZ3VpbGQuZW1vamlzLmdldChkYXRhLmlkKX1yZXR1cm4gbnVsbH1raWxsRW1vamkoZW1vamkpe2lmKCEoZW1vamkgaW5zdGFuY2VvZiBFbW9qaSYmZW1vamkuZ3VpbGQpKXJldHVybjt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfRU1PSklfREVMRVRFLGVtb2ppKTtlbW9qaS5ndWlsZC5lbW9qaXMuZGVsZXRlKGVtb2ppLmlkKX1raWxsR3VpbGQoZ3VpbGQpe2NvbnN0IGFscmVhZHk9dGhpcy5jbGllbnQuZ3VpbGRzLmhhcyhndWlsZC5pZCk7dGhpcy5jbGllbnQuZ3VpbGRzLmRlbGV0ZShndWlsZC5pZCk7aWYoYWxyZWFkeSYmdGhpcy5wYXN0UmVhZHkpdGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX0RFTEVURSxndWlsZCl9a2lsbFVzZXIodXNlcil7dGhpcy5jbGllbnQudXNlcnMuZGVsZXRlKHVzZXIuaWQpfWtpbGxDaGFubmVsKGNoYW5uZWwpe3RoaXMuY2xpZW50LmNoYW5uZWxzLmRlbGV0ZShjaGFubmVsLmlkKTtpZihjaGFubmVsIGluc3RhbmNlb2YgR3VpbGRDaGFubmVsKWNoYW5uZWwuZ3VpbGQuY2hhbm5lbHMuZGVsZXRlKGNoYW5uZWwuaWQpfXVwZGF0ZUd1aWxkKGN1cnJlbnRHdWlsZCxuZXdEYXRhKXtjb25zdCBvbGRHdWlsZD1jbG9uZU9iamVjdChjdXJyZW50R3VpbGQpO2N1cnJlbnRHdWlsZC5zZXR1cChuZXdEYXRhKTtpZih0aGlzLnBhc3RSZWFkeSl0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfVVBEQVRFLG9sZEd1aWxkLGN1cnJlbnRHdWlsZCl9dXBkYXRlQ2hhbm5lbChjdXJyZW50Q2hhbm5lbCxuZXdEYXRhKXtjdXJyZW50Q2hhbm5lbC5zZXR1cChuZXdEYXRhKX11cGRhdGVFbW9qaShjdXJyZW50RW1vamksbmV3RGF0YSl7Y29uc3Qgb2xkRW1vamk9Y2xvbmVPYmplY3QoY3VycmVudEVtb2ppKTtjdXJyZW50RW1vamkuc2V0dXAobmV3RGF0YSk7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX0VNT0pJX1VQREFURSxvbGRFbW9qaSxjdXJyZW50RW1vamkpfX1tb2R1bGUuZXhwb3J0cz1DbGllbnREYXRhTWFuYWdlcn0seyIuLi9zdHJ1Y3R1cmVzL0RNQ2hhbm5lbCI6MTAzLCIuLi9zdHJ1Y3R1cmVzL0Vtb2ppIjoxMDQsIi4uL3N0cnVjdHVyZXMvR3JvdXBETUNoYW5uZWwiOjEwNiwiLi4vc3RydWN0dXJlcy9HdWlsZCI6MTA3LCIuLi9zdHJ1Y3R1cmVzL0d1aWxkQ2hhbm5lbCI6MTA4LCIuLi9zdHJ1Y3R1cmVzL1RleHRDaGFubmVsIjoxMjQsIi4uL3N0cnVjdHVyZXMvVXNlciI6MTI1LCIuLi9zdHJ1Y3R1cmVzL1ZvaWNlQ2hhbm5lbCI6MTI4LCIuLi91dGlsL0Nsb25lT2JqZWN0IjoxMzIsIi4uL3V0aWwvQ29uc3RhbnRzIjoxMzR9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oQnVmZmVyKXtjb25zdCBwYXRoPXJlcXVpcmUoInBhdGgiKTtjb25zdCBmcz1yZXF1aXJlKCJmcyIpO2NvbnN0IHJlcXVlc3Q9cmVxdWlyZSgic3VwZXJhZ2VudCIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IGNvbnZlcnRBcnJheUJ1ZmZlcj1yZXF1aXJlKCIuLi91dGlsL0NvbnZlcnRBcnJheUJ1ZmZlciIpO2NvbnN0IFVzZXI9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9Vc2VyIik7Y29uc3QgTWVzc2FnZT1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL01lc3NhZ2UiKTtjb25zdCBHdWlsZD1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL0d1aWxkIik7Y29uc3QgQ2hhbm5lbD1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL0NoYW5uZWwiKTtjb25zdCBHdWlsZE1lbWJlcj1yZXF1aXJlKCIuLi9zdHJ1Y3R1cmVzL0d1aWxkTWVtYmVyIik7Y29uc3QgRW1vamk9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9FbW9qaSIpO2NvbnN0IFJlYWN0aW9uRW1vamk9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9SZWFjdGlvbkVtb2ppIik7Y2xhc3MgQ2xpZW50RGF0YVJlc29sdmVye2NvbnN0cnVjdG9yKGNsaWVudCl7dGhpcy5jbGllbnQ9Y2xpZW50fXJlc29sdmVVc2VyKHVzZXIpe2lmKHVzZXIgaW5zdGFuY2VvZiBVc2VyKXJldHVybiB1c2VyO2lmKHR5cGVvZiB1c2VyPT09InN0cmluZyIpcmV0dXJuIHRoaXMuY2xpZW50LnVzZXJzLmdldCh1c2VyKXx8bnVsbDtpZih1c2VyIGluc3RhbmNlb2YgR3VpbGRNZW1iZXIpcmV0dXJuIHVzZXIudXNlcjtpZih1c2VyIGluc3RhbmNlb2YgTWVzc2FnZSlyZXR1cm4gdXNlci5hdXRob3I7aWYodXNlciBpbnN0YW5jZW9mIEd1aWxkKXJldHVybiB1c2VyLm93bmVyO3JldHVybiBudWxsfXJlc29sdmVVc2VySUQodXNlcil7aWYodXNlciBpbnN0YW5jZW9mIFVzZXJ8fHVzZXIgaW5zdGFuY2VvZiBHdWlsZE1lbWJlcilyZXR1cm4gdXNlci5pZDtpZih0eXBlb2YgdXNlcj09PSJzdHJpbmciKXJldHVybiB1c2VyfHxudWxsO2lmKHVzZXIgaW5zdGFuY2VvZiBNZXNzYWdlKXJldHVybiB1c2VyLmF1dGhvci5pZDtpZih1c2VyIGluc3RhbmNlb2YgR3VpbGQpcmV0dXJuIHVzZXIub3duZXJJRDtyZXR1cm4gbnVsbH1yZXNvbHZlR3VpbGQoZ3VpbGQpe2lmKGd1aWxkIGluc3RhbmNlb2YgR3VpbGQpcmV0dXJuIGd1aWxkO2lmKHR5cGVvZiBndWlsZD09PSJzdHJpbmciKXJldHVybiB0aGlzLmNsaWVudC5ndWlsZHMuZ2V0KGd1aWxkKXx8bnVsbDtyZXR1cm4gbnVsbH1yZXNvbHZlR3VpbGRNZW1iZXIoZ3VpbGQsdXNlcil7aWYodXNlciBpbnN0YW5jZW9mIEd1aWxkTWVtYmVyKXJldHVybiB1c2VyO2d1aWxkPXRoaXMucmVzb2x2ZUd1aWxkKGd1aWxkKTt1c2VyPXRoaXMucmVzb2x2ZVVzZXIodXNlcik7aWYoIWd1aWxkfHwhdXNlcilyZXR1cm4gbnVsbDtyZXR1cm4gZ3VpbGQubWVtYmVycy5nZXQodXNlci5pZCl8fG51bGx9cmVzb2x2ZUNoYW5uZWwoY2hhbm5lbCl7aWYoY2hhbm5lbCBpbnN0YW5jZW9mIENoYW5uZWwpcmV0dXJuIGNoYW5uZWw7aWYoY2hhbm5lbCBpbnN0YW5jZW9mIE1lc3NhZ2UpcmV0dXJuIGNoYW5uZWwuY2hhbm5lbDtpZihjaGFubmVsIGluc3RhbmNlb2YgR3VpbGQpcmV0dXJuIGNoYW5uZWwuY2hhbm5lbHMuZ2V0KGNoYW5uZWwuaWQpfHxudWxsO2lmKHR5cGVvZiBjaGFubmVsPT09InN0cmluZyIpcmV0dXJuIHRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChjaGFubmVsKXx8bnVsbDtyZXR1cm4gbnVsbH1yZXNvbHZlSW52aXRlQ29kZShkYXRhKXtjb25zdCBpbnZpdGVSZWdleD0vZGlzY29yZCg/OmFwcCk/XC4oPzpnZ3xjb21cL2ludml0ZSlcLyhbYS16MC05XXs1fSkvaTtjb25zdCBtYXRjaD1pbnZpdGVSZWdleC5leGVjKGRhdGEpO2lmKG1hdGNoJiZtYXRjaFsxXSlyZXR1cm4gbWF0Y2hbMV07cmV0dXJuIGRhdGF9cmVzb2x2ZVBlcm1pc3Npb24ocGVybWlzc2lvbil7aWYodHlwZW9mIHBlcm1pc3Npb249PT0ic3RyaW5nIilwZXJtaXNzaW9uPUNvbnN0YW50cy5QZXJtaXNzaW9uRmxhZ3NbcGVybWlzc2lvbl07aWYodHlwZW9mIHBlcm1pc3Npb24hPT0ibnVtYmVyInx8cGVybWlzc2lvbjwxKXRocm93IG5ldyBFcnJvcihDb25zdGFudHMuRXJyb3JzLk5PVF9BX1BFUk1JU1NJT04pO3JldHVybiBwZXJtaXNzaW9ufXJlc29sdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucyl7bGV0IGJpdGZpZWxkPTA7Zm9yKGNvbnN0IHBlcm1pc3Npb24gb2YgcGVybWlzc2lvbnMpYml0ZmllbGR8PXRoaXMucmVzb2x2ZVBlcm1pc3Npb24ocGVybWlzc2lvbik7cmV0dXJuIGJpdGZpZWxkfXJlc29sdmVTdHJpbmcoZGF0YSl7aWYodHlwZW9mIGRhdGE9PT0ic3RyaW5nIilyZXR1cm4gZGF0YTtpZihkYXRhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGRhdGEuam9pbigiXG4iKTtyZXR1cm4gU3RyaW5nKGRhdGEpfXJlc29sdmVCYXNlNjQoZGF0YSl7aWYoZGF0YSBpbnN0YW5jZW9mIEJ1ZmZlcilyZXR1cm5gZGF0YTppbWFnZS9qcGc7YmFzZTY0LCR7ZGF0YS50b1N0cmluZygiYmFzZTY0Iil9YDtyZXR1cm4gZGF0YX1yZXNvbHZlQnVmZmVyKHJlc291cmNlKXtpZihyZXNvdXJjZSBpbnN0YW5jZW9mIEJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc291cmNlKTtpZih0aGlzLmNsaWVudC5icm93c2VyJiZyZXNvdXJjZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoY29udmVydEFycmF5QnVmZmVyKHJlc291cmNlKSk7aWYodHlwZW9mIHJlc291cmNlPT09InN0cmluZyIpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57aWYoL15odHRwcz86XC9cLy8udGVzdChyZXNvdXJjZSkpe2NvbnN0IHJlcT1yZXF1ZXN0LmdldChyZXNvdXJjZSkuc2V0KCJDb250ZW50LVR5cGUiLCJibG9iIik7aWYodGhpcy5jbGllbnQuYnJvd3NlcilyZXEucmVzcG9uc2VUeXBlKCJhcnJheWJ1ZmZlciIpO3JlcS5lbmQoKGVycixyZXMpPT57aWYoZXJyKXJldHVybiByZWplY3QoZXJyKTtpZih0aGlzLmNsaWVudC5icm93c2VyKXJldHVybiByZXNvbHZlKGNvbnZlcnRBcnJheUJ1ZmZlcihyZXMueGhyLnJlc3BvbnNlKSk7aWYoIShyZXMuYm9keSBpbnN0YW5jZW9mIEJ1ZmZlcikpcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCJUaGUgcmVzcG9uc2UgYm9keSBpc24ndCBhIEJ1ZmZlci4iKSk7cmV0dXJuIHJlc29sdmUocmVzLmJvZHkpfSl9ZWxzZXtjb25zdCBmaWxlPXBhdGgucmVzb2x2ZShyZXNvdXJjZSk7ZnMuc3RhdChmaWxlLChlcnIsc3RhdHMpPT57aWYoZXJyKXJlamVjdChlcnIpO2lmKCFzdGF0c3x8IXN0YXRzLmlzRmlsZSgpKXRocm93IG5ldyBFcnJvcihgVGhlIGZpbGUgY291bGQgbm90IGJlIGZvdW5kOiAke2ZpbGV9YCk7ZnMucmVhZEZpbGUoZmlsZSwoZXJyMixkYXRhKT0+e2lmKGVycjIpcmVqZWN0KGVycjIpO2Vsc2UgcmVzb2x2ZShkYXRhKX0pfSl9fSl9cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoIlRoZSByZXNvdXJjZSBtdXN0IGJlIGEgc3RyaW5nIG9yIEJ1ZmZlci4iKSl9cmVzb2x2ZUVtb2ppSWRlbnRpZmllcihlbW9qaSl7aWYoZW1vamkgaW5zdGFuY2VvZiBFbW9qaXx8ZW1vamkgaW5zdGFuY2VvZiBSZWFjdGlvbkVtb2ppKXJldHVybiBlbW9qaS5pZGVudGlmaWVyO2lmKHR5cGVvZiBlbW9qaT09PSJzdHJpbmciKXtpZighZW1vamkuaW5jbHVkZXMoIiUiKSlyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVtb2ppKX1yZXR1cm4gbnVsbH19bW9kdWxlLmV4cG9ydHM9Q2xpZW50RGF0YVJlc29sdmVyfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiLi4vc3RydWN0dXJlcy9DaGFubmVsIjoxMDAsIi4uL3N0cnVjdHVyZXMvRW1vamkiOjEwNCwiLi4vc3RydWN0dXJlcy9HdWlsZCI6MTA3LCIuLi9zdHJ1Y3R1cmVzL0d1aWxkTWVtYmVyIjoxMDksIi4uL3N0cnVjdHVyZXMvTWVzc2FnZSI6MTExLCIuLi9zdHJ1Y3R1cmVzL1JlYWN0aW9uRW1vamkiOjEyMSwiLi4vc3RydWN0dXJlcy9Vc2VyIjoxMjUsIi4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4uL3V0aWwvQ29udmVydEFycmF5QnVmZmVyIjoxMzUsYnVmZmVyOjE3MyxmczoxNjYscGF0aDoxOTEsc3VwZXJhZ2VudDoxNTl9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBDbGllbnRNYW5hZ2Vye2NvbnN0cnVjdG9yKGNsaWVudCl7dGhpcy5jbGllbnQ9Y2xpZW50O3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWw9bnVsbH1jb25uZWN0VG9XZWJTb2NrZXQodG9rZW4scmVzb2x2ZSxyZWplY3Qpe3RoaXMuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5ERUJVRyxgQXV0aGVudGljYXRlZCB1c2luZyB0b2tlbiAke3Rva2VufWApO3RoaXMuY2xpZW50LnRva2VuPXRva2VuO2NvbnN0IHRpbWVvdXQ9dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+cmVqZWN0KG5ldyBFcnJvcihDb25zdGFudHMuRXJyb3JzLlRPT0tfVE9PX0xPTkcpKSwxZTMqMzAwKTt0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZ2V0R2F0ZXdheSgpLnRoZW4oZ2F0ZXdheT0+e3RoaXMuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5ERUJVRyxgVXNpbmcgZ2F0ZXdheSAke2dhdGV3YXl9YCk7dGhpcy5jbGllbnQud3MuY29ubmVjdChnYXRld2F5KTt0aGlzLmNsaWVudC53cy5vbmNlKCJjbG9zZSIsZXZlbnQ9PntpZihldmVudC5jb2RlPT09NDAwNClyZWplY3QobmV3IEVycm9yKENvbnN0YW50cy5FcnJvcnMuQkFEX0xPR0lOKSk7aWYoZXZlbnQuY29kZT09PTQwMTApcmVqZWN0KG5ldyBFcnJvcihDb25zdGFudHMuRXJyb3JzLklOVkFMSURfU0hBUkQpKX0pO3RoaXMuY2xpZW50Lm9uY2UoQ29uc3RhbnRzLkV2ZW50cy5SRUFEWSwoKT0+e3Jlc29sdmUodG9rZW4pO3RoaXMuY2xpZW50LmNsZWFyVGltZW91dCh0aW1lb3V0KX0pfSxyZWplY3QpfXNldHVwS2VlcEFsaXZlKHRpbWUpe3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWw9dGhpcy5jbGllbnQuc2V0SW50ZXJ2YWwoKCk9PnRoaXMuY2xpZW50LndzLmhlYXJ0YmVhdCh0cnVlKSx0aW1lKX1kZXN0cm95KCl7dGhpcy5jbGllbnQud3MuZGVzdHJveSgpO2lmKHRoaXMuY2xpZW50LnVzZXIuYm90KXt0aGlzLmNsaWVudC50b2tlbj1udWxsO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX1lbHNle3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMubG9nb3V0KCkudGhlbigoKT0+e3RoaXMuY2xpZW50LnRva2VuPW51bGx9KX19fW1vZHVsZS5leHBvcnRzPUNsaWVudE1hbmFnZXJ9LHsiLi4vdXRpbC9Db25zdGFudHMiOjEzNH1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFdlYmhvb2s9cmVxdWlyZSgiLi4vc3RydWN0dXJlcy9XZWJob29rIik7Y29uc3QgUkVTVE1hbmFnZXI9cmVxdWlyZSgiLi9yZXN0L1JFU1RNYW5hZ2VyIik7Y29uc3QgQ2xpZW50RGF0YVJlc29sdmVyPXJlcXVpcmUoIi4vQ2xpZW50RGF0YVJlc29sdmVyIik7Y29uc3QgbWVyZ2VEZWZhdWx0PXJlcXVpcmUoIi4uL3V0aWwvTWVyZ2VEZWZhdWx0Iik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgV2ViaG9va0NsaWVudCBleHRlbmRzIFdlYmhvb2t7Y29uc3RydWN0b3IoaWQsdG9rZW4sb3B0aW9ucyl7c3VwZXIobnVsbCxpZCx0b2tlbik7dGhpcy5vcHRpb25zPW1lcmdlRGVmYXVsdChDb25zdGFudHMuRGVmYXVsdE9wdGlvbnMsb3B0aW9ucyk7dGhpcy5yZXN0PW5ldyBSRVNUTWFuYWdlcih0aGlzKTt0aGlzLnJlc29sdmVyPW5ldyBDbGllbnREYXRhUmVzb2x2ZXIodGhpcyl9fW1vZHVsZS5leHBvcnRzPVdlYmhvb2tDbGllbnR9LHsiLi4vc3RydWN0dXJlcy9XZWJob29rIjoxMjksIi4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4uL3V0aWwvTWVyZ2VEZWZhdWx0IjoxNDAsIi4vQ2xpZW50RGF0YVJlc29sdmVyIjo1LCIuL3Jlc3QvUkVTVE1hbmFnZXIiOjM3fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgR2VuZXJpY0FjdGlvbntjb25zdHJ1Y3RvcihjbGllbnQpe3RoaXMuY2xpZW50PWNsaWVudH1oYW5kbGUoZGF0YSl7cmV0dXJuIGRhdGF9fW1vZHVsZS5leHBvcnRzPUdlbmVyaWNBY3Rpb259LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBBY3Rpb25zTWFuYWdlcntjb25zdHJ1Y3RvcihjbGllbnQpe3RoaXMuY2xpZW50PWNsaWVudDt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vTWVzc2FnZUNyZWF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vTWVzc2FnZURlbGV0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vTWVzc2FnZURlbGV0ZUJ1bGsiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL01lc3NhZ2VVcGRhdGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL01lc3NhZ2VSZWFjdGlvbkFkZCIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vTWVzc2FnZVJlYWN0aW9uUmVtb3ZlIikpO3RoaXMucmVnaXN0ZXIocmVxdWlyZSgiLi9NZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGwiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0NoYW5uZWxDcmVhdGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0NoYW5uZWxEZWxldGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0NoYW5uZWxVcGRhdGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0d1aWxkRGVsZXRlIikpO3RoaXMucmVnaXN0ZXIocmVxdWlyZSgiLi9HdWlsZFVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRNZW1iZXJHZXQiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0d1aWxkTWVtYmVyUmVtb3ZlIikpO3RoaXMucmVnaXN0ZXIocmVxdWlyZSgiLi9HdWlsZEJhblJlbW92ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRSb2xlQ3JlYXRlIikpO3RoaXMucmVnaXN0ZXIocmVxdWlyZSgiLi9HdWlsZFJvbGVEZWxldGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0d1aWxkUm9sZVVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vVXNlckdldCIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vVXNlclVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vVXNlck5vdGVVcGRhdGUiKSk7dGhpcy5yZWdpc3RlcihyZXF1aXJlKCIuL0d1aWxkU3luYyIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRFbW9qaUNyZWF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRFbW9qaURlbGV0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRFbW9qaVVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKHJlcXVpcmUoIi4vR3VpbGRSb2xlc1Bvc2l0aW9uVXBkYXRlIikpfXJlZ2lzdGVyKEFjdGlvbil7dGhpc1tBY3Rpb24ubmFtZS5yZXBsYWNlKC9BY3Rpb24kLywiIildPW5ldyBBY3Rpb24odGhpcy5jbGllbnQpfX1tb2R1bGUuZXhwb3J0cz1BY3Rpb25zTWFuYWdlcn0seyIuL0NoYW5uZWxDcmVhdGUiOjEwLCIuL0NoYW5uZWxEZWxldGUiOjExLCIuL0NoYW5uZWxVcGRhdGUiOjEyLCIuL0d1aWxkQmFuUmVtb3ZlIjoxMywiLi9HdWlsZERlbGV0ZSI6MTQsIi4vR3VpbGRFbW9qaUNyZWF0ZSI6MTUsIi4vR3VpbGRFbW9qaURlbGV0ZSI6MTYsIi4vR3VpbGRFbW9qaVVwZGF0ZSI6MTcsIi4vR3VpbGRNZW1iZXJHZXQiOjE4LCIuL0d1aWxkTWVtYmVyUmVtb3ZlIjoxOSwiLi9HdWlsZFJvbGVDcmVhdGUiOjIwLCIuL0d1aWxkUm9sZURlbGV0ZSI6MjEsIi4vR3VpbGRSb2xlVXBkYXRlIjoyMiwiLi9HdWlsZFJvbGVzUG9zaXRpb25VcGRhdGUiOjIzLCIuL0d1aWxkU3luYyI6MjQsIi4vR3VpbGRVcGRhdGUiOjI1LCIuL01lc3NhZ2VDcmVhdGUiOjI2LCIuL01lc3NhZ2VEZWxldGUiOjI3LCIuL01lc3NhZ2VEZWxldGVCdWxrIjoyOCwiLi9NZXNzYWdlUmVhY3Rpb25BZGQiOjI5LCIuL01lc3NhZ2VSZWFjdGlvblJlbW92ZSI6MzAsIi4vTWVzc2FnZVJlYWN0aW9uUmVtb3ZlQWxsIjozMSwiLi9NZXNzYWdlVXBkYXRlIjozMiwiLi9Vc2VyR2V0IjozMywiLi9Vc2VyTm90ZVVwZGF0ZSI6MzQsIi4vVXNlclVwZGF0ZSI6MzV9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y2xhc3MgQ2hhbm5lbENyZWF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NvbnN0IGNoYW5uZWw9Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld0NoYW5uZWwoZGF0YSk7cmV0dXJue2NoYW5uZWw6Y2hhbm5lbH19fW1vZHVsZS5leHBvcnRzPUNoYW5uZWxDcmVhdGVBY3Rpb259LHsiLi9BY3Rpb24iOjh9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y2xhc3MgQ2hhbm5lbERlbGV0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntjb25zdHJ1Y3RvcihjbGllbnQpe3N1cGVyKGNsaWVudCk7dGhpcy5kZWxldGVkPW5ldyBNYXB9aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtsZXQgY2hhbm5lbD1jbGllbnQuY2hhbm5lbHMuZ2V0KGRhdGEuaWQpO2lmKGNoYW5uZWwpe2NsaWVudC5kYXRhTWFuYWdlci5raWxsQ2hhbm5lbChjaGFubmVsKTt0aGlzLmRlbGV0ZWQuc2V0KGNoYW5uZWwuaWQsY2hhbm5lbCk7dGhpcy5zY2hlZHVsZUZvckRlbGV0aW9uKGNoYW5uZWwuaWQpfWVsc2V7Y2hhbm5lbD10aGlzLmRlbGV0ZWQuZ2V0KGRhdGEuaWQpfHxudWxsfXJldHVybntjaGFubmVsOmNoYW5uZWx9fXNjaGVkdWxlRm9yRGVsZXRpb24oaWQpe3RoaXMuY2xpZW50LnNldFRpbWVvdXQoKCk9PnRoaXMuZGVsZXRlZC5kZWxldGUoaWQpLHRoaXMuY2xpZW50Lm9wdGlvbnMucmVzdFdzQnJpZGdlVGltZW91dCl9fW1vZHVsZS5leHBvcnRzPUNoYW5uZWxEZWxldGVBY3Rpb259LHsiLi9BY3Rpb24iOjh9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgY2xvbmVPYmplY3Q9cmVxdWlyZSgiLi4vLi4vdXRpbC9DbG9uZU9iamVjdCIpO2NsYXNzIENoYW5uZWxVcGRhdGVBY3Rpb24gZXh0ZW5kcyBBY3Rpb257aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBjaGFubmVsPWNsaWVudC5jaGFubmVscy5nZXQoZGF0YS5pZCk7aWYoY2hhbm5lbCl7Y29uc3Qgb2xkQ2hhbm5lbD1jbG9uZU9iamVjdChjaGFubmVsKTtjaGFubmVsLnNldHVwKGRhdGEpO2NsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuQ0hBTk5FTF9VUERBVEUsb2xkQ2hhbm5lbCxjaGFubmVsKTtyZXR1cm57b2xkOm9sZENoYW5uZWwsdXBkYXRlZDpjaGFubmVsfX1yZXR1cm57b2xkOm51bGwsdXBkYXRlZDpudWxsfX19bW9kdWxlLmV4cG9ydHM9Q2hhbm5lbFVwZGF0ZUFjdGlvbn0seyIuLi8uLi91dGlsL0Nsb25lT2JqZWN0IjoxMzIsIi4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWN0aW9uIjo4fV0sMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFjdGlvbj1yZXF1aXJlKCIuL0FjdGlvbiIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIEd1aWxkQmFuUmVtb3ZlIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7Y29uc3QgZ3VpbGQ9Y2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZF9pZCk7Y29uc3QgdXNlcj1jbGllbnQuZGF0YU1hbmFnZXIubmV3VXNlcihkYXRhLnVzZXIpO2lmKGd1aWxkJiZ1c2VyKWNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfQkFOX1JFTU9WRSxndWlsZCx1c2VyKX19bW9kdWxlLmV4cG9ydHM9R3VpbGRCYW5SZW1vdmV9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwxNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgR3VpbGREZWxldGVBY3Rpb24gZXh0ZW5kcyBBY3Rpb257Y29uc3RydWN0b3IoY2xpZW50KXtzdXBlcihjbGllbnQpO3RoaXMuZGVsZXRlZD1uZXcgTWFwfWhhbmRsZShkYXRhKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7bGV0IGd1aWxkPWNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuaWQpO2lmKGd1aWxkKXtpZihndWlsZC5hdmFpbGFibGUmJmRhdGEudW5hdmFpbGFibGUpe2d1aWxkLmF2YWlsYWJsZT1mYWxzZTtjbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX1VOQVZBSUxBQkxFLGd1aWxkKTtyZXR1cm57Z3VpbGQ6bnVsbH19Y2xpZW50Lmd1aWxkcy5kZWxldGUoZ3VpbGQuaWQpO3RoaXMuZGVsZXRlZC5zZXQoZ3VpbGQuaWQsZ3VpbGQpO3RoaXMuc2NoZWR1bGVGb3JEZWxldGlvbihndWlsZC5pZCl9ZWxzZXtndWlsZD10aGlzLmRlbGV0ZWQuZ2V0KGRhdGEuaWQpfHxudWxsfXJldHVybntndWlsZDpndWlsZH19c2NoZWR1bGVGb3JEZWxldGlvbihpZCl7dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+dGhpcy5kZWxldGVkLmRlbGV0ZShpZCksdGhpcy5jbGllbnQub3B0aW9ucy5yZXN0V3NCcmlkZ2VUaW1lb3V0KX19bW9kdWxlLmV4cG9ydHM9R3VpbGREZWxldGVBY3Rpb259LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y2xhc3MgR3VpbGRFbW9qaUNyZWF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZ3VpbGQsY3JlYXRlZEVtb2ppKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7Y29uc3QgZW1vamk9Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld0Vtb2ppKGNyZWF0ZWRFbW9qaSxndWlsZCk7cmV0dXJue2Vtb2ppOmVtb2ppfX19bW9kdWxlLmV4cG9ydHM9R3VpbGRFbW9qaUNyZWF0ZUFjdGlvbn0seyIuL0FjdGlvbiI6OH1dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjbGFzcyBHdWlsZEVtb2ppRGVsZXRlQWN0aW9uIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShlbW9qaSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NsaWVudC5kYXRhTWFuYWdlci5raWxsRW1vamkoZW1vamkpO3JldHVybntlbW9qaTplbW9qaX19fW1vZHVsZS5leHBvcnRzPUd1aWxkRW1vamlEZWxldGVBY3Rpb259LHsiLi9BY3Rpb24iOjh9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y2xhc3MgR3VpbGRFbW9qaVVwZGF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUob2xkRW1vamksbmV3RW1vamkpe3RoaXMuY2xpZW50LmRhdGFNYW5hZ2VyLnVwZGF0ZUVtb2ppKG9sZEVtb2ppLG5ld0Vtb2ppKX19bW9kdWxlLmV4cG9ydHM9R3VpbGRFbW9qaVVwZGF0ZUFjdGlvbn0seyIuL0FjdGlvbiI6OH1dLDE4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjbGFzcyBHdWlsZE1lbWJlckdldEFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZ3VpbGQsZGF0YSl7Y29uc3QgbWVtYmVyPWd1aWxkLl9hZGRNZW1iZXIoZGF0YSxmYWxzZSk7cmV0dXJue21lbWJlcjptZW1iZXJ9fX1tb2R1bGUuZXhwb3J0cz1HdWlsZE1lbWJlckdldEFjdGlvbn0seyIuL0FjdGlvbiI6OH1dLDE5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBHdWlsZE1lbWJlclJlbW92ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntjb25zdHJ1Y3RvcihjbGllbnQpe3N1cGVyKGNsaWVudCk7dGhpcy5kZWxldGVkPW5ldyBNYXB9aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZihndWlsZCl7bGV0IG1lbWJlcj1ndWlsZC5tZW1iZXJzLmdldChkYXRhLnVzZXIuaWQpO2lmKG1lbWJlcil7Z3VpbGQubWVtYmVyQ291bnQtLTtndWlsZC5fcmVtb3ZlTWVtYmVyKG1lbWJlcik7dGhpcy5kZWxldGVkLnNldChndWlsZC5pZCtkYXRhLnVzZXIuaWQsbWVtYmVyKTtpZihjbGllbnQuc3RhdHVzPT09Q29uc3RhbnRzLlN0YXR1cy5SRUFEWSljbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX01FTUJFUl9SRU1PVkUsbWVtYmVyKTt0aGlzLnNjaGVkdWxlRm9yRGVsZXRpb24oZ3VpbGQuaWQsZGF0YS51c2VyLmlkKX1lbHNle21lbWJlcj10aGlzLmRlbGV0ZWQuZ2V0KGd1aWxkLmlkK2RhdGEudXNlci5pZCl8fG51bGx9cmV0dXJue2d1aWxkOmd1aWxkLG1lbWJlcjptZW1iZXJ9fXJldHVybntndWlsZDpndWlsZCxtZW1iZXI6bnVsbH19c2NoZWR1bGVGb3JEZWxldGlvbihndWlsZElELHVzZXJJRCl7dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+dGhpcy5kZWxldGVkLmRlbGV0ZShndWlsZElEK3VzZXJJRCksdGhpcy5jbGllbnQub3B0aW9ucy5yZXN0V3NCcmlkZ2VUaW1lb3V0KX19bW9kdWxlLmV4cG9ydHM9R3VpbGRNZW1iZXJSZW1vdmVBY3Rpb259LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwyMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgUm9sZT1yZXF1aXJlKCIuLi8uLi9zdHJ1Y3R1cmVzL1JvbGUiKTtjbGFzcyBHdWlsZFJvbGVDcmVhdGUgZXh0ZW5kcyBBY3Rpb257aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZihndWlsZCl7Y29uc3QgYWxyZWFkeT1ndWlsZC5yb2xlcy5oYXMoZGF0YS5yb2xlLmlkKTtjb25zdCByb2xlPW5ldyBSb2xlKGd1aWxkLGRhdGEucm9sZSk7Z3VpbGQucm9sZXMuc2V0KHJvbGUuaWQscm9sZSk7aWYoIWFscmVhZHkpY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9ST0xFX0NSRUFURSxyb2xlKTtyZXR1cm57cm9sZTpyb2xlfX1yZXR1cm57cm9sZTpudWxsfX19bW9kdWxlLmV4cG9ydHM9R3VpbGRSb2xlQ3JlYXRlfSx7Ii4uLy4uL3N0cnVjdHVyZXMvUm9sZSI6MTIzLCIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0FjdGlvbiI6OH1dLDIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBHdWlsZFJvbGVEZWxldGVBY3Rpb24gZXh0ZW5kcyBBY3Rpb257Y29uc3RydWN0b3IoY2xpZW50KXtzdXBlcihjbGllbnQpO3RoaXMuZGVsZXRlZD1uZXcgTWFwfWhhbmRsZShkYXRhKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7Y29uc3QgZ3VpbGQ9Y2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZF9pZCk7aWYoZ3VpbGQpe2xldCByb2xlPWd1aWxkLnJvbGVzLmdldChkYXRhLnJvbGVfaWQpO2lmKHJvbGUpe2d1aWxkLnJvbGVzLmRlbGV0ZShkYXRhLnJvbGVfaWQpO3RoaXMuZGVsZXRlZC5zZXQoZ3VpbGQuaWQrZGF0YS5yb2xlX2lkLHJvbGUpO3RoaXMuc2NoZWR1bGVGb3JEZWxldGlvbihndWlsZC5pZCxkYXRhLnJvbGVfaWQpO2NsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfUk9MRV9ERUxFVEUscm9sZSl9ZWxzZXtyb2xlPXRoaXMuZGVsZXRlZC5nZXQoZ3VpbGQuaWQrZGF0YS5yb2xlX2lkKXx8bnVsbH1yZXR1cm57cm9sZTpyb2xlfX1yZXR1cm57cm9sZTpudWxsfX1zY2hlZHVsZUZvckRlbGV0aW9uKGd1aWxkSUQscm9sZUlEKXt0aGlzLmNsaWVudC5zZXRUaW1lb3V0KCgpPT50aGlzLmRlbGV0ZWQuZGVsZXRlKGd1aWxkSUQrcm9sZUlEKSx0aGlzLmNsaWVudC5vcHRpb25zLnJlc3RXc0JyaWRnZVRpbWVvdXQpfX1tb2R1bGUuZXhwb3J0cz1HdWlsZFJvbGVEZWxldGVBY3Rpb259LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgY2xvbmVPYmplY3Q9cmVxdWlyZSgiLi4vLi4vdXRpbC9DbG9uZU9iamVjdCIpO2NsYXNzIEd1aWxkUm9sZVVwZGF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NvbnN0IGd1aWxkPWNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuZ3VpbGRfaWQpO2lmKGd1aWxkKXtjb25zdCByb2xlRGF0YT1kYXRhLnJvbGU7bGV0IG9sZFJvbGU9bnVsbDtjb25zdCByb2xlPWd1aWxkLnJvbGVzLmdldChyb2xlRGF0YS5pZCk7aWYocm9sZSl7b2xkUm9sZT1jbG9uZU9iamVjdChyb2xlKTtyb2xlLnNldHVwKGRhdGEucm9sZSk7Y2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9ST0xFX1VQREFURSxvbGRSb2xlLHJvbGUpfXJldHVybntvbGQ6b2xkUm9sZSx1cGRhdGVkOnJvbGV9fXJldHVybntvbGQ6bnVsbCx1cGRhdGVkOm51bGx9fX1tb2R1bGUuZXhwb3J0cz1HdWlsZFJvbGVVcGRhdGVBY3Rpb259LHsiLi4vLi4vdXRpbC9DbG9uZU9iamVjdCI6MTMyLCIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0FjdGlvbiI6OH1dLDIzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjbGFzcyBHdWlsZFJvbGVzUG9zaXRpb25VcGRhdGUgZXh0ZW5kcyBBY3Rpb257aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZihndWlsZCl7Zm9yKGNvbnN0IHBhcnRpYWxSb2xlIG9mIGRhdGEucm9sZXMpe2NvbnN0IHJvbGU9Z3VpbGQucm9sZXMuZ2V0KHBhcnRpYWxSb2xlLmlkKTtpZihyb2xlKXtyb2xlLnBvc2l0aW9uPXBhcnRpYWxSb2xlLnBvc2l0aW9ufX19cmV0dXJue2d1aWxkOmd1aWxkfX19bW9kdWxlLmV4cG9ydHM9R3VpbGRSb2xlc1Bvc2l0aW9uVXBkYXRlfSx7Ii4vQWN0aW9uIjo4fV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFjdGlvbj1yZXF1aXJlKCIuL0FjdGlvbiIpO2NsYXNzIEd1aWxkU3luYyBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NvbnN0IGd1aWxkPWNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuaWQpO2lmKGd1aWxkKXtkYXRhLnByZXNlbmNlcz1kYXRhLnByZXNlbmNlc3x8W107Zm9yKGNvbnN0IHByZXNlbmNlIG9mIGRhdGEucHJlc2VuY2VzKXtndWlsZC5fc2V0UHJlc2VuY2UocHJlc2VuY2UudXNlci5pZCxwcmVzZW5jZSl9ZGF0YS5tZW1iZXJzPWRhdGEubWVtYmVyc3x8W107Zm9yKGNvbnN0IHN5bmNNZW1iZXIgb2YgZGF0YS5tZW1iZXJzKXtjb25zdCBtZW1iZXI9Z3VpbGQubWVtYmVycy5nZXQoc3luY01lbWJlci51c2VyLmlkKTtpZihtZW1iZXIpe2d1aWxkLl91cGRhdGVNZW1iZXIobWVtYmVyLHN5bmNNZW1iZXIpfWVsc2V7Z3VpbGQuX2FkZE1lbWJlcihzeW5jTWVtYmVyLGZhbHNlKX19fX19bW9kdWxlLmV4cG9ydHM9R3VpbGRTeW5jCn0seyIuL0FjdGlvbiI6OH1dLDI1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBjbG9uZU9iamVjdD1yZXF1aXJlKCIuLi8uLi91dGlsL0Nsb25lT2JqZWN0Iik7Y2xhc3MgR3VpbGRVcGRhdGVBY3Rpb24gZXh0ZW5kcyBBY3Rpb257aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmlkKTtpZihndWlsZCl7Y29uc3Qgb2xkR3VpbGQ9Y2xvbmVPYmplY3QoZ3VpbGQpO2d1aWxkLnNldHVwKGRhdGEpO2NsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfVVBEQVRFLG9sZEd1aWxkLGd1aWxkKTtyZXR1cm57b2xkOm9sZEd1aWxkLHVwZGF0ZWQ6Z3VpbGR9fXJldHVybntvbGQ6bnVsbCx1cGRhdGVkOm51bGx9fX1tb2R1bGUuZXhwb3J0cz1HdWlsZFVwZGF0ZUFjdGlvbn0seyIuLi8uLi91dGlsL0Nsb25lT2JqZWN0IjoxMzIsIi4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWN0aW9uIjo4fV0sMjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFjdGlvbj1yZXF1aXJlKCIuL0FjdGlvbiIpO2NvbnN0IE1lc3NhZ2U9cmVxdWlyZSgiLi4vLi4vc3RydWN0dXJlcy9NZXNzYWdlIik7Y2xhc3MgTWVzc2FnZUNyZWF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NvbnN0IGNoYW5uZWw9Y2xpZW50LmNoYW5uZWxzLmdldCgoZGF0YSBpbnN0YW5jZW9mIEFycmF5P2RhdGFbMF06ZGF0YSkuY2hhbm5lbF9pZCk7Y29uc3QgdXNlcj1jbGllbnQudXNlcnMuZ2V0KChkYXRhIGluc3RhbmNlb2YgQXJyYXk/ZGF0YVswXTpkYXRhKS5hdXRob3IuaWQpO2lmKGNoYW5uZWwpe2NvbnN0IG1lbWJlcj1jaGFubmVsLmd1aWxkP2NoYW5uZWwuZ3VpbGQubWVtYmVyKHVzZXIpOm51bGw7aWYoZGF0YSBpbnN0YW5jZW9mIEFycmF5KXtjb25zdCBtZXNzYWdlcz1uZXcgQXJyYXkoZGF0YS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXttZXNzYWdlc1tpXT1jaGFubmVsLl9jYWNoZU1lc3NhZ2UobmV3IE1lc3NhZ2UoY2hhbm5lbCxkYXRhW2ldLGNsaWVudCkpfWNoYW5uZWwubGFzdE1lc3NhZ2VJRD1tZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGgtMV0uaWQ7aWYodXNlcil1c2VyLmxhc3RNZXNzYWdlSUQ9bWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoLTFdLmlkO2lmKG1lbWJlciltZW1iZXIubGFzdE1lc3NhZ2VJRD1tZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGgtMV0uaWQ7cmV0dXJue21lc3NhZ2VzOm1lc3NhZ2VzfX1lbHNle2NvbnN0IG1lc3NhZ2U9Y2hhbm5lbC5fY2FjaGVNZXNzYWdlKG5ldyBNZXNzYWdlKGNoYW5uZWwsZGF0YSxjbGllbnQpKTtjaGFubmVsLmxhc3RNZXNzYWdlSUQ9ZGF0YS5pZDtpZih1c2VyKXVzZXIubGFzdE1lc3NhZ2VJRD1kYXRhLmlkO2lmKG1lbWJlciltZW1iZXIubGFzdE1lc3NhZ2VJRD1kYXRhLmlkO3JldHVybnttZXNzYWdlOm1lc3NhZ2V9fX1yZXR1cm57bWVzc2FnZTpudWxsfX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZUNyZWF0ZUFjdGlvbn0seyIuLi8uLi9zdHJ1Y3R1cmVzL01lc3NhZ2UiOjExMSwiLi9BY3Rpb24iOjh9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y2xhc3MgTWVzc2FnZURlbGV0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntjb25zdHJ1Y3RvcihjbGllbnQpe3N1cGVyKGNsaWVudCk7dGhpcy5kZWxldGVkPW5ldyBNYXB9aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBjaGFubmVsPWNsaWVudC5jaGFubmVscy5nZXQoZGF0YS5jaGFubmVsX2lkKTtpZihjaGFubmVsKXtsZXQgbWVzc2FnZT1jaGFubmVsLm1lc3NhZ2VzLmdldChkYXRhLmlkKTtpZihtZXNzYWdlKXtjaGFubmVsLm1lc3NhZ2VzLmRlbGV0ZShtZXNzYWdlLmlkKTt0aGlzLmRlbGV0ZWQuc2V0KGNoYW5uZWwuaWQrbWVzc2FnZS5pZCxtZXNzYWdlKTt0aGlzLnNjaGVkdWxlRm9yRGVsZXRpb24oY2hhbm5lbC5pZCxtZXNzYWdlLmlkKX1lbHNle21lc3NhZ2U9dGhpcy5kZWxldGVkLmdldChjaGFubmVsLmlkK2RhdGEuaWQpfHxudWxsfXJldHVybnttZXNzYWdlOm1lc3NhZ2V9fXJldHVybnttZXNzYWdlOm51bGx9fXNjaGVkdWxlRm9yRGVsZXRpb24oY2hhbm5lbElELG1lc3NhZ2VJRCl7dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+dGhpcy5kZWxldGVkLmRlbGV0ZShjaGFubmVsSUQrbWVzc2FnZUlEKSx0aGlzLmNsaWVudC5vcHRpb25zLnJlc3RXc0JyaWRnZVRpbWVvdXQpfX1tb2R1bGUuZXhwb3J0cz1NZXNzYWdlRGVsZXRlQWN0aW9ufSx7Ii4vQWN0aW9uIjo4fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFjdGlvbj1yZXF1aXJlKCIuL0FjdGlvbiIpO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vLi4vdXRpbC9Db2xsZWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgTWVzc2FnZURlbGV0ZUJ1bGtBY3Rpb24gZXh0ZW5kcyBBY3Rpb257aGFuZGxlKGRhdGEpe2NvbnN0IGNsaWVudD10aGlzLmNsaWVudDtjb25zdCBjaGFubmVsPWNsaWVudC5jaGFubmVscy5nZXQoZGF0YS5jaGFubmVsX2lkKTtjb25zdCBpZHM9ZGF0YS5pZHM7Y29uc3QgbWVzc2FnZXM9bmV3IENvbGxlY3Rpb247Zm9yKGNvbnN0IGlkIG9mIGlkcyl7Y29uc3QgbWVzc2FnZT1jaGFubmVsLm1lc3NhZ2VzLmdldChpZCk7aWYobWVzc2FnZSltZXNzYWdlcy5zZXQobWVzc2FnZS5pZCxtZXNzYWdlKX1pZihtZXNzYWdlcy5zaXplPjApY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5NRVNTQUdFX0JVTEtfREVMRVRFLG1lc3NhZ2VzKTtyZXR1cm57bWVzc2FnZXM6bWVzc2FnZXN9fX1tb2R1bGUuZXhwb3J0cz1NZXNzYWdlRGVsZXRlQnVsa0FjdGlvbn0seyIuLi8uLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgTWVzc2FnZVJlYWN0aW9uQWRkIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCB1c2VyPXRoaXMuY2xpZW50LnVzZXJzLmdldChkYXRhLnVzZXJfaWQpO2lmKCF1c2VyKXJldHVybiBmYWxzZTtjb25zdCBjaGFubmVsPXRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChkYXRhLmNoYW5uZWxfaWQpO2lmKCFjaGFubmVsfHxjaGFubmVsLnR5cGU9PT0idm9pY2UiKXJldHVybiBmYWxzZTtjb25zdCBtZXNzYWdlPWNoYW5uZWwubWVzc2FnZXMuZ2V0KGRhdGEubWVzc2FnZV9pZCk7aWYoIW1lc3NhZ2UpcmV0dXJuIGZhbHNlO2lmKCFkYXRhLmVtb2ppKXJldHVybiBmYWxzZTtjb25zdCByZWFjdGlvbj1tZXNzYWdlLl9hZGRSZWFjdGlvbihkYXRhLmVtb2ppLHVzZXIpO2lmKHJlYWN0aW9uKXt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuTUVTU0FHRV9SRUFDVElPTl9BREQscmVhY3Rpb24sdXNlcil9cmV0dXJue21lc3NhZ2U6bWVzc2FnZSxyZWFjdGlvbjpyZWFjdGlvbix1c2VyOnVzZXJ9fX1tb2R1bGUuZXhwb3J0cz1NZXNzYWdlUmVhY3Rpb25BZGR9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgTWVzc2FnZVJlYWN0aW9uUmVtb3ZlIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCB1c2VyPXRoaXMuY2xpZW50LnVzZXJzLmdldChkYXRhLnVzZXJfaWQpO2lmKCF1c2VyKXJldHVybiBmYWxzZTtjb25zdCBjaGFubmVsPXRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChkYXRhLmNoYW5uZWxfaWQpO2lmKCFjaGFubmVsfHxjaGFubmVsLnR5cGU9PT0idm9pY2UiKXJldHVybiBmYWxzZTtjb25zdCBtZXNzYWdlPWNoYW5uZWwubWVzc2FnZXMuZ2V0KGRhdGEubWVzc2FnZV9pZCk7aWYoIW1lc3NhZ2UpcmV0dXJuIGZhbHNlO2lmKCFkYXRhLmVtb2ppKXJldHVybiBmYWxzZTtjb25zdCByZWFjdGlvbj1tZXNzYWdlLl9yZW1vdmVSZWFjdGlvbihkYXRhLmVtb2ppLHVzZXIpO2lmKHJlYWN0aW9uKXt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuTUVTU0FHRV9SRUFDVElPTl9SRU1PVkUscmVhY3Rpb24sdXNlcil9cmV0dXJue21lc3NhZ2U6bWVzc2FnZSxyZWFjdGlvbjpyZWFjdGlvbix1c2VyOnVzZXJ9fX1tb2R1bGUuZXhwb3J0cz1NZXNzYWdlUmVhY3Rpb25SZW1vdmV9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BY3Rpb24iOjh9XSwzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWN0aW9uPXJlcXVpcmUoIi4vQWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgTWVzc2FnZVJlYWN0aW9uUmVtb3ZlQWxsIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCBjaGFubmVsPXRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChkYXRhLmNoYW5uZWxfaWQpO2lmKCFjaGFubmVsfHxjaGFubmVsLnR5cGU9PT0idm9pY2UiKXJldHVybiBmYWxzZTtjb25zdCBtZXNzYWdlPWNoYW5uZWwubWVzc2FnZXMuZ2V0KGRhdGEubWVzc2FnZV9pZCk7aWYoIW1lc3NhZ2UpcmV0dXJuIGZhbHNlO21lc3NhZ2UuX2NsZWFyUmVhY3Rpb25zKCk7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLk1FU1NBR0VfUkVBQ1RJT05fUkVNT1ZFX0FMTCxtZXNzYWdlKTtyZXR1cm57bWVzc2FnZTptZXNzYWdlfX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZVJlYWN0aW9uUmVtb3ZlQWxsfSx7Ii4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWN0aW9uIjo4fV0sMzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFjdGlvbj1yZXF1aXJlKCIuL0FjdGlvbiIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IGNsb25lT2JqZWN0PXJlcXVpcmUoIi4uLy4uL3V0aWwvQ2xvbmVPYmplY3QiKTtjbGFzcyBNZXNzYWdlVXBkYXRlQWN0aW9uIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7Y29uc3QgY2hhbm5lbD1jbGllbnQuY2hhbm5lbHMuZ2V0KGRhdGEuY2hhbm5lbF9pZCk7aWYoY2hhbm5lbCl7Y29uc3QgbWVzc2FnZT1jaGFubmVsLm1lc3NhZ2VzLmdldChkYXRhLmlkKTtpZihtZXNzYWdlKXtjb25zdCBvbGRNZXNzYWdlPWNsb25lT2JqZWN0KG1lc3NhZ2UpO21lc3NhZ2UucGF0Y2goZGF0YSk7bWVzc2FnZS5fZWRpdHMudW5zaGlmdChvbGRNZXNzYWdlKTtjbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLk1FU1NBR0VfVVBEQVRFLG9sZE1lc3NhZ2UsbWVzc2FnZSk7cmV0dXJue29sZDpvbGRNZXNzYWdlLHVwZGF0ZWQ6bWVzc2FnZX19cmV0dXJue29sZDptZXNzYWdlLHVwZGF0ZWQ6bWVzc2FnZX19cmV0dXJue29sZDpudWxsLHVwZGF0ZWQ6bnVsbH19fW1vZHVsZS5leHBvcnRzPU1lc3NhZ2VVcGRhdGVBY3Rpb259LHsiLi4vLi4vdXRpbC9DbG9uZU9iamVjdCI6MTMyLCIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0FjdGlvbiI6OH1dLDMzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjbGFzcyBVc2VyR2V0QWN0aW9uIGV4dGVuZHMgQWN0aW9ue2hhbmRsZShkYXRhKXtjb25zdCBjbGllbnQ9dGhpcy5jbGllbnQ7Y29uc3QgdXNlcj1jbGllbnQuZGF0YU1hbmFnZXIubmV3VXNlcihkYXRhKTtyZXR1cm57dXNlcjp1c2VyfX19bW9kdWxlLmV4cG9ydHM9VXNlckdldEFjdGlvbn0seyIuL0FjdGlvbiI6OH1dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBVc2VyTm90ZVVwZGF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2NvbnN0IG9sZE5vdGU9Y2xpZW50LnVzZXIubm90ZXMuZ2V0KGRhdGEuaWQpO2NvbnN0IG5vdGU9ZGF0YS5ub3RlLmxlbmd0aD9kYXRhLm5vdGU6bnVsbDtjbGllbnQudXNlci5ub3Rlcy5zZXQoZGF0YS5pZCxub3RlKTtjbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLlVTRVJfTk9URV9VUERBVEUsZGF0YS5pZCxvbGROb3RlLG5vdGUpO3JldHVybntvbGQ6b2xkTm90ZSx1cGRhdGVkOm5vdGV9fX1tb2R1bGUuZXhwb3J0cz1Vc2VyTm90ZVVwZGF0ZUFjdGlvbn0seyIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0FjdGlvbiI6OH1dLDM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBY3Rpb249cmVxdWlyZSgiLi9BY3Rpb24iKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBjbG9uZU9iamVjdD1yZXF1aXJlKCIuLi8uLi91dGlsL0Nsb25lT2JqZWN0Iik7Y2xhc3MgVXNlclVwZGF0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbntoYW5kbGUoZGF0YSl7Y29uc3QgY2xpZW50PXRoaXMuY2xpZW50O2lmKGNsaWVudC51c2VyKXtpZihjbGllbnQudXNlci5lcXVhbHMoZGF0YSkpe3JldHVybntvbGQ6Y2xpZW50LnVzZXIsdXBkYXRlZDpjbGllbnQudXNlcn19Y29uc3Qgb2xkVXNlcj1jbG9uZU9iamVjdChjbGllbnQudXNlcik7Y2xpZW50LnVzZXIucGF0Y2goZGF0YSk7Y2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5VU0VSX1VQREFURSxvbGRVc2VyLGNsaWVudC51c2VyKTtyZXR1cm57b2xkOm9sZFVzZXIsdXBkYXRlZDpjbGllbnQudXNlcn19cmV0dXJue29sZDpudWxsLHVwZGF0ZWQ6bnVsbH19fW1vZHVsZS5leHBvcnRzPVVzZXJVcGRhdGVBY3Rpb259LHsiLi4vLi4vdXRpbC9DbG9uZU9iamVjdCI6MTMyLCIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0FjdGlvbiI6OH1dLDM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCByZXF1ZXN0PXJlcXVpcmUoInN1cGVyYWdlbnQiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtmdW5jdGlvbiBnZXRSb3V0ZSh1cmwpe2xldCByb3V0ZT11cmwuc3BsaXQoIj8iKVswXTtpZihyb3V0ZS5pbmNsdWRlcygiL2NoYW5uZWxzLyIpfHxyb3V0ZS5pbmNsdWRlcygiL2d1aWxkcy8iKSl7Y29uc3Qgc3RhcnRJbmQ9cm91dGUuaW5jbHVkZXMoIi9jaGFubmVscy8iKT9yb3V0ZS5pbmRleE9mKCIvY2hhbm5lbHMvIik6cm91dGUuaW5kZXhPZigiL2d1aWxkcy8iKTtjb25zdCBtYWpvcklEPXJvdXRlLnN1YnN0cmluZyhzdGFydEluZCkuc3BsaXQoIi8iKVsyXTtyb3V0ZT1yb3V0ZS5yZXBsYWNlKC8oXGR7OCx9KS9nLCI6aWQiKS5yZXBsYWNlKCI6aWQiLG1ham9ySUQpfXJldHVybiByb3V0ZX1jbGFzcyBBUElSZXF1ZXN0e2NvbnN0cnVjdG9yKHJlc3QsbWV0aG9kLHVybCxhdXRoLGRhdGEsZmlsZSl7dGhpcy5yZXN0PXJlc3Q7dGhpcy5tZXRob2Q9bWV0aG9kO3RoaXMudXJsPXVybDt0aGlzLmF1dGg9YXV0aDt0aGlzLmRhdGE9ZGF0YTt0aGlzLmZpbGU9ZmlsZTt0aGlzLnJvdXRlPWdldFJvdXRlKHRoaXMudXJsKX1nZXRBdXRoKCl7aWYodGhpcy5yZXN0LmNsaWVudC50b2tlbiYmdGhpcy5yZXN0LmNsaWVudC51c2VyJiZ0aGlzLnJlc3QuY2xpZW50LnVzZXIuYm90KXtyZXR1cm5gQm90ICR7dGhpcy5yZXN0LmNsaWVudC50b2tlbn1gfWVsc2UgaWYodGhpcy5yZXN0LmNsaWVudC50b2tlbil7cmV0dXJuIHRoaXMucmVzdC5jbGllbnQudG9rZW59dGhyb3cgbmV3IEVycm9yKENvbnN0YW50cy5FcnJvcnMuTk9fVE9LRU4pfWdlbigpe2NvbnN0IGFwaVJlcXVlc3Q9cmVxdWVzdFt0aGlzLm1ldGhvZF0odGhpcy51cmwpO2lmKHRoaXMuYXV0aClhcGlSZXF1ZXN0LnNldCgiYXV0aG9yaXphdGlvbiIsdGhpcy5nZXRBdXRoKCkpO2lmKHRoaXMuZmlsZSYmdGhpcy5maWxlLmZpbGUpe2FwaVJlcXVlc3QuYXR0YWNoKCJmaWxlIix0aGlzLmZpbGUuZmlsZSx0aGlzLmZpbGUubmFtZSk7dGhpcy5kYXRhPXRoaXMuZGF0YXx8e307YXBpUmVxdWVzdC5maWVsZCgicGF5bG9hZF9qc29uIixKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKX1lbHNlIGlmKHRoaXMuZGF0YSl7YXBpUmVxdWVzdC5zZW5kKHRoaXMuZGF0YSl9aWYoIXRoaXMucmVzdC5jbGllbnQuYnJvd3NlcilhcGlSZXF1ZXN0LnNldCgiVXNlci1BZ2VudCIsdGhpcy5yZXN0LnVzZXJBZ2VudE1hbmFnZXIudXNlckFnZW50KTtyZXR1cm4gYXBpUmVxdWVzdH19bW9kdWxlLmV4cG9ydHM9QVBJUmVxdWVzdH0seyIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LHN1cGVyYWdlbnQ6MTU5fV0sMzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFVzZXJBZ2VudE1hbmFnZXI9cmVxdWlyZSgiLi9Vc2VyQWdlbnRNYW5hZ2VyIik7Y29uc3QgUkVTVE1ldGhvZHM9cmVxdWlyZSgiLi9SRVNUTWV0aG9kcyIpO2NvbnN0IFNlcXVlbnRpYWxSZXF1ZXN0SGFuZGxlcj1yZXF1aXJlKCIuL1JlcXVlc3RIYW5kbGVycy9TZXF1ZW50aWFsIik7Y29uc3QgQnVyc3RSZXF1ZXN0SGFuZGxlcj1yZXF1aXJlKCIuL1JlcXVlc3RIYW5kbGVycy9CdXJzdCIpO2NvbnN0IEFQSVJlcXVlc3Q9cmVxdWlyZSgiLi9BUElSZXF1ZXN0Iik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgUkVTVE1hbmFnZXJ7Y29uc3RydWN0b3IoY2xpZW50KXt0aGlzLmNsaWVudD1jbGllbnQ7dGhpcy5oYW5kbGVycz17fTt0aGlzLnVzZXJBZ2VudE1hbmFnZXI9bmV3IFVzZXJBZ2VudE1hbmFnZXIodGhpcyk7dGhpcy5tZXRob2RzPW5ldyBSRVNUTWV0aG9kcyh0aGlzKTt0aGlzLnJhdGVMaW1pdGVkRW5kcG9pbnRzPXt9O3RoaXMuZ2xvYmFsbHlSYXRlTGltaXRlZD1mYWxzZX1wdXNoKGhhbmRsZXIsYXBpUmVxdWVzdCl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntoYW5kbGVyLnB1c2goe3JlcXVlc3Q6YXBpUmVxdWVzdCxyZXNvbHZlOnJlc29sdmUscmVqZWN0OnJlamVjdH0pfSl9Z2V0UmVxdWVzdEhhbmRsZXIoKXtzd2l0Y2godGhpcy5jbGllbnQub3B0aW9ucy5hcGlSZXF1ZXN0TWV0aG9kKXtjYXNlInNlcXVlbnRpYWwiOnJldHVybiBTZXF1ZW50aWFsUmVxdWVzdEhhbmRsZXI7Y2FzZSJidXJzdCI6cmV0dXJuIEJ1cnN0UmVxdWVzdEhhbmRsZXI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoQ29uc3RhbnRzLkVycm9ycy5JTlZBTElEX1JBVEVfTElNSVRfTUVUSE9EKX19bWFrZVJlcXVlc3QobWV0aG9kLHVybCxhdXRoLGRhdGEsZmlsZSl7Y29uc3QgYXBpUmVxdWVzdD1uZXcgQVBJUmVxdWVzdCh0aGlzLG1ldGhvZCx1cmwsYXV0aCxkYXRhLGZpbGUpO2lmKCF0aGlzLmhhbmRsZXJzW2FwaVJlcXVlc3Qucm91dGVdKXtjb25zdCBSZXF1ZXN0SGFuZGxlclR5cGU9dGhpcy5nZXRSZXF1ZXN0SGFuZGxlcigpO3RoaXMuaGFuZGxlcnNbYXBpUmVxdWVzdC5yb3V0ZV09bmV3IFJlcXVlc3RIYW5kbGVyVHlwZSh0aGlzLGFwaVJlcXVlc3Qucm91dGUpfXJldHVybiB0aGlzLnB1c2godGhpcy5oYW5kbGVyc1thcGlSZXF1ZXN0LnJvdXRlXSxhcGlSZXF1ZXN0KX19bW9kdWxlLmV4cG9ydHM9UkVTVE1hbmFnZXJ9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BUElSZXF1ZXN0IjozNiwiLi9SRVNUTWV0aG9kcyI6MzgsIi4vUmVxdWVzdEhhbmRsZXJzL0J1cnN0IjozOSwiLi9SZXF1ZXN0SGFuZGxlcnMvU2VxdWVudGlhbCI6NDEsIi4vVXNlckFnZW50TWFuYWdlciI6NDJ9XSwzODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgQ29sbGVjdGlvbj1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbGxlY3Rpb24iKTtjb25zdCBzcGxpdE1lc3NhZ2U9cmVxdWlyZSgiLi4vLi4vdXRpbC9TcGxpdE1lc3NhZ2UiKTtjb25zdCBwYXJzZUVtb2ppPXJlcXVpcmUoIi4uLy4uL3V0aWwvUGFyc2VFbW9qaSIpO2NvbnN0IGVzY2FwZU1hcmtkb3duPXJlcXVpcmUoIi4uLy4uL3V0aWwvRXNjYXBlTWFya2Rvd24iKTtjb25zdCBVc2VyPXJlcXVpcmUoIi4uLy4uL3N0cnVjdHVyZXMvVXNlciIpO2NvbnN0IEd1aWxkTWVtYmVyPXJlcXVpcmUoIi4uLy4uL3N0cnVjdHVyZXMvR3VpbGRNZW1iZXIiKTtjb25zdCBNZXNzYWdlPXJlcXVpcmUoIi4uLy4uL3N0cnVjdHVyZXMvTWVzc2FnZSIpO2NvbnN0IFJvbGU9cmVxdWlyZSgiLi4vLi4vc3RydWN0dXJlcy9Sb2xlIik7Y29uc3QgSW52aXRlPXJlcXVpcmUoIi4uLy4uL3N0cnVjdHVyZXMvSW52aXRlIik7Y29uc3QgV2ViaG9vaz1yZXF1aXJlKCIuLi8uLi9zdHJ1Y3R1cmVzL1dlYmhvb2siKTtjb25zdCBVc2VyUHJvZmlsZT1yZXF1aXJlKCIuLi8uLi9zdHJ1Y3R1cmVzL1VzZXJQcm9maWxlIik7Y29uc3QgQ2xpZW50T0F1dGgyQXBwbGljYXRpb249cmVxdWlyZSgiLi4vLi4vc3RydWN0dXJlcy9DbGllbnRPQXV0aDJBcHBsaWNhdGlvbiIpO2NsYXNzIFJFU1RNZXRob2Rze2NvbnN0cnVjdG9yKHJlc3RNYW5hZ2VyKXt0aGlzLnJlc3Q9cmVzdE1hbmFnZXI7dGhpcy5jbGllbnQ9cmVzdE1hbmFnZXIuY2xpZW50fWxvZ2luKHRva2VuPXRoaXMuY2xpZW50LnRva2VuKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2lmKHR5cGVvZiB0b2tlbiE9PSJzdHJpbmciKXRocm93IG5ldyBFcnJvcihDb25zdGFudHMuRXJyb3JzLklOVkFMSURfVE9LRU4pO3Rva2VuPXRva2VuLnJlcGxhY2UoL15Cb3RccyovaSwiIik7dGhpcy5jbGllbnQubWFuYWdlci5jb25uZWN0VG9XZWJTb2NrZXQodG9rZW4scmVzb2x2ZSxyZWplY3QpfSl9bG9nb3V0KCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicG9zdCIsQ29uc3RhbnRzLkVuZHBvaW50cy5sb2dvdXQsdHJ1ZSx7fSl9Z2V0R2F0ZXdheSgpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy5nYXRld2F5LHRydWUpLnRoZW4ocmVzPT57dGhpcy5jbGllbnQud3MuZ2F0ZXdheT1gJHtyZXMudXJsfS8/dj0ke0NvbnN0YW50cy5QUk9UT0NPTF9WRVJTSU9OfWA7cmV0dXJuIHRoaXMuY2xpZW50LndzLmdhdGV3YXl9KX1nZXRCb3RHYXRld2F5KCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixDb25zdGFudHMuRW5kcG9pbnRzLmJvdEdhdGV3YXksdHJ1ZSl9c2VuZE1lc3NhZ2UoY2hhbm5lbCxjb250ZW50LHt0dHM6dHRzLG5vbmNlOm5vbmNlLGVtYmVkOmVtYmVkLGRpc2FibGVFdmVyeW9uZTpkaXNhYmxlRXZlcnlvbmUsc3BsaXQ6c3BsaXQsY29kZTpjb2RlfT17fSxmaWxlPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57aWYodHlwZW9mIGNvbnRlbnQhPT0idW5kZWZpbmVkIiljb250ZW50PXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVTdHJpbmcoY29udGVudCk7aWYoY29udGVudCl7aWYodHlwZW9mIGNvZGUhPT0idW5kZWZpbmVkIiYmKHR5cGVvZiBjb2RlIT09ImJvb2xlYW4ifHxjb2RlPT09dHJ1ZSkpe2NvbnRlbnQ9ZXNjYXBlTWFya2Rvd24odGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVN0cmluZyhjb250ZW50KSx0cnVlKTtjb250ZW50PWBcYFxgXGAke3R5cGVvZiBjb2RlIT09ImJvb2xlYW4iP2NvZGV8fCIiOiIifQoke2NvbnRlbnR9ClxgXGBcYGB9aWYoZGlzYWJsZUV2ZXJ5b25lfHx0eXBlb2YgZGlzYWJsZUV2ZXJ5b25lPT09InVuZGVmaW5lZCImJnRoaXMuY2xpZW50Lm9wdGlvbnMuZGlzYWJsZUV2ZXJ5b25lKXtjb250ZW50PWNvbnRlbnQucmVwbGFjZSgvQChldmVyeW9uZXxoZXJlKS9nLCJAyQxIil9aWYoc3BsaXQpY29udGVudD1zcGxpdE1lc3NhZ2UoY29udGVudCx0eXBlb2Ygc3BsaXQ9PT0ib2JqZWN0Ij9zcGxpdDp7fSl9Y29uc3Qgc2VuZD1jaGFuPT57aWYoY29udGVudCBpbnN0YW5jZW9mIEFycmF5KXtjb25zdCBtZXNzYWdlcz1bXTsoZnVuY3Rpb24gc2VuZENodW5rKGxpc3QsaW5kZXgpe2NvbnN0IG9wdGlvbnM9aW5kZXg9PT1saXN0Lmxlbmd0aD97dHRzOnR0cyxlbWJlZDplbWJlZH06e3R0czp0dHN9O2NoYW4uc2VuZChsaXN0W2luZGV4XSxvcHRpb25zLGluZGV4PT09bGlzdC5sZW5ndGg/ZmlsZTpudWxsKS50aGVuKG1lc3NhZ2U9PnttZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO2lmKGluZGV4Pj1saXN0Lmxlbmd0aClyZXR1cm4gcmVzb2x2ZShtZXNzYWdlcyk7cmV0dXJuIHNlbmRDaHVuayhsaXN0LCsraW5kZXgpfSl9KShjb250ZW50LDApfWVsc2V7dGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWxNZXNzYWdlcyhjaGFuLmlkKSx0cnVlLHtjb250ZW50OmNvbnRlbnQsdHRzOnR0cyxub25jZTpub25jZSxlbWJlZDplbWJlZH0sZmlsZSkudGhlbihkYXRhPT5yZXNvbHZlKHRoaXMuY2xpZW50LmFjdGlvbnMuTWVzc2FnZUNyZWF0ZS5oYW5kbGUoZGF0YSkubWVzc2FnZSkscmVqZWN0KX19O2lmKGNoYW5uZWwgaW5zdGFuY2VvZiBVc2VyfHxjaGFubmVsIGluc3RhbmNlb2YgR3VpbGRNZW1iZXIpe3RoaXMuY3JlYXRlRE0oY2hhbm5lbCkudGhlbihzZW5kLHJlamVjdCl9ZWxzZXtzZW5kKGNoYW5uZWwpfX0pfXVwZGF0ZU1lc3NhZ2UobWVzc2FnZSxjb250ZW50LHtlbWJlZDplbWJlZCxjb2RlOmNvZGV9PXt9KXtjb250ZW50PXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVTdHJpbmcoY29udGVudCk7aWYodHlwZW9mIGNvZGUhPT0idW5kZWZpbmVkIiYmKHR5cGVvZiBjb2RlIT09ImJvb2xlYW4ifHxjb2RlPT09dHJ1ZSkpe2NvbnRlbnQ9ZXNjYXBlTWFya2Rvd24odGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVN0cmluZyhjb250ZW50KSx0cnVlKTtjb250ZW50PWBcYFxgXGAke3R5cGVvZiBjb2RlIT09ImJvb2xlYW4iP2NvZGV8fCIiOiIifQoke2NvbnRlbnR9ClxgXGBcYGB9cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicGF0Y2giLENvbnN0YW50cy5FbmRwb2ludHMuY2hhbm5lbE1lc3NhZ2UobWVzc2FnZS5jaGFubmVsLmlkLG1lc3NhZ2UuaWQpLHRydWUse2NvbnRlbnQ6Y29udGVudCxlbWJlZDplbWJlZH0pLnRoZW4oZGF0YT0+dGhpcy5jbGllbnQuYWN0aW9ucy5NZXNzYWdlVXBkYXRlLmhhbmRsZShkYXRhKS51cGRhdGVkKX1kZWxldGVNZXNzYWdlKG1lc3NhZ2Upe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImRlbCIsQ29uc3RhbnRzLkVuZHBvaW50cy5jaGFubmVsTWVzc2FnZShtZXNzYWdlLmNoYW5uZWwuaWQsbWVzc2FnZS5pZCksdHJ1ZSkudGhlbigoKT0+dGhpcy5jbGllbnQuYWN0aW9ucy5NZXNzYWdlRGVsZXRlLmhhbmRsZSh7aWQ6bWVzc2FnZS5pZCxjaGFubmVsX2lkOm1lc3NhZ2UuY2hhbm5lbC5pZH0pLm1lc3NhZ2UpfWJ1bGtEZWxldGVNZXNzYWdlcyhjaGFubmVsLG1lc3NhZ2VzKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWxNZXNzYWdlcyhjaGFubmVsLmlkKX0vYnVsa19kZWxldGVgLHRydWUse21lc3NhZ2VzOm1lc3NhZ2VzfSkudGhlbigoKT0+dGhpcy5jbGllbnQuYWN0aW9ucy5NZXNzYWdlRGVsZXRlQnVsay5oYW5kbGUoe2NoYW5uZWxfaWQ6Y2hhbm5lbC5pZCxpZHM6bWVzc2FnZXN9KS5tZXNzYWdlcyl9Y3JlYXRlQ2hhbm5lbChndWlsZCxjaGFubmVsTmFtZSxjaGFubmVsVHlwZSxvdmVyd3JpdGVzKXtpZihvdmVyd3JpdGVzIGluc3RhbmNlb2YgQ29sbGVjdGlvbilvdmVyd3JpdGVzPW92ZXJ3cml0ZXMuYXJyYXkoKTtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkQ2hhbm5lbHMoZ3VpbGQuaWQpLHRydWUse25hbWU6Y2hhbm5lbE5hbWUsdHlwZTpjaGFubmVsVHlwZSxwZXJtaXNzaW9uX292ZXJ3cml0ZXM6b3ZlcndyaXRlc30pLnRoZW4oZGF0YT0+dGhpcy5jbGllbnQuYWN0aW9ucy5DaGFubmVsQ3JlYXRlLmhhbmRsZShkYXRhKS5jaGFubmVsKX1jcmVhdGVETShyZWNpcGllbnQpe2NvbnN0IGRtQ2hhbm5lbD10aGlzLmdldEV4aXN0aW5nRE0ocmVjaXBpZW50KTtpZihkbUNoYW5uZWwpcmV0dXJuIFByb21pc2UucmVzb2x2ZShkbUNoYW5uZWwpO3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBvc3QiLENvbnN0YW50cy5FbmRwb2ludHMudXNlckNoYW5uZWxzKHRoaXMuY2xpZW50LnVzZXIuaWQpLHRydWUse3JlY2lwaWVudF9pZDpyZWNpcGllbnQuaWR9KS50aGVuKGRhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuQ2hhbm5lbENyZWF0ZS5oYW5kbGUoZGF0YSkuY2hhbm5lbCl9Z2V0RXhpc3RpbmdETShyZWNpcGllbnQpe3JldHVybiB0aGlzLmNsaWVudC5jaGFubmVscy5maW5kKGNoYW5uZWw9PmNoYW5uZWwucmVjaXBpZW50JiZjaGFubmVsLnJlY2lwaWVudC5pZD09PXJlY2lwaWVudC5pZCl9ZGVsZXRlQ2hhbm5lbChjaGFubmVsKXtpZihjaGFubmVsIGluc3RhbmNlb2YgVXNlcnx8Y2hhbm5lbCBpbnN0YW5jZW9mIEd1aWxkTWVtYmVyKWNoYW5uZWw9dGhpcy5nZXRFeGlzdGluZ0RNKGNoYW5uZWwpO2lmKCFjaGFubmVsKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIk5vIGNoYW5uZWwgdG8gZGVsZXRlLiIpKTtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWwiLENvbnN0YW50cy5FbmRwb2ludHMuY2hhbm5lbChjaGFubmVsLmlkKSx0cnVlKS50aGVuKGRhdGE9PntkYXRhLmlkPWNoYW5uZWwuaWQ7cmV0dXJuIHRoaXMuY2xpZW50LmFjdGlvbnMuQ2hhbm5lbERlbGV0ZS5oYW5kbGUoZGF0YSkuY2hhbm5lbH0pfXVwZGF0ZUNoYW5uZWwoY2hhbm5lbCxfZGF0YSl7Y29uc3QgZGF0YT17fTtkYXRhLm5hbWU9KF9kYXRhLm5hbWV8fGNoYW5uZWwubmFtZSkudHJpbSgpO2RhdGEudG9waWM9X2RhdGEudG9waWN8fGNoYW5uZWwudG9waWM7ZGF0YS5wb3NpdGlvbj1fZGF0YS5wb3NpdGlvbnx8Y2hhbm5lbC5wb3NpdGlvbjtkYXRhLmJpdHJhdGU9X2RhdGEuYml0cmF0ZXx8Y2hhbm5lbC5iaXRyYXRlO2RhdGEudXNlcl9saW1pdD1fZGF0YS51c2VyTGltaXR8fGNoYW5uZWwudXNlckxpbWl0O3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBhdGNoIixDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWwoY2hhbm5lbC5pZCksdHJ1ZSxkYXRhKS50aGVuKG5ld0RhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuQ2hhbm5lbFVwZGF0ZS5oYW5kbGUobmV3RGF0YSkudXBkYXRlZCl9bGVhdmVHdWlsZChndWlsZCl7aWYoZ3VpbGQub3duZXJJRD09PXRoaXMuY2xpZW50LnVzZXIuaWQpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiR3VpbGQgaXMgb3duZWQgYnkgdGhlIGNsaWVudC4iKSk7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZGVsIixDb25zdGFudHMuRW5kcG9pbnRzLm1lR3VpbGQoZ3VpbGQuaWQpLHRydWUpLnRoZW4oKCk9PnRoaXMuY2xpZW50LmFjdGlvbnMuR3VpbGREZWxldGUuaGFuZGxlKHtpZDpndWlsZC5pZH0pLmd1aWxkKX1jcmVhdGVHdWlsZChvcHRpb25zKXtvcHRpb25zLmljb249dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJhc2U2NChvcHRpb25zLmljb24pfHxudWxsO29wdGlvbnMucmVnaW9uPW9wdGlvbnMucmVnaW9ufHwidXMtY2VudHJhbCI7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9Pnt0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBvc3QiLENvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGRzLHRydWUsb3B0aW9ucykudGhlbihkYXRhPT57aWYodGhpcy5jbGllbnQuZ3VpbGRzLmhhcyhkYXRhLmlkKSl7cmVzb2x2ZSh0aGlzLmNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuaWQpKTtyZXR1cm59Y29uc3QgaGFuZGxlR3VpbGQ9Z3VpbGQ9PntpZihndWlsZC5pZD09PWRhdGEuaWQpe3RoaXMuY2xpZW50LnJlbW92ZUxpc3RlbmVyKCJndWlsZENyZWF0ZSIsaGFuZGxlR3VpbGQpO3RoaXMuY2xpZW50LmNsZWFyVGltZW91dCh0aW1lb3V0KTtyZXNvbHZlKGd1aWxkKX19O3RoaXMuY2xpZW50Lm9uKCJndWlsZENyZWF0ZSIsaGFuZGxlR3VpbGQpO2NvbnN0IHRpbWVvdXQ9dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+e3RoaXMuY2xpZW50LnJlbW92ZUxpc3RlbmVyKCJndWlsZENyZWF0ZSIsaGFuZGxlR3VpbGQpO3JlamVjdChuZXcgRXJyb3IoIlRvb2sgdG9vIGxvbmcgdG8gcmVjZWl2ZSBndWlsZCBkYXRhLiIpKX0sMWU0KX0scmVqZWN0KX0pfWRlbGV0ZUd1aWxkKGd1aWxkKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWwiLENvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGQoZ3VpbGQuaWQpLHRydWUpLnRoZW4oKCk9PnRoaXMuY2xpZW50LmFjdGlvbnMuR3VpbGREZWxldGUuaGFuZGxlKHtpZDpndWlsZC5pZH0pLmd1aWxkKX1nZXRVc2VyKHVzZXJJRCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixDb25zdGFudHMuRW5kcG9pbnRzLnVzZXIodXNlcklEKSx0cnVlKS50aGVuKGRhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuVXNlckdldC5oYW5kbGUoZGF0YSkudXNlcil9dXBkYXRlQ3VycmVudFVzZXIoX2RhdGEscGFzc3dvcmQpe2NvbnN0IHVzZXI9dGhpcy5jbGllbnQudXNlcjtjb25zdCBkYXRhPXt9O2RhdGEudXNlcm5hbWU9X2RhdGEudXNlcm5hbWV8fHVzZXIudXNlcm5hbWU7ZGF0YS5hdmF0YXI9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJhc2U2NChfZGF0YS5hdmF0YXIpfHx1c2VyLmF2YXRhcjtpZighdXNlci5ib3Qpe2RhdGEuZW1haWw9X2RhdGEuZW1haWx8fHVzZXIuZW1haWw7ZGF0YS5wYXNzd29yZD1wYXNzd29yZDtpZihfZGF0YS5uZXdfcGFzc3dvcmQpZGF0YS5uZXdfcGFzc3dvcmQ9X2RhdGEubmV3UGFzc3dvcmR9cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicGF0Y2giLENvbnN0YW50cy5FbmRwb2ludHMubWUsdHJ1ZSxkYXRhKS50aGVuKG5ld0RhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuVXNlclVwZGF0ZS5oYW5kbGUobmV3RGF0YSkudXBkYXRlZCl9dXBkYXRlR3VpbGQoZ3VpbGQsX2RhdGEpe2NvbnN0IGRhdGE9e307aWYoX2RhdGEubmFtZSlkYXRhLm5hbWU9X2RhdGEubmFtZTtpZihfZGF0YS5yZWdpb24pZGF0YS5yZWdpb249X2RhdGEucmVnaW9uO2lmKF9kYXRhLnZlcmlmaWNhdGlvbkxldmVsKWRhdGEudmVyaWZpY2F0aW9uX2xldmVsPU51bWJlcihfZGF0YS52ZXJpZmljYXRpb25MZXZlbCk7aWYoX2RhdGEuYWZrQ2hhbm5lbClkYXRhLmFma19jaGFubmVsX2lkPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVDaGFubmVsKF9kYXRhLmFma0NoYW5uZWwpLmlkO2lmKF9kYXRhLmFma1RpbWVvdXQpZGF0YS5hZmtfdGltZW91dD1OdW1iZXIoX2RhdGEuYWZrVGltZW91dCk7aWYoX2RhdGEuaWNvbilkYXRhLmljb249dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJhc2U2NChfZGF0YS5pY29uKTtpZihfZGF0YS5vd25lcilkYXRhLm93bmVyX2lkPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVVc2VyKF9kYXRhLm93bmVyKS5pZDtpZihfZGF0YS5zcGxhc2gpZGF0YS5zcGxhc2g9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJhc2U2NChfZGF0YS5zcGxhc2gpO3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBhdGNoIixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkKGd1aWxkLmlkKSx0cnVlLGRhdGEpLnRoZW4obmV3RGF0YT0+dGhpcy5jbGllbnQuYWN0aW9ucy5HdWlsZFVwZGF0ZS5oYW5kbGUobmV3RGF0YSkudXBkYXRlZCl9a2lja0d1aWxkTWVtYmVyKGd1aWxkLG1lbWJlcil7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZGVsIixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkTWVtYmVyKGd1aWxkLmlkLG1lbWJlci5pZCksdHJ1ZSkudGhlbigoKT0+dGhpcy5jbGllbnQuYWN0aW9ucy5HdWlsZE1lbWJlclJlbW92ZS5oYW5kbGUoe2d1aWxkX2lkOmd1aWxkLmlkLHVzZXI6bWVtYmVyLnVzZXJ9KS5tZW1iZXIpfWNyZWF0ZUd1aWxkUm9sZShndWlsZCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicG9zdCIsQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZFJvbGVzKGd1aWxkLmlkKSx0cnVlKS50aGVuKHJvbGU9PnRoaXMuY2xpZW50LmFjdGlvbnMuR3VpbGRSb2xlQ3JlYXRlLmhhbmRsZSh7Z3VpbGRfaWQ6Z3VpbGQuaWQscm9sZTpyb2xlfSkucm9sZSl9ZGVsZXRlR3VpbGRSb2xlKHJvbGUpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImRlbCIsQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZFJvbGUocm9sZS5ndWlsZC5pZCxyb2xlLmlkKSx0cnVlKS50aGVuKCgpPT50aGlzLmNsaWVudC5hY3Rpb25zLkd1aWxkUm9sZURlbGV0ZS5oYW5kbGUoe2d1aWxkX2lkOnJvbGUuZ3VpbGQuaWQscm9sZV9pZDpyb2xlLmlkfSkucm9sZSl9c2V0Q2hhbm5lbE92ZXJ3cml0ZShjaGFubmVsLHBheWxvYWQpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInB1dCIsYCR7Q29uc3RhbnRzLkVuZHBvaW50cy5jaGFubmVsUGVybWlzc2lvbnMoY2hhbm5lbC5pZCl9LyR7cGF5bG9hZC5pZH1gLHRydWUscGF5bG9hZCl9ZGVsZXRlUGVybWlzc2lvbk92ZXJ3cml0ZXMob3ZlcndyaXRlKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWwiLGAke0NvbnN0YW50cy5FbmRwb2ludHMuY2hhbm5lbFBlcm1pc3Npb25zKG92ZXJ3cml0ZS5jaGFubmVsLmlkKX0vJHtvdmVyd3JpdGUuaWR9YCx0cnVlKS50aGVuKCgpPT5vdmVyd3JpdGUpfWdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsLHBheWxvYWQ9e30pe2NvbnN0IHBhcmFtcz1bXTtpZihwYXlsb2FkLmxpbWl0KXBhcmFtcy5wdXNoKGBsaW1pdD0ke3BheWxvYWQubGltaXR9YCk7aWYocGF5bG9hZC5hcm91bmQpcGFyYW1zLnB1c2goYGFyb3VuZD0ke3BheWxvYWQuYXJvdW5kfWApO2Vsc2UgaWYocGF5bG9hZC5iZWZvcmUpcGFyYW1zLnB1c2goYGJlZm9yZT0ke3BheWxvYWQuYmVmb3JlfWApO2Vsc2UgaWYocGF5bG9hZC5hZnRlcilwYXJhbXMucHVzaChgYWZ0ZXI9JHtwYXlsb2FkLmFmdGVyfWApO2xldCBlbmRwb2ludD1Db25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWxNZXNzYWdlcyhjaGFubmVsLmlkKTtpZihwYXJhbXMubGVuZ3RoPjApZW5kcG9pbnQrPWA/JHtwYXJhbXMuam9pbigiJiIpfWA7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixlbmRwb2ludCx0cnVlKX1nZXRDaGFubmVsTWVzc2FnZShjaGFubmVsLG1lc3NhZ2VJRCl7Y29uc3QgbXNnPWNoYW5uZWwubWVzc2FnZXMuZ2V0KG1lc3NhZ2VJRCk7aWYobXNnKXJldHVybiBQcm9taXNlLnJlc29sdmUobXNnKTtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJnZXQiLENvbnN0YW50cy5FbmRwb2ludHMuY2hhbm5lbE1lc3NhZ2UoY2hhbm5lbC5pZCxtZXNzYWdlSUQpLHRydWUpfWdldEd1aWxkTWVtYmVyKGd1aWxkLHVzZXIpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZE1lbWJlcihndWlsZC5pZCx1c2VyLmlkKSx0cnVlKS50aGVuKGRhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuR3VpbGRNZW1iZXJHZXQuaGFuZGxlKGd1aWxkLGRhdGEpLm1lbWJlcil9dXBkYXRlR3VpbGRNZW1iZXIobWVtYmVyLGRhdGEpe2lmKGRhdGEuY2hhbm5lbClkYXRhLmNoYW5uZWxfaWQ9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUNoYW5uZWwoZGF0YS5jaGFubmVsKS5pZDtpZihkYXRhLnJvbGVzKWRhdGEucm9sZXM9ZGF0YS5yb2xlcy5tYXAocm9sZT0+cm9sZSBpbnN0YW5jZW9mIFJvbGU/cm9sZS5pZDpyb2xlKTtsZXQgZW5kcG9pbnQ9Q29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZE1lbWJlcihtZW1iZXIuZ3VpbGQuaWQsbWVtYmVyLmlkKTtpZihtZW1iZXIuaWQ9PT10aGlzLmNsaWVudC51c2VyLmlkKXtjb25zdCBrZXlzPU9iamVjdC5rZXlzKGRhdGEpO2lmKGtleXMubGVuZ3RoPT09MSYma2V5c1swXT09PSJuaWNrIil7ZW5kcG9pbnQ9Q29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZE1lbWJlck5pY2tuYW1lKG1lbWJlci5ndWlsZC5pZCl9fXJldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBhdGNoIixlbmRwb2ludCx0cnVlLGRhdGEpLnRoZW4obmV3RGF0YT0+bWVtYmVyLmd1aWxkLl91cGRhdGVNZW1iZXIobWVtYmVyLG5ld0RhdGEpLm1lbSl9YWRkTWVtYmVyUm9sZShtZW1iZXIscm9sZSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicHV0IixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkTWVtYmVyUm9sZShtZW1iZXIuZ3VpbGQuaWQsbWVtYmVyLmlkLHJvbGUuaWQpLHRydWUpLnRoZW4oKCk9PntpZighbWVtYmVyLl9yb2xlcy5pbmNsdWRlcyhyb2xlLmlkKSltZW1iZXIuX3JvbGVzLnB1c2gocm9sZS5pZCk7cmV0dXJuIG1lbWJlcn0pfXJlbW92ZU1lbWJlclJvbGUobWVtYmVyLHJvbGUpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImRlbGV0ZSIsQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZE1lbWJlclJvbGUobWVtYmVyLmd1aWxkLmlkLG1lbWJlci5pZCxyb2xlLmlkKSx0cnVlKS50aGVuKCgpPT57Y29uc3QgaW5kZXg9bWVtYmVyLl9yb2xlcy5pbmRleE9mKHJvbGUuaWQpO2lmKGluZGV4Pj0wKW1lbWJlci5fcm9sZXMuc3BsaWNlKGluZGV4LDEpO3JldHVybiBtZW1iZXJ9KX1zZW5kVHlwaW5nKGNoYW5uZWxJRCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicG9zdCIsYCR7Q29uc3RhbnRzLkVuZHBvaW50cy5jaGFubmVsKGNoYW5uZWxJRCl9L3R5cGluZ2AsdHJ1ZSl9YmFuR3VpbGRNZW1iZXIoZ3VpbGQsbWVtYmVyLGRlbGV0ZURheXM9MCl7Y29uc3QgaWQ9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVVzZXJJRChtZW1iZXIpO2lmKCFpZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJDb3VsZG4ndCByZXNvbHZlIHRoZSB1c2VyIElEIHRvIGJhbi4iKSk7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicHV0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkQmFucyhndWlsZC5pZCl9LyR7aWR9P2RlbGV0ZS1tZXNzYWdlLWRheXM9JHtkZWxldGVEYXlzfWAsdHJ1ZSx7ImRlbGV0ZS1tZXNzYWdlLWRheXMiOmRlbGV0ZURheXN9KS50aGVuKCgpPT57aWYobWVtYmVyIGluc3RhbmNlb2YgR3VpbGRNZW1iZXIpcmV0dXJuIG1lbWJlcjtjb25zdCB1c2VyPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVVc2VyKGlkKTtpZih1c2VyKXttZW1iZXI9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUd1aWxkTWVtYmVyKGd1aWxkLHVzZXIpO3JldHVybiBtZW1iZXJ8fHVzZXJ9cmV0dXJuIGlkfSl9dW5iYW5HdWlsZE1lbWJlcihndWlsZCxtZW1iZXIpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57Y29uc3QgaWQ9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVVzZXJJRChtZW1iZXIpO2lmKCFpZCl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IHJlc29sdmUgdGhlIHVzZXIgSUQgdG8gdW5iYW4uIik7Y29uc3QgbGlzdGVuZXI9KGVHdWlsZCxlVXNlcik9PntpZihlR3VpbGQuaWQ9PT1ndWlsZC5pZCYmZVVzZXIuaWQ9PT1pZCl7dGhpcy5jbGllbnQucmVtb3ZlTGlzdGVuZXIoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9CQU5fUkVNT1ZFLGxpc3RlbmVyKTt0aGlzLmNsaWVudC5jbGVhclRpbWVvdXQodGltZW91dCk7cmVzb2x2ZShlVXNlcil9fTt0aGlzLmNsaWVudC5vbihDb25zdGFudHMuRXZlbnRzLkdVSUxEX0JBTl9SRU1PVkUsbGlzdGVuZXIpO2NvbnN0IHRpbWVvdXQ9dGhpcy5jbGllbnQuc2V0VGltZW91dCgoKT0+e3RoaXMuY2xpZW50LnJlbW92ZUxpc3RlbmVyKENvbnN0YW50cy5FdmVudHMuR1VJTERfQkFOX1JFTU9WRSxsaXN0ZW5lcik7cmVqZWN0KG5ldyBFcnJvcigiVG9vayB0b28gbG9uZyB0byByZWNlaXZlIHRoZSBiYW4gcmVtb3ZlIGV2ZW50LiIpKX0sMWU0KTt0aGlzLnJlc3QubWFrZVJlcXVlc3QoImRlbCIsYCR7Q29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZEJhbnMoZ3VpbGQuaWQpfS8ke2lkfWAsdHJ1ZSkuY2F0Y2goZXJyPT57dGhpcy5jbGllbnQucmVtb3ZlTGlzdGVuZXIoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9CQU5fUkVNT1ZFLGxpc3RlbmVyKTt0aGlzLmNsaWVudC5jbGVhclRpbWVvdXQodGltZW91dCk7cmVqZWN0KGVycil9KX0pfWdldEd1aWxkQmFucyhndWlsZCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkQmFucyhndWlsZC5pZCksdHJ1ZSkudGhlbihiYW5JdGVtcz0+e2NvbnN0IGJhbm5lZFVzZXJzPW5ldyBDb2xsZWN0aW9uO2Zvcihjb25zdCBiYW5JdGVtIG9mIGJhbkl0ZW1zKXtjb25zdCB1c2VyPXRoaXMuY2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIoYmFuSXRlbS51c2VyKTtiYW5uZWRVc2Vycy5zZXQodXNlci5pZCx1c2VyKX1yZXR1cm4gYmFubmVkVXNlcnN9KX11cGRhdGVHdWlsZFJvbGUocm9sZSxfZGF0YSl7Y29uc3QgZGF0YT17fTtkYXRhLm5hbWU9X2RhdGEubmFtZXx8cm9sZS5uYW1lO2RhdGEucG9zaXRpb249dHlwZW9mIF9kYXRhLnBvc2l0aW9uIT09InVuZGVmaW5lZCI/X2RhdGEucG9zaXRpb246cm9sZS5wb3NpdGlvbjtkYXRhLmNvbG9yPV9kYXRhLmNvbG9yfHxyb2xlLmNvbG9yO2lmKHR5cGVvZiBkYXRhLmNvbG9yPT09InN0cmluZyImJmRhdGEuY29sb3Iuc3RhcnRzV2l0aCgiIyIpKXtkYXRhLmNvbG9yPXBhcnNlSW50KGRhdGEuY29sb3IucmVwbGFjZSgiIyIsIiIpLDE2KX1kYXRhLmhvaXN0PXR5cGVvZiBfZGF0YS5ob2lzdCE9PSJ1bmRlZmluZWQiP19kYXRhLmhvaXN0OnJvbGUuaG9pc3Q7ZGF0YS5tZW50aW9uYWJsZT10eXBlb2YgX2RhdGEubWVudGlvbmFibGUhPT0idW5kZWZpbmVkIj9fZGF0YS5tZW50aW9uYWJsZTpyb2xlLm1lbnRpb25hYmxlO2lmKF9kYXRhLnBlcm1pc3Npb25zKXtsZXQgcGVybXM9MDtmb3IobGV0IHBlcm0gb2YgX2RhdGEucGVybWlzc2lvbnMpe2lmKHR5cGVvZiBwZXJtPT09InN0cmluZyIpcGVybT1Db25zdGFudHMuUGVybWlzc2lvbkZsYWdzW3Blcm1dO3Blcm1zfD1wZXJtfWRhdGEucGVybWlzc2lvbnM9cGVybXN9ZWxzZXtkYXRhLnBlcm1pc3Npb25zPXJvbGUucGVybWlzc2lvbnN9cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicGF0Y2giLENvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGRSb2xlKHJvbGUuZ3VpbGQuaWQscm9sZS5pZCksdHJ1ZSxkYXRhKS50aGVuKF9yb2xlPT50aGlzLmNsaWVudC5hY3Rpb25zLkd1aWxkUm9sZVVwZGF0ZS5oYW5kbGUoe3JvbGU6X3JvbGUsZ3VpbGRfaWQ6cm9sZS5ndWlsZC5pZH0pLnVwZGF0ZWQpfXBpbk1lc3NhZ2UobWVzc2FnZSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicHV0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWwobWVzc2FnZS5jaGFubmVsLmlkKX0vcGlucy8ke21lc3NhZ2UuaWR9YCx0cnVlKS50aGVuKCgpPT5tZXNzYWdlKX11bnBpbk1lc3NhZ2UobWVzc2FnZSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZGVsIixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWwobWVzc2FnZS5jaGFubmVsLmlkKX0vcGlucy8ke21lc3NhZ2UuaWR9YCx0cnVlKS50aGVuKCgpPT5tZXNzYWdlKX1nZXRDaGFubmVsUGlubmVkTWVzc2FnZXMoY2hhbm5lbCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWwoY2hhbm5lbC5pZCl9L3BpbnNgLHRydWUpfWNyZWF0ZUNoYW5uZWxJbnZpdGUoY2hhbm5lbCxvcHRpb25zKXtjb25zdCBwYXlsb2FkPXt9O3BheWxvYWQudGVtcG9yYXJ5PW9wdGlvbnMudGVtcG9yYXJ5O3BheWxvYWQubWF4X2FnZT1vcHRpb25zLm1heEFnZTtwYXlsb2FkLm1heF91c2VzPW9wdGlvbnMubWF4VXNlcztyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWxJbnZpdGVzKGNoYW5uZWwuaWQpfWAsdHJ1ZSxwYXlsb2FkKS50aGVuKGludml0ZT0+bmV3IEludml0ZSh0aGlzLmNsaWVudCxpbnZpdGUpKX1kZWxldGVJbnZpdGUoaW52aXRlKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWwiLENvbnN0YW50cy5FbmRwb2ludHMuaW52aXRlKGludml0ZS5jb2RlKSx0cnVlKS50aGVuKCgpPT5pbnZpdGUpfWdldEludml0ZShjb2RlKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJnZXQiLENvbnN0YW50cy5FbmRwb2ludHMuaW52aXRlKGNvZGUpLHRydWUpLnRoZW4oaW52aXRlPT5uZXcgSW52aXRlKHRoaXMuY2xpZW50LGludml0ZSkpfWdldEd1aWxkSW52aXRlcyhndWlsZCl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZ2V0IixDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkSW52aXRlcyhndWlsZC5pZCksdHJ1ZSkudGhlbihpbnZpdGVJdGVtcz0+e2NvbnN0IGludml0ZXM9bmV3IENvbGxlY3Rpb247Zm9yKGNvbnN0IGludml0ZUl0ZW0gb2YgaW52aXRlSXRlbXMpe2NvbnN0IGludml0ZT1uZXcgSW52aXRlKHRoaXMuY2xpZW50LGludml0ZUl0ZW0pO2ludml0ZXMuc2V0KGludml0ZS5jb2RlLGludml0ZSl9cmV0dXJuIGludml0ZXN9KX1wcnVuZUd1aWxkTWVtYmVycyhndWlsZCxkYXlzLGRyeSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdChkcnk/ImdldCI6InBvc3QiLGAke0NvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGRQcnVuZShndWlsZC5pZCl9P2RheXM9JHtkYXlzfWAsdHJ1ZSkudGhlbihkYXRhPT5kYXRhLnBydW5lZCl9Y3JlYXRlRW1vamkoZ3VpbGQsaW1hZ2UsbmFtZSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicG9zdCIsYCR7Q29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZEVtb2ppcyhndWlsZC5pZCl9YCx0cnVlLHtuYW1lOm5hbWUsaW1hZ2U6aW1hZ2V9KS50aGVuKGRhdGE9PnRoaXMuY2xpZW50LmFjdGlvbnMuRW1vamlDcmVhdGUuaGFuZGxlKGRhdGEsZ3VpbGQpLmVtb2ppKX1kZWxldGVFbW9qaShlbW9qaSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZGVsZXRlIixgJHtDb25zdGFudHMuRW5kcG9pbnRzLmd1aWxkRW1vamlzKGVtb2ppLmd1aWxkLmlkKX0vJHtlbW9qaS5pZH1gLHRydWUpLnRoZW4oKCk9PnRoaXMuY2xpZW50LmFjdGlvbnMuRW1vamlEZWxldGUuaGFuZGxlKGVtb2ppKS5kYXRhKX1nZXRXZWJob29rKGlkLHRva2VuKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJnZXQiLENvbnN0YW50cy5FbmRwb2ludHMud2ViaG9vayhpZCx0b2tlbiksIXRva2VuKS50aGVuKGRhdGE9Pm5ldyBXZWJob29rKHRoaXMuY2xpZW50LGRhdGEpKX1nZXRHdWlsZFdlYmhvb2tzKGd1aWxkKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJnZXQiLENvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGRXZWJob29rcyhndWlsZC5pZCksdHJ1ZSkudGhlbihkYXRhPT57Y29uc3QgaG9va3M9bmV3IENvbGxlY3Rpb247Zm9yKGNvbnN0IGhvb2sgb2YgZGF0YSlob29rcy5zZXQoaG9vay5pZCxuZXcgV2ViaG9vayh0aGlzLmNsaWVudCxob29rKSk7cmV0dXJuIGhvb2tzfSl9Z2V0Q2hhbm5lbFdlYmhvb2tzKGNoYW5uZWwpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy5jaGFubmVsV2ViaG9va3MoY2hhbm5lbC5pZCksdHJ1ZSkudGhlbihkYXRhPT57Y29uc3QgaG9va3M9bmV3IENvbGxlY3Rpb247Zm9yKGNvbnN0IGhvb2sgb2YgZGF0YSlob29rcy5zZXQoaG9vay5pZCxuZXcgV2ViaG9vayh0aGlzLmNsaWVudCxob29rKSk7cmV0dXJuIGhvb2tzfSl9Y3JlYXRlV2ViaG9vayhjaGFubmVsLG5hbWUsYXZhdGFyKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixDb25zdGFudHMuRW5kcG9pbnRzLmNoYW5uZWxXZWJob29rcyhjaGFubmVsLmlkKSx0cnVlLHtuYW1lOm5hbWUsYXZhdGFyOmF2YXRhcn0pLnRoZW4oZGF0YT0+bmV3IFdlYmhvb2sodGhpcy5jbGllbnQsZGF0YSkpfWVkaXRXZWJob29rKHdlYmhvb2ssbmFtZSxhdmF0YXIpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBhdGNoIixDb25zdGFudHMuRW5kcG9pbnRzLndlYmhvb2sod2ViaG9vay5pZCx3ZWJob29rLnRva2VuKSxmYWxzZSx7bmFtZTpuYW1lLGF2YXRhcjphdmF0YXJ9KS50aGVuKGRhdGE9Pnt3ZWJob29rLm5hbWU9ZGF0YS5uYW1lO3dlYmhvb2suYXZhdGFyPWRhdGEuYXZhdGFyO3JldHVybiB3ZWJob29rfSl9ZGVsZXRlV2ViaG9vayh3ZWJob29rKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWxldGUiLENvbnN0YW50cy5FbmRwb2ludHMud2ViaG9vayh3ZWJob29rLmlkLHdlYmhvb2sudG9rZW4pLGZhbHNlKX1zZW5kV2ViaG9va01lc3NhZ2Uod2ViaG9vayxjb250ZW50LHthdmF0YXJVUkw6YXZhdGFyVVJMLHR0czp0dHMsZGlzYWJsZUV2ZXJ5b25lOmRpc2FibGVFdmVyeW9uZSxlbWJlZHM6ZW1iZWRzfT17fSxmaWxlPW51bGwpe2lmKHR5cGVvZiBjb250ZW50IT09InVuZGVmaW5lZCIpY29udGVudD10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlU3RyaW5nKGNvbnRlbnQpO2lmKGNvbnRlbnQpe2lmKGRpc2FibGVFdmVyeW9uZXx8dHlwZW9mIGRpc2FibGVFdmVyeW9uZT09PSJ1bmRlZmluZWQiJiZ0aGlzLmNsaWVudC5vcHRpb25zLmRpc2FibGVFdmVyeW9uZSl7Y29udGVudD1jb250ZW50LnJlcGxhY2UoL0AoZXZlcnlvbmV8aGVyZSkvZywiQskMSIpfX1yZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLndlYmhvb2sod2ViaG9vay5pZCx3ZWJob29rLnRva2VuKX0/d2FpdD10cnVlYCxmYWxzZSx7dXNlcm5hbWU6d2ViaG9vay5uYW1lLGF2YXRhcl91cmw6YXZhdGFyVVJMLGNvbnRlbnQ6Y29udGVudCx0dHM6dHRzLGZpbGU6ZmlsZSxlbWJlZHM6ZW1iZWRzfSl9c2VuZFNsYWNrV2ViaG9va01lc3NhZ2Uod2ViaG9vayxib2R5KXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwb3N0IixgJHtDb25zdGFudHMuRW5kcG9pbnRzLndlYmhvb2sod2ViaG9vay5pZCx3ZWJob29rLnRva2VuKX0vc2xhY2s/d2FpdD10cnVlYCxmYWxzZSxib2R5KX1mZXRjaFVzZXJQcm9maWxlKHVzZXIpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy51c2VyUHJvZmlsZSh1c2VyLmlkKSx0cnVlKS50aGVuKGRhdGE9Pm5ldyBVc2VyUHJvZmlsZSh1c2VyLGRhdGEpKX1mZXRjaE1lTWVudGlvbnMob3B0aW9ucyl7aWYob3B0aW9ucy5ndWlsZClvcHRpb25zLmd1aWxkPW9wdGlvbnMuZ3VpbGQuaWQ/b3B0aW9ucy5ndWlsZC5pZDpvcHRpb25zLmd1aWxkO3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy5tZU1lbnRpb25zKG9wdGlvbnMubGltaXQsb3B0aW9ucy5yb2xlcyxvcHRpb25zLmV2ZXJ5b25lLG9wdGlvbnMuZ3VpbGQpKS50aGVuKHJlcz0+cmVzLmJvZHkubWFwKG09Pm5ldyBNZXNzYWdlKHRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChtLmNoYW5uZWxfaWQpLG0sdGhpcy5jbGllbnQpKSl9YWRkRnJpZW5kKHVzZXIpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoInBvc3QiLENvbnN0YW50cy5FbmRwb2ludHMucmVsYXRpb25zaGlwcygiQG1lIiksdHJ1ZSx7dXNlcm5hbWU6dXNlci51c2VybmFtZSxkaXNjcmltaW5hdG9yOnVzZXIuZGlzY3JpbWluYXRvcn0pLnRoZW4oKCk9PnVzZXIpfXJlbW92ZUZyaWVuZCh1c2VyKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWxldGUiLGAke0NvbnN0YW50cy5FbmRwb2ludHMucmVsYXRpb25zaGlwcygiQG1lIil9LyR7dXNlci5pZH1gLHRydWUpLnRoZW4oKCk9PnVzZXIpfWJsb2NrVXNlcih1c2VyKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwdXQiLGAke0NvbnN0YW50cy5FbmRwb2ludHMucmVsYXRpb25zaGlwcygiQG1lIil9LyR7dXNlci5pZH1gLHRydWUse3R5cGU6Mn0pLnRoZW4oKCk9PnVzZXIpfXVuYmxvY2tVc2VyKHVzZXIpe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImRlbGV0ZSIsYCR7Q29uc3RhbnRzLkVuZHBvaW50cy5yZWxhdGlvbnNoaXBzKCJAbWUiKX0vJHt1c2VyLmlkfWAsdHJ1ZSkudGhlbigoKT0+dXNlcil9c2V0Um9sZVBvc2l0aW9ucyhndWlsZElELHJvbGVzKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwYXRjaCIsQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZFJvbGVzKGd1aWxkSUQpLHRydWUscm9sZXMpLnRoZW4oKCk9PnRoaXMuY2xpZW50LmFjdGlvbnMuR3VpbGRSb2xlc1Bvc2l0aW9uVXBkYXRlLmhhbmRsZSh7Z3VpbGRfaWQ6Z3VpbGRJRCxyb2xlczpyb2xlc30pLmd1aWxkKX1hZGRNZXNzYWdlUmVhY3Rpb24obWVzc2FnZSxlbW9qaSl7cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgicHV0IixDb25zdGFudHMuRW5kcG9pbnRzLnNlbGZNZXNzYWdlUmVhY3Rpb24obWVzc2FnZS5jaGFubmVsLmlkLG1lc3NhZ2UuaWQsZW1vamkpLHRydWUpLnRoZW4oKCk9PnRoaXMuY2xpZW50LmFjdGlvbnMuTWVzc2FnZVJlYWN0aW9uQWRkLmhhbmRsZSh7dXNlcl9pZDp0aGlzLmNsaWVudC51c2VyLmlkLG1lc3NhZ2VfaWQ6bWVzc2FnZS5pZCxlbW9qaTpwYXJzZUVtb2ppKGVtb2ppKSxjaGFubmVsX2lkOm1lc3NhZ2UuY2hhbm5lbC5pZH0pLnJlYWN0aW9uKX1yZW1vdmVNZXNzYWdlUmVhY3Rpb24obWVzc2FnZSxlbW9qaSx1c2VyKXtsZXQgZW5kcG9pbnQ9Q29uc3RhbnRzLkVuZHBvaW50cy5zZWxmTWVzc2FnZVJlYWN0aW9uKG1lc3NhZ2UuY2hhbm5lbC5pZCxtZXNzYWdlLmlkLGVtb2ppKTtpZih1c2VyLmlkIT09dGhpcy5jbGllbnQudXNlci5pZCl7ZW5kcG9pbnQ9Q29uc3RhbnRzLkVuZHBvaW50cy51c2VyTWVzc2FnZVJlYWN0aW9uKG1lc3NhZ2UuY2hhbm5lbC5pZCxtZXNzYWdlLmlkLGVtb2ppLG51bGwsdXNlci5pZCl9cmV0dXJuIHRoaXMucmVzdC5tYWtlUmVxdWVzdCgiZGVsZXRlIixlbmRwb2ludCx0cnVlKS50aGVuKCgpPT50aGlzLmNsaWVudC5hY3Rpb25zLk1lc3NhZ2VSZWFjdGlvblJlbW92ZS5oYW5kbGUoe3VzZXJfaWQ6dXNlci5pZCxtZXNzYWdlX2lkOm1lc3NhZ2UuaWQsZW1vamk6cGFyc2VFbW9qaShlbW9qaSksY2hhbm5lbF9pZDptZXNzYWdlLmNoYW5uZWwuaWR9KS5yZWFjdGlvbil9cmVtb3ZlTWVzc2FnZVJlYWN0aW9ucyhtZXNzYWdlKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJkZWxldGUiLENvbnN0YW50cy5FbmRwb2ludHMubWVzc2FnZVJlYWN0aW9ucyhtZXNzYWdlLmNoYW5uZWwuaWQsbWVzc2FnZS5pZCksdHJ1ZSkudGhlbigoKT0+bWVzc2FnZSl9Z2V0TWVzc2FnZVJlYWN0aW9uVXNlcnMobWVzc2FnZSxlbW9qaSxsaW1pdD0xMDApe3JldHVybiB0aGlzLnJlc3QubWFrZVJlcXVlc3QoImdldCIsQ29uc3RhbnRzLkVuZHBvaW50cy5tZXNzYWdlUmVhY3Rpb24obWVzc2FnZS5jaGFubmVsLmlkLG1lc3NhZ2UuaWQsZW1vamksbGltaXQpLHRydWUpfWdldE15QXBwbGljYXRpb24oKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJnZXQiLENvbnN0YW50cy5FbmRwb2ludHMubXlBcHBsaWNhdGlvbix0cnVlKS50aGVuKGFwcD0+bmV3IENsaWVudE9BdXRoMkFwcGxpY2F0aW9uKHRoaXMuY2xpZW50LGFwcCkpfXNldE5vdGUodXNlcixub3RlKXtyZXR1cm4gdGhpcy5yZXN0Lm1ha2VSZXF1ZXN0KCJwdXQiLENvbnN0YW50cy5FbmRwb2ludHMubm90ZSh1c2VyLmlkKSx0cnVlLHtub3RlOm5vdGV9KS50aGVuKCgpPT51c2VyKX19bW9kdWxlLmV4cG9ydHM9UkVTVE1ldGhvZHN9LHsiLi4vLi4vc3RydWN0dXJlcy9DbGllbnRPQXV0aDJBcHBsaWNhdGlvbiI6MTAxLCIuLi8uLi9zdHJ1Y3R1cmVzL0d1aWxkTWVtYmVyIjoxMDksIi4uLy4uL3N0cnVjdHVyZXMvSW52aXRlIjoxMTAsIi4uLy4uL3N0cnVjdHVyZXMvTWVzc2FnZSI6MTExLCIuLi8uLi9zdHJ1Y3R1cmVzL1JvbGUiOjEyMywiLi4vLi4vc3RydWN0dXJlcy9Vc2VyIjoxMjUsIi4uLy4uL3N0cnVjdHVyZXMvVXNlclByb2ZpbGUiOjEyNywiLi4vLi4vc3RydWN0dXJlcy9XZWJob29rIjoxMjksIi4uLy4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuLi8uLi91dGlsL0VzY2FwZU1hcmtkb3duIjoxMzYsIi4uLy4uL3V0aWwvUGFyc2VFbW9qaSI6MTQxLCIuLi8uLi91dGlsL1NwbGl0TWVzc2FnZSI6MTQyfV0sMzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFJlcXVlc3RIYW5kbGVyPXJlcXVpcmUoIi4vUmVxdWVzdEhhbmRsZXIiKTtjbGFzcyBCdXJzdFJlcXVlc3RIYW5kbGVyIGV4dGVuZHMgUmVxdWVzdEhhbmRsZXJ7Y29uc3RydWN0b3IocmVzdE1hbmFnZXIsZW5kcG9pbnQpe3N1cGVyKHJlc3RNYW5hZ2VyLGVuZHBvaW50KTt0aGlzLnJlcXVlc3RSZW1haW5pbmc9MTt0aGlzLmZpcnN0PXRydWV9cHVzaChyZXF1ZXN0KXtzdXBlci5wdXNoKHJlcXVlc3QpO3RoaXMuaGFuZGxlKCl9aGFuZGxlTmV4dCh0aW1lKXtpZih0aGlzLndhaXRpbmcpcmV0dXJuO3RoaXMud2FpdGluZz10cnVlO3RoaXMucmVzdE1hbmFnZXIuY2xpZW50LnNldFRpbWVvdXQoKCk9Pnt0aGlzLnJlcXVlc3RSZW1haW5pbmc9dGhpcy5yZXF1ZXN0TGltaXQ7dGhpcy53YWl0aW5nPWZhbHNlO3RoaXMuaGFuZGxlKCl9LHRpbWUpfWV4ZWN1dGUoaXRlbSl7aXRlbS5yZXF1ZXN0LmdlbigpLmVuZCgoZXJyLHJlcyk9PntpZihyZXMmJnJlcy5oZWFkZXJzKXt0aGlzLnJlcXVlc3RMaW1pdD1yZXMuaGVhZGVyc1sieC1yYXRlbGltaXQtbGltaXQiXTt0aGlzLnJlcXVlc3RSZXNldFRpbWU9TnVtYmVyKHJlcy5oZWFkZXJzWyJ4LXJhdGVsaW1pdC1yZXNldCJdKSoxZTM7dGhpcy5yZXF1ZXN0UmVtYWluaW5nPU51bWJlcihyZXMuaGVhZGVyc1sieC1yYXRlbGltaXQtcmVtYWluaW5nIl0pO3RoaXMudGltZURpZmZlcmVuY2U9RGF0ZS5ub3coKS1uZXcgRGF0ZShyZXMuaGVhZGVycy5kYXRlKS5nZXRUaW1lKCk7dGhpcy5oYW5kbGVOZXh0KHRoaXMucmVxdWVzdFJlc2V0VGltZS1EYXRlLm5vdygpK3RoaXMudGltZURpZmZlcmVuY2UrdGhpcy5yZXN0TWFuYWdlci5jbGllbnQub3B0aW9ucy5yZXN0VGltZU9mZnNldCl9aWYoZXJyKXtpZihlcnIuc3RhdHVzPT09NDI5KXt0aGlzLnJlcXVlc3RSZW1haW5pbmc9MDt0aGlzLnF1ZXVlLnVuc2hpZnQoaXRlbSk7dGhpcy5yZXN0TWFuYWdlci5jbGllbnQuc2V0VGltZW91dCgoKT0+e3RoaXMuZ2xvYmFsTGltaXQ9ZmFsc2U7dGhpcy5oYW5kbGUoKX0sTnVtYmVyKHJlcy5oZWFkZXJzWyJyZXRyeS1hZnRlciJdKSt0aGlzLnJlc3RNYW5hZ2VyLmNsaWVudC5vcHRpb25zLnJlc3RUaW1lT2Zmc2V0KTtpZihyZXMuaGVhZGVyc1sieC1yYXRlbGltaXQtZ2xvYmFsIl0pdGhpcy5nbG9iYWxMaW1pdD10cnVlfWVsc2V7aXRlbS5yZWplY3QoZXJyKX19ZWxzZXt0aGlzLmdsb2JhbExpbWl0PWZhbHNlO2NvbnN0IGRhdGE9cmVzJiZyZXMuYm9keT9yZXMuYm9keTp7fTtpdGVtLnJlc29sdmUoZGF0YSk7aWYodGhpcy5maXJzdCl7dGhpcy5maXJzdD1mYWxzZTt0aGlzLmhhbmRsZSgpfX19KX1oYW5kbGUoKXtzdXBlci5oYW5kbGUoKTtpZih0aGlzLnJlcXVlc3RSZW1haW5pbmc8MXx8dGhpcy5xdWV1ZS5sZW5ndGg9PT0wfHx0aGlzLmdsb2JhbExpbWl0KXJldHVybjt3aGlsZSh0aGlzLnF1ZXVlLmxlbmd0aD4wJiZ0aGlzLnJlcXVlc3RSZW1haW5pbmc+MCl7dGhpcy5leGVjdXRlKHRoaXMucXVldWUuc2hpZnQoKSk7dGhpcy5yZXF1ZXN0UmVtYWluaW5nLS19fX1tb2R1bGUuZXhwb3J0cz1CdXJzdFJlcXVlc3RIYW5kbGVyfSx7Ii4vUmVxdWVzdEhhbmRsZXIiOjQwfV0sNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NsYXNzIFJlcXVlc3RIYW5kbGVye2NvbnN0cnVjdG9yKHJlc3RNYW5hZ2VyKXt0aGlzLnJlc3RNYW5hZ2VyPXJlc3RNYW5hZ2VyO3RoaXMucXVldWU9W119Z2V0IGdsb2JhbExpbWl0KCl7cmV0dXJuIHRoaXMucmVzdE1hbmFnZXIuZ2xvYmFsbHlSYXRlTGltaXRlZH1zZXQgZ2xvYmFsTGltaXQodmFsdWUpe3RoaXMucmVzdE1hbmFnZXIuZ2xvYmFsbHlSYXRlTGltaXRlZD12YWx1ZX1wdXNoKHJlcXVlc3Qpe3RoaXMucXVldWUucHVzaChyZXF1ZXN0KX1oYW5kbGUoKXtyZXR1cm59fW1vZHVsZS5leHBvcnRzPVJlcXVlc3RIYW5kbGVyfSx7fV0sNDE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFJlcXVlc3RIYW5kbGVyPXJlcXVpcmUoIi4vUmVxdWVzdEhhbmRsZXIiKTtjbGFzcyBTZXF1ZW50aWFsUmVxdWVzdEhhbmRsZXIgZXh0ZW5kcyBSZXF1ZXN0SGFuZGxlcntjb25zdHJ1Y3RvcihyZXN0TWFuYWdlcixlbmRwb2ludCl7c3VwZXIocmVzdE1hbmFnZXIsZW5kcG9pbnQpO3RoaXMud2FpdGluZz1mYWxzZTt0aGlzLmVuZHBvaW50PWVuZHBvaW50O3RoaXMudGltZURpZmZlcmVuY2U9MH1wdXNoKHJlcXVlc3Qpe3N1cGVyLnB1c2gocmVxdWVzdCk7dGhpcy5oYW5kbGUoKX1leGVjdXRlKGl0ZW0pe3JldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT57aXRlbS5yZXF1ZXN0LmdlbigpLmVuZCgoZXJyLHJlcyk9PntpZihyZXMmJnJlcy5oZWFkZXJzKXt0aGlzLnJlcXVlc3RMaW1pdD1yZXMuaGVhZGVyc1sieC1yYXRlbGltaXQtbGltaXQiXTt0aGlzLnJlcXVlc3RSZXNldFRpbWU9TnVtYmVyKHJlcy5oZWFkZXJzWyJ4LXJhdGVsaW1pdC1yZXNldCJdKSoxZTM7dGhpcy5yZXF1ZXN0UmVtYWluaW5nPU51bWJlcihyZXMuaGVhZGVyc1sieC1yYXRlbGltaXQtcmVtYWluaW5nIl0pO3RoaXMudGltZURpZmZlcmVuY2U9RGF0ZS5ub3coKS1uZXcgRGF0ZShyZXMuaGVhZGVycy5kYXRlKS5nZXRUaW1lKCl9aWYoZXJyKXtpZihlcnIuc3RhdHVzPT09NDI5KXt0aGlzLnJlc3RNYW5hZ2VyLmNsaWVudC5zZXRUaW1lb3V0KCgpPT57dGhpcy53YWl0aW5nPWZhbHNlO3RoaXMuZ2xvYmFsTGltaXQ9ZmFsc2U7cmVzb2x2ZSgpfSxOdW1iZXIocmVzLmhlYWRlcnNbInJldHJ5LWFmdGVyIl0pK3RoaXMucmVzdE1hbmFnZXIuY2xpZW50Lm9wdGlvbnMucmVzdFRpbWVPZmZzZXQpO2lmKHJlcy5oZWFkZXJzWyJ4LXJhdGVsaW1pdC1nbG9iYWwiXSl0aGlzLmdsb2JhbExpbWl0PXRydWV9ZWxzZXt0aGlzLnF1ZXVlLnNoaWZ0KCk7dGhpcy53YWl0aW5nPWZhbHNlO2l0ZW0ucmVqZWN0KGVycik7cmVzb2x2ZShlcnIpfX1lbHNle3RoaXMucXVldWUuc2hpZnQoKTt0aGlzLmdsb2JhbExpbWl0PWZhbHNlO2NvbnN0IGRhdGE9cmVzJiZyZXMuYm9keT9yZXMuYm9keTp7fTtpdGVtLnJlc29sdmUoZGF0YSk7aWYodGhpcy5yZXF1ZXN0UmVtYWluaW5nPT09MCl7dGhpcy5yZXN0TWFuYWdlci5jbGllbnQuc2V0VGltZW91dCgoKT0+e3RoaXMud2FpdGluZz1mYWxzZTtyZXNvbHZlKGRhdGEpfSx0aGlzLnJlcXVlc3RSZXNldFRpbWUtRGF0ZS5ub3coKSt0aGlzLnRpbWVEaWZmZXJlbmNlK3RoaXMucmVzdE1hbmFnZXIuY2xpZW50Lm9wdGlvbnMucmVzdFRpbWVPZmZzZXQpfWVsc2V7dGhpcy53YWl0aW5nPWZhbHNlO3Jlc29sdmUoZGF0YSl9fX0pfSl9aGFuZGxlKCl7c3VwZXIuaGFuZGxlKCk7aWYodGhpcy53YWl0aW5nfHx0aGlzLnF1ZXVlLmxlbmd0aD09PTB8fHRoaXMuZ2xvYmFsTGltaXQpcmV0dXJuO3RoaXMud2FpdGluZz10cnVlO2NvbnN0IGl0ZW09dGhpcy5xdWV1ZVswXTt0aGlzLmV4ZWN1dGUoaXRlbSkudGhlbigoKT0+dGhpcy5oYW5kbGUoKSl9fW1vZHVsZS5leHBvcnRzPVNlcXVlbnRpYWxSZXF1ZXN0SGFuZGxlcn0seyIuL1JlcXVlc3RIYW5kbGVyIjo0MH1dLDQyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBVc2VyQWdlbnRNYW5hZ2Vye2NvbnN0cnVjdG9yKHJlc3RNYW5hZ2VyKXt0aGlzLnJlc3RNYW5hZ2VyPXJlc3RNYW5hZ2VyO3RoaXMuX3VzZXJBZ2VudD17dXJsOiJodHRwczovL2dpdGh1Yi5jb20vaHlkcmFib2x0L2Rpc2NvcmQuanMiLHZlcnNpb246Q29uc3RhbnRzLlBhY2thZ2UudmVyc2lvbn19c2V0KGluZm8pe3RoaXMuX3VzZXJBZ2VudC51cmw9aW5mby51cmx8fCJodHRwczovL2dpdGh1Yi5jb20vaHlkcmFib2x0L2Rpc2NvcmQuanMiO3RoaXMuX3VzZXJBZ2VudC52ZXJzaW9uPWluZm8udmVyc2lvbnx8Q29uc3RhbnRzLlBhY2thZ2UudmVyc2lvbn1nZXQgdXNlckFnZW50KCl7cmV0dXJuYERpc2NvcmRCb3QgKCR7dGhpcy5fdXNlckFnZW50LnVybH0sICR7dGhpcy5fdXNlckFnZW50LnZlcnNpb259KWB9fW1vZHVsZS5leHBvcnRzPVVzZXJBZ2VudE1hbmFnZXJ9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNH1dLDQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29sbGVjdGlvbiIpO2NvbnN0IG1lcmdlRGVmYXVsdD1yZXF1aXJlKCIuLi8uLi91dGlsL01lcmdlRGVmYXVsdCIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IFZvaWNlQ29ubmVjdGlvbj1yZXF1aXJlKCIuL1ZvaWNlQ29ubmVjdGlvbiIpO2NvbnN0IEV2ZW50RW1pdHRlcj1yZXF1aXJlKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7Y2xhc3MgQ2xpZW50Vm9pY2VNYW5hZ2Vye2NvbnN0cnVjdG9yKGNsaWVudCl7dGhpcy5jbGllbnQ9Y2xpZW50O3RoaXMuY29ubmVjdGlvbnM9bmV3IENvbGxlY3Rpb247dGhpcy5wZW5kaW5nPW5ldyBDb2xsZWN0aW9uO3RoaXMuY2xpZW50Lm9uKCJzZWxmLnZvaWNlU2VydmVyIix0aGlzLm9uVm9pY2VTZXJ2ZXIuYmluZCh0aGlzKSk7dGhpcy5jbGllbnQub24oInNlbGYudm9pY2VTdGF0ZVVwZGF0ZSIsdGhpcy5vblZvaWNlU3RhdGVVcGRhdGUuYmluZCh0aGlzKSl9b25Wb2ljZVNlcnZlcihkYXRhKXtpZih0aGlzLnBlbmRpbmcuaGFzKGRhdGEuZ3VpbGRfaWQpKXRoaXMucGVuZGluZy5nZXQoZGF0YS5ndWlsZF9pZCkuc2V0VG9rZW5BbmRFbmRwb2ludChkYXRhLnRva2VuLGRhdGEuZW5kcG9pbnQpfW9uVm9pY2VTdGF0ZVVwZGF0ZShkYXRhKXtpZih0aGlzLnBlbmRpbmcuaGFzKGRhdGEuZ3VpbGRfaWQpKXRoaXMucGVuZGluZy5nZXQoZGF0YS5ndWlsZF9pZCkuc2V0U2Vzc2lvbklEKGRhdGEuc2Vzc2lvbl9pZCl9c2VuZFZvaWNlU3RhdGVVcGRhdGUoY2hhbm5lbCxvcHRpb25zPXt9KXtpZighdGhpcy5jbGllbnQudXNlcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBqb2luIGJlY2F1c2UgdGhlcmUgaXMgbm8gY2xpZW50IHVzZXIuIik7aWYoIWNoYW5uZWwucGVybWlzc2lvbnNGb3Ipe3Rocm93IG5ldyBFcnJvcigiQ2hhbm5lbCBkb2VzIG5vdCBzdXBwb3J0IHBlcm1pc3Npb25zRm9yOyBpcyBpdCByZWFsbHkgYSB2b2ljZSBjaGFubmVsPyIpfWNvbnN0IHBlcm1pc3Npb25zPWNoYW5uZWwucGVybWlzc2lvbnNGb3IodGhpcy5jbGllbnQudXNlcik7aWYoIXBlcm1pc3Npb25zKXt0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGlzIG5vIHBlcm1pc3Npb24gc2V0IGZvciB0aGUgY2xpZW50IHVzZXIgaW4gdGhpcyBjaGFubmVsIC0gYXJlIHRoZXkgcGFydCBvZiB0aGUgZ3VpbGQ/Iil9aWYoIXBlcm1pc3Npb25zLmhhc1Blcm1pc3Npb24oIkNPTk5FQ1QiKSl7dGhyb3cgbmV3IEVycm9yKCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBqb2luIHRoaXMgdm9pY2UgY2hhbm5lbC4iKX1vcHRpb25zPW1lcmdlRGVmYXVsdCh7Z3VpbGRfaWQ6Y2hhbm5lbC5ndWlsZC5pZCxjaGFubmVsX2lkOmNoYW5uZWwuaWQsc2VsZl9tdXRlOmZhbHNlLHNlbGZfZGVhZjpmYWxzZX0sb3B0aW9ucyk7dGhpcy5jbGllbnQud3Muc2VuZCh7b3A6Q29uc3RhbnRzLk9QQ29kZXMuVk9JQ0VfU1RBVEVfVVBEQVRFLGQ6b3B0aW9uc30pfWpvaW5DaGFubmVsKGNoYW5uZWwpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57aWYodGhpcy5wZW5kaW5nLmdldChjaGFubmVsLmd1aWxkLmlkKSl0aHJvdyBuZXcgRXJyb3IoIkFscmVhZHkgY29ubmVjdGluZyB0byB0aGlzIGd1aWxkJ3Mgdm9pY2Ugc2VydmVyLiIpO2lmKCFjaGFubmVsLmpvaW5hYmxlKXRocm93IG5ldyBFcnJvcigiWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gam9pbiB0aGlzIHZvaWNlIGNoYW5uZWwuIik7Y29uc3QgZXhpc3RpbmdDb25uZWN0aW9uPXRoaXMuY29ubmVjdGlvbnMuZ2V0KGNoYW5uZWwuZ3VpbGQuaWQpO2lmKGV4aXN0aW5nQ29ubmVjdGlvbil7aWYoZXhpc3RpbmdDb25uZWN0aW9uLmNoYW5uZWwuaWQhPT1jaGFubmVsLmlkKXt0aGlzLnNlbmRWb2ljZVN0YXRlVXBkYXRlKGNoYW5uZWwpO3RoaXMuY29ubmVjdGlvbnMuZ2V0KGNoYW5uZWwuZ3VpbGQuaWQpLmNoYW5uZWw9Y2hhbm5lbH1yZXNvbHZlKGV4aXN0aW5nQ29ubmVjdGlvbik7cmV0dXJufWNvbnN0IHBlbmRpbmdDb25uZWN0aW9uPW5ldyBQZW5kaW5nVm9pY2VDb25uZWN0aW9uKHRoaXMsY2hhbm5lbCk7dGhpcy5wZW5kaW5nLnNldChjaGFubmVsLmd1aWxkLmlkLHBlbmRpbmdDb25uZWN0aW9uKTtwZW5kaW5nQ29ubmVjdGlvbi5vbigiZmFpbCIscmVhc29uPT57dGhpcy5wZW5kaW5nLmRlbGV0ZShjaGFubmVsLmd1aWxkLmlkKTtyZWplY3QocmVhc29uKX0pO3BlbmRpbmdDb25uZWN0aW9uLm9uKCJwYXNzIix2b2ljZUNvbm5lY3Rpb249Pnt0aGlzLnBlbmRpbmcuZGVsZXRlKGNoYW5uZWwuZ3VpbGQuaWQpO3RoaXMuY29ubmVjdGlvbnMuc2V0KGNoYW5uZWwuZ3VpbGQuaWQsdm9pY2VDb25uZWN0aW9uKTt2b2ljZUNvbm5lY3Rpb24ub25jZSgicmVhZHkiLCgpPT5yZXNvbHZlKHZvaWNlQ29ubmVjdGlvbikpO3ZvaWNlQ29ubmVjdGlvbi5vbmNlKCJlcnJvciIscmVqZWN0KTt2b2ljZUNvbm5lY3Rpb24ub25jZSgiZGlzY29ubmVjdCIsKCk9PnRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKGNoYW5uZWwuZ3VpbGQuaWQpKX0pfSl9fWNsYXNzIFBlbmRpbmdWb2ljZUNvbm5lY3Rpb24gZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3Iodm9pY2VNYW5hZ2VyLGNoYW5uZWwpe3N1cGVyKCk7dGhpcy52b2ljZU1hbmFnZXI9dm9pY2VNYW5hZ2VyO3RoaXMuY2hhbm5lbD1jaGFubmVsO3RoaXMuZGVhdGhUaW1lcj10aGlzLnZvaWNlTWFuYWdlci5jbGllbnQuc2V0VGltZW91dCgoKT0+dGhpcy5mYWlsKG5ldyBFcnJvcigiQ29ubmVjdGlvbiBub3QgZXN0YWJsaXNoZWQgd2l0aGluIDE1IHNlY29uZHMuIikpLDE1ZTMpO3RoaXMuZGF0YT17fTt0aGlzLnNlbmRWb2ljZVN0YXRlVXBkYXRlKCl9Y2hlY2tSZWFkeSgpe2lmKHRoaXMuZGF0YS50b2tlbiYmdGhpcy5kYXRhLmVuZHBvaW50JiZ0aGlzLmRhdGEuc2Vzc2lvbl9pZCl7dGhpcy5wYXNzKCk7cmV0dXJuIHRydWV9ZWxzZXtyZXR1cm4gZmFsc2V9fXNldFRva2VuQW5kRW5kcG9pbnQodG9rZW4sZW5kcG9pbnQpe2lmKCF0b2tlbil7dGhpcy5mYWlsKG5ldyBFcnJvcigiVG9rZW4gbm90IHByb3ZpZGVkIGZyb20gdm9pY2Ugc2VydmVyIHBhY2tldC4iKSk7cmV0dXJufWlmKCFlbmRwb2ludCl7dGhpcy5mYWlsKG5ldyBFcnJvcigiRW5kcG9pbnQgbm90IHByb3ZpZGVkIGZyb20gdm9pY2Ugc2VydmVyIHBhY2tldC4iKSk7cmV0dXJufWlmKHRoaXMuZGF0YS50b2tlbil7dGhpcy5mYWlsKG5ldyBFcnJvcigiVGhlcmUgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgdG9rZW4gZm9yIHRoaXMgY29ubmVjdGlvbi4iKSk7cmV0dXJufWlmKHRoaXMuZGF0YS5lbmRwb2ludCl7dGhpcy5mYWlsKG5ldyBFcnJvcigiVGhlcmUgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgZW5kcG9pbnQgZm9yIHRoaXMgY29ubmVjdGlvbi4iKSk7cmV0dXJufWVuZHBvaW50PWVuZHBvaW50Lm1hdGNoKC8oW146XSopLylbMF07aWYoIWVuZHBvaW50KXt0aGlzLmZhaWwobmV3IEVycm9yKCJGYWlsZWQgdG8gZmluZCBhbiBlbmRwb2ludC4iKSk7cmV0dXJufXRoaXMuZGF0YS50b2tlbj10b2tlbjt0aGlzLmRhdGEuZW5kcG9pbnQ9ZW5kcG9pbnQ7dGhpcy5jaGVja1JlYWR5KCl9c2V0U2Vzc2lvbklEKHNlc3Npb25JRCl7aWYoIXNlc3Npb25JRCl7dGhpcy5mYWlsKG5ldyBFcnJvcigiU2Vzc2lvbiBJRCBub3Qgc3VwcGxpZWQuIikpO3JldHVybn1pZih0aGlzLmRhdGEuc2Vzc2lvbl9pZCl7dGhpcy5mYWlsKG5ldyBFcnJvcigiVGhlcmUgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgc2Vzc2lvbiBJRCBmb3IgdGhpcyBjb25uZWN0aW9uLiIpKTtyZXR1cm59dGhpcy5kYXRhLnNlc3Npb25faWQ9c2Vzc2lvbklEO3RoaXMuY2hlY2tSZWFkeSgpfWNsZWFuKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmRlYXRoVGltZXIpO3RoaXMuZW1pdCgiZmFpbCIsbmV3IEVycm9yKCJDbGVhbi11cCB0cmlnZ2VyZWQgOmZvdXJUcmlnZ2VyZWQ6IikpfXBhc3MoKXtjbGVhckludGVydmFsKHRoaXMuZGVhdGhUaW1lcik7dGhpcy5lbWl0KCJwYXNzIix0aGlzLnVwZ3JhZGUoKSl9ZmFpbChyZWFzb24pe3RoaXMuZW1pdCgiZmFpbCIscmVhc29uKTt0aGlzLmNsZWFuKCl9c2VuZFZvaWNlU3RhdGVVcGRhdGUoKXt0cnl7dGhpcy52b2ljZU1hbmFnZXIuc2VuZFZvaWNlU3RhdGVVcGRhdGUodGhpcy5jaGFubmVsKX1jYXRjaChlcnJvcil7dGhpcy5mYWlsKGVycm9yKX19dXBncmFkZSgpe3JldHVybiBuZXcgVm9pY2VDb25uZWN0aW9uKHRoaXMpfX1tb2R1bGUuZXhwb3J0cz1DbGllbnRWb2ljZU1hbmFnZXJ9LHsiLi4vLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4uLy4uL3V0aWwvTWVyZ2VEZWZhdWx0IjoxNDAsIi4vVm9pY2VDb25uZWN0aW9uIjo0NCxldmVudHM6MTc1fV0sNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFZvaWNlV2ViU29ja2V0PXJlcXVpcmUoIi4vVm9pY2VXZWJTb2NrZXQiKTtjb25zdCBWb2ljZVVEUD1yZXF1aXJlKCIuL1ZvaWNlVURQQ2xpZW50Iik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgQXVkaW9QbGF5ZXI9cmVxdWlyZSgiLi9wbGF5ZXIvQXVkaW9QbGF5ZXIiKTtjb25zdCBWb2ljZVJlY2VpdmVyPXJlcXVpcmUoIi4vcmVjZWl2ZXIvVm9pY2VSZWNlaXZlciIpO2NvbnN0IEV2ZW50RW1pdHRlcj1yZXF1aXJlKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7Y29uc3QgZnM9cmVxdWlyZSgiZnMiKTtjbGFzcyBWb2ljZUNvbm5lY3Rpb24gZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IocGVuZGluZ0Nvbm5lY3Rpb24pe3N1cGVyKCk7dGhpcy52b2ljZU1hbmFnZXI9cGVuZGluZ0Nvbm5lY3Rpb24udm9pY2VNYW5hZ2VyO3RoaXMuY2hhbm5lbD1wZW5kaW5nQ29ubmVjdGlvbi5jaGFubmVsO3RoaXMuc3BlYWtpbmc9ZmFsc2U7dGhpcy5yZWNlaXZlcnM9W107dGhpcy5hdXRoZW50aWNhdGlvbj1wZW5kaW5nQ29ubmVjdGlvbi5kYXRhO3RoaXMucGxheWVyPW5ldyBBdWRpb1BsYXllcih0aGlzKTt0aGlzLnBsYXllci5vbigiZGVidWciLG09Pnt0aGlzLmVtaXQoImRlYnVnIixgYXVkaW8gcGxheWVyIC0gJHttfWApfSk7dGhpcy5wbGF5ZXIub24oImVycm9yIixlPT57dGhpcy5lbWl0KCJ3YXJuIixlKTt0aGlzLnBsYXllci5jbGVhbnVwKCl9KTt0aGlzLnNzcmNNYXA9bmV3IE1hcDt0aGlzLnJlYWR5PWZhbHNlO3RoaXMuc29ja2V0cz17fTt0aGlzLmNvbm5lY3QoKX1zZXRTcGVha2luZyh2YWx1ZSl7aWYodGhpcy5zcGVha2luZz09PXZhbHVlKXJldHVybjt0aGlzLnNwZWFraW5nPXZhbHVlO3RoaXMuc29ja2V0cy53cy5zZW5kUGFja2V0KHtvcDpDb25zdGFudHMuVm9pY2VPUENvZGVzLlNQRUFLSU5HLGQ6e3NwZWFraW5nOnRydWUsZGVsYXk6MH19KS5jYXRjaChlPT57dGhpcy5lbWl0KCJkZWJ1ZyIsZSl9KX1kaXNjb25uZWN0KCl7dGhpcy5lbWl0KCJjbG9zaW5nIik7dGhpcy52b2ljZU1hbmFnZXIuY2xpZW50LndzLnNlbmQoe29wOkNvbnN0YW50cy5PUENvZGVzLlZPSUNFX1NUQVRFX1VQREFURSxkOntndWlsZF9pZDp0aGlzLmNoYW5uZWwuZ3VpbGQuaWQsY2hhbm5lbF9pZDpudWxsLHNlbGZfbXV0ZTpmYWxzZSxzZWxmX2RlYWY6ZmFsc2V9fSk7dGhpcy5lbWl0KCJkaXNjb25uZWN0Iil9Y29ubmVjdCgpe2lmKHRoaXMuc29ja2V0cy53cyl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGlzIGFscmVhZHkgYW4gZXhpc3RpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24uIik7aWYodGhpcy5zb2NrZXRzLnVkcCl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGlzIGFscmVhZHkgYW4gZXhpc3RpbmcgVURQIGNvbm5lY3Rpb24uIik7dGhpcy5zb2NrZXRzLndzPW5ldyBWb2ljZVdlYlNvY2tldCh0aGlzKTt0aGlzLnNvY2tldHMudWRwPW5ldyBWb2ljZVVEUCh0aGlzKTt0aGlzLnNvY2tldHMud3Mub24oImVycm9yIixlPT50aGlzLmVtaXQoImVycm9yIixlKSk7dGhpcy5zb2NrZXRzLnVkcC5vbigiZXJyb3IiLGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKTt0aGlzLnNvY2tldHMud3Mub25jZSgicmVhZHkiLGQ9Pnt0aGlzLmF1dGhlbnRpY2F0aW9uLnBvcnQ9ZC5wb3J0O3RoaXMuYXV0aGVudGljYXRpb24uc3NyYz1kLnNzcmM7dGhpcy5zb2NrZXRzLnVkcC5maW5kRW5kcG9pbnRBZGRyZXNzKCkudGhlbihhZGRyZXNzPT57dGhpcy5zb2NrZXRzLnVkcC5jcmVhdGVVRFBTb2NrZXQoYWRkcmVzcyl9LGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKX0pO3RoaXMuc29ja2V0cy53cy5vbmNlKCJzZXNzaW9uRGVzY3JpcHRpb24iLChtb2RlLHNlY3JldCk9Pnt0aGlzLmF1dGhlbnRpY2F0aW9uLmVuY3J5cHRpb25Nb2RlPW1vZGU7dGhpcy5hdXRoZW50aWNhdGlvbi5zZWNyZXRLZXk9c2VjcmV0O3RoaXMuZW1pdCgicmVhZHkiKTt0aGlzLnJlYWR5PXRydWV9KTt0aGlzLnNvY2tldHMud3Mub24oInNwZWFraW5nIixkYXRhPT57Y29uc3QgZ3VpbGQ9dGhpcy5jaGFubmVsLmd1aWxkO2NvbnN0IHVzZXI9dGhpcy52b2ljZU1hbmFnZXIuY2xpZW50LnVzZXJzLmdldChkYXRhLnVzZXJfaWQpO3RoaXMuc3NyY01hcC5zZXQoK2RhdGEuc3NyYyx1c2VyKTtpZighZGF0YS5zcGVha2luZyl7Zm9yKGNvbnN0IHJlY2VpdmVyIG9mIHRoaXMucmVjZWl2ZXJzKXtjb25zdCBvcHVzU3RyZWFtPXJlY2VpdmVyLm9wdXNTdHJlYW1zLmdldCh1c2VyLmlkKTtjb25zdCBwY21TdHJlYW09cmVjZWl2ZXIucGNtU3RyZWFtcy5nZXQodXNlci5pZCk7aWYob3B1c1N0cmVhbSl7b3B1c1N0cmVhbS5wdXNoKG51bGwpO29wdXNTdHJlYW0ub3Blbj1mYWxzZTtyZWNlaXZlci5vcHVzU3RyZWFtcy5kZWxldGUodXNlci5pZCl9aWYocGNtU3RyZWFtKXtwY21TdHJlYW0ucHVzaChudWxsKTtwY21TdHJlYW0ub3Blbj1mYWxzZTtyZWNlaXZlci5wY21TdHJlYW1zLmRlbGV0ZSh1c2VyLmlkKX19fWlmKHRoaXMucmVhZHkpdGhpcy5lbWl0KCJzcGVha2luZyIsdXNlcixkYXRhLnNwZWFraW5nKTtndWlsZC5fbWVtYmVyU3BlYWtVcGRhdGUoZGF0YS51c2VyX2lkLGRhdGEuc3BlYWtpbmcpfSl9cGxheUZpbGUoZmlsZSxvcHRpb25zKXtyZXR1cm4gdGhpcy5wbGF5U3RyZWFtKGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZSksb3B0aW9ucyl9cGxheVN0cmVhbShzdHJlYW0se3NlZWs6c2Vlaz0wLHZvbHVtZTp2b2x1bWU9MSxwYXNzZXM6cGFzc2VzPTF9PXt9KXtjb25zdCBvcHRpb25zPXtzZWVrOnNlZWssdm9sdW1lOnZvbHVtZSxwYXNzZXM6cGFzc2VzfTtyZXR1cm4gdGhpcy5wbGF5ZXIucGxheVVua25vd25TdHJlYW0oc3RyZWFtLG9wdGlvbnMpfXBsYXlDb252ZXJ0ZWRTdHJlYW0oc3RyZWFtLHtzZWVrOnNlZWs9MCx2b2x1bWU6dm9sdW1lPTEscGFzc2VzOnBhc3Nlcz0xfT17fSl7Y29uc3Qgb3B0aW9ucz17c2VlazpzZWVrLHZvbHVtZTp2b2x1bWUscGFzc2VzOnBhc3Nlc307cmV0dXJuIHRoaXMucGxheWVyLnBsYXlQQ01TdHJlYW0oc3RyZWFtLG51bGwsb3B0aW9ucyl9Y3JlYXRlUmVjZWl2ZXIoKXtjb25zdCByZWNlaXZlcj1uZXcgVm9pY2VSZWNlaXZlcih0aGlzKTt0aGlzLnJlY2VpdmVycy5wdXNoKHJlY2VpdmVyKTtyZXR1cm4gcmVjZWl2ZXJ9fW1vZHVsZS5leHBvcnRzPVZvaWNlQ29ubmVjdGlvbn0seyIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL1ZvaWNlVURQQ2xpZW50Ijo0NSwiLi9Wb2ljZVdlYlNvY2tldCI6NDYsIi4vcGxheWVyL0F1ZGlvUGxheWVyIjo1NSwiLi9yZWNlaXZlci9Wb2ljZVJlY2VpdmVyIjo1NyxldmVudHM6MTc1LGZzOjE2Nn1dLDQ1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oQnVmZmVyKXtjb25zdCB1ZHA9cmVxdWlyZSgiZGdyYW0iKTtjb25zdCBkbnM9cmVxdWlyZSgiZG5zIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgRXZlbnRFbWl0dGVyPXJlcXVpcmUoImV2ZW50cyIpLkV2ZW50RW1pdHRlcjtjbGFzcyBWb2ljZUNvbm5lY3Rpb25VRFBDbGllbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3Iodm9pY2VDb25uZWN0aW9uKXtzdXBlcigpO3RoaXMudm9pY2VDb25uZWN0aW9uPXZvaWNlQ29ubmVjdGlvbjt0aGlzLnNvY2tldD1udWxsO3RoaXMuZGlzY29yZEFkZHJlc3M9bnVsbDt0aGlzLmxvY2FsQWRkcmVzcz1udWxsO3RoaXMubG9jYWxQb3J0PW51bGw7dGhpcy52b2ljZUNvbm5lY3Rpb24ub24oImNsb3NpbmciLHRoaXMuc2h1dGRvd24uYmluZCh0aGlzKSl9c2h1dGRvd24oKXtpZih0aGlzLnNvY2tldCl7dHJ5e3RoaXMuc29ja2V0LmNsb3NlKCl9Y2F0Y2goZSl7cmV0dXJufXRoaXMuc29ja2V0PW51bGx9fWdldCBkaXNjb3JkUG9ydCgpe3JldHVybiB0aGlzLnZvaWNlQ29ubmVjdGlvbi5hdXRoZW50aWNhdGlvbi5wb3J0fWZpbmRFbmRwb2ludEFkZHJlc3MoKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2Rucy5sb29rdXAodGhpcy52b2ljZUNvbm5lY3Rpb24uYXV0aGVudGljYXRpb24uZW5kcG9pbnQsKGVycm9yLGFkZHJlc3MpPT57aWYoZXJyb3Ipe3JlamVjdChlcnJvcik7cmV0dXJufXRoaXMuZGlzY29yZEFkZHJlc3M9YWRkcmVzcztyZXNvbHZlKGFkZHJlc3MpfSl9KX1zZW5kKHBhY2tldCl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntpZighdGhpcy5zb2NrZXQpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBzZW5kIGEgVURQIHBhY2tldCwgYnV0IHRoZXJlIGlzIG5vIHNvY2tldCBhdmFpbGFibGUuIik7aWYoIXRoaXMuZGlzY29yZEFkZHJlc3N8fCF0aGlzLmRpc2NvcmRQb3J0KXRocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVEUCBhZGRyZXNzIG9yIHBvcnQuIik7dGhpcy5zb2NrZXQuc2VuZChwYWNrZXQsMCxwYWNrZXQubGVuZ3RoLHRoaXMuZGlzY29yZFBvcnQsdGhpcy5kaXNjb3JkQWRkcmVzcyxlcnJvcj0+e2lmKGVycm9yKXJlamVjdChlcnJvcik7ZWxzZSByZXNvbHZlKHBhY2tldCl9KX0pfWNyZWF0ZVVEUFNvY2tldChhZGRyZXNzKXt0aGlzLmRpc2NvcmRBZGRyZXNzPWFkZHJlc3M7Y29uc3Qgc29ja2V0PXRoaXMuc29ja2V0PXVkcC5jcmVhdGVTb2NrZXQoInVkcDQiKTtzb2NrZXQub25jZSgibWVzc2FnZSIsbWVzc2FnZT0+e2NvbnN0IHBhY2tldD1wYXJzZUxvY2FsUGFja2V0KG1lc3NhZ2UpO2lmKHBhY2tldC5lcnJvcil7dGhpcy5lbWl0KCJlcnJvciIscGFja2V0LmVycm9yKTtyZXR1cm59dGhpcy5sb2NhbEFkZHJlc3M9cGFja2V0LmFkZHJlc3M7dGhpcy5sb2NhbFBvcnQ9cGFja2V0LnBvcnQ7dGhpcy52b2ljZUNvbm5lY3Rpb24uc29ja2V0cy53cy5zZW5kUGFja2V0KHtvcDpDb25zdGFudHMuVm9pY2VPUENvZGVzLlNFTEVDVF9QUk9UT0NPTCxkOntwcm90b2NvbDoidWRwIixkYXRhOnthZGRyZXNzOnBhY2tldC5hZGRyZXNzLHBvcnQ6cGFja2V0LnBvcnQsbW9kZToieHNhbHNhMjBfcG9seTEzMDUifX19KX0pO2NvbnN0IGJsYW5rTWVzc2FnZT1uZXcgQnVmZmVyKDcwKTtibGFua01lc3NhZ2Uud3JpdGVVSW50QkUodGhpcy52b2ljZUNvbm5lY3Rpb24uYXV0aGVudGljYXRpb24uc3NyYywwLDQpO3RoaXMuc2VuZChibGFua01lc3NhZ2UpfX1mdW5jdGlvbiBwYXJzZUxvY2FsUGFja2V0KG1lc3NhZ2Upe3RyeXtjb25zdCBwYWNrZXQ9bmV3IEJ1ZmZlcihtZXNzYWdlKTtsZXQgYWRkcmVzcz0iIjtmb3IobGV0IGk9NDtpPHBhY2tldC5pbmRleE9mKDAsaSk7aSsrKWFkZHJlc3MrPVN0cmluZy5mcm9tQ2hhckNvZGUocGFja2V0W2ldKTtjb25zdCBwb3J0PXBhcnNlSW50KHBhY2tldC5yZWFkVUludExFKHBhY2tldC5sZW5ndGgtMiwyKS50b1N0cmluZygxMCksMTApO3JldHVybnthZGRyZXNzOmFkZHJlc3MscG9ydDpwb3J0fX1jYXRjaChlcnJvcil7cmV0dXJue2Vycm9yOmVycm9yfX19bW9kdWxlLmV4cG9ydHM9Vm9pY2VDb25uZWN0aW9uVURQQ2xpZW50fSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCxidWZmZXI6MTczLGRncmFtOjE2NixkbnM6MTY2LGV2ZW50czoxNzV9XSw0NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgU2VjcmV0S2V5PXJlcXVpcmUoIi4vdXRpbC9TZWNyZXRLZXkiKTtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2xldCBXZWJTb2NrZXQ7dHJ5e1dlYlNvY2tldD1yZXF1aXJlKCJ1d3MiKX1jYXRjaChlcnIpe1dlYlNvY2tldD1yZXF1aXJlKCJ3cyIpfWNsYXNzIFZvaWNlV2ViU29ja2V0IGV4dGVuZHMgRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKHZvaWNlQ29ubmVjdGlvbil7c3VwZXIoKTt0aGlzLnZvaWNlQ29ubmVjdGlvbj12b2ljZUNvbm5lY3Rpb247dGhpcy5hdHRlbXB0cz0wO3RoaXMuY29ubmVjdCgpO3RoaXMuZGVhZD1mYWxzZTt0aGlzLnZvaWNlQ29ubmVjdGlvbi5vbigiY2xvc2luZyIsdGhpcy5zaHV0ZG93bi5iaW5kKHRoaXMpKX1zaHV0ZG93bigpe3RoaXMuZGVhZD10cnVlO3RoaXMucmVzZXQoKX1nZXQgY2xpZW50KCl7cmV0dXJuIHRoaXMudm9pY2VDb25uZWN0aW9uLnZvaWNlTWFuYWdlci5jbGllbnR9cmVzZXQoKXtpZih0aGlzLndzKXsKaWYodGhpcy53cy5yZWFkeVN0YXRlIT09V2ViU29ja2V0LkNMT1NFRCl0aGlzLndzLmNsb3NlKCk7dGhpcy53cz1udWxsfXRoaXMuY2xlYXJIZWFydGJlYXQoKX1jb25uZWN0KCl7aWYodGhpcy5kZWFkKXJldHVybjtpZih0aGlzLndzKXRoaXMucmVzZXQoKTtpZih0aGlzLmF0dGVtcHRzPjUpe3RoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcihgVG9vIG1hbnkgY29ubmVjdGlvbiBhdHRlbXB0cyAoJHt0aGlzLmF0dGVtcHRzfSkuYCkpO3JldHVybn10aGlzLmF0dGVtcHRzKys7dGhpcy53cz1uZXcgV2ViU29ja2V0KGB3c3M6Ly8ke3RoaXMudm9pY2VDb25uZWN0aW9uLmF1dGhlbnRpY2F0aW9uLmVuZHBvaW50fWApO3RoaXMud3Mub25vcGVuPXRoaXMub25PcGVuLmJpbmQodGhpcyk7dGhpcy53cy5vbm1lc3NhZ2U9dGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTt0aGlzLndzLm9uY2xvc2U9dGhpcy5vbkNsb3NlLmJpbmQodGhpcyk7dGhpcy53cy5vbmVycm9yPXRoaXMub25FcnJvci5iaW5kKHRoaXMpfXNlbmQoZGF0YSl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntpZighdGhpcy53c3x8dGhpcy53cy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4pe3Rocm93IG5ldyBFcnJvcihgVm9pY2Ugd2Vic29ja2V0IG5vdCBvcGVuIHRvIHNlbmQgJHtkYXRhfS5gKX10aGlzLndzLnNlbmQoZGF0YSxudWxsLGVycm9yPT57aWYoZXJyb3IpcmVqZWN0KGVycm9yKTtlbHNlIHJlc29sdmUoZGF0YSl9KX0pfXNlbmRQYWNrZXQocGFja2V0KXt0cnl7cGFja2V0PUpTT04uc3RyaW5naWZ5KHBhY2tldCl9Y2F0Y2goZXJyb3Ipe3JldHVybiBQcm9taXNlLnJlamVjdChlcnJvcil9cmV0dXJuIHRoaXMuc2VuZChwYWNrZXQpfW9uT3Blbigpe3RoaXMuc2VuZFBhY2tldCh7b3A6Q29uc3RhbnRzLk9QQ29kZXMuRElTUEFUQ0gsZDp7c2VydmVyX2lkOnRoaXMudm9pY2VDb25uZWN0aW9uLmNoYW5uZWwuZ3VpbGQuaWQsdXNlcl9pZDp0aGlzLmNsaWVudC51c2VyLmlkLHRva2VuOnRoaXMudm9pY2VDb25uZWN0aW9uLmF1dGhlbnRpY2F0aW9uLnRva2VuLHNlc3Npb25faWQ6dGhpcy52b2ljZUNvbm5lY3Rpb24uYXV0aGVudGljYXRpb24uc2Vzc2lvbl9pZH19KS5jYXRjaCgoKT0+e3RoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigiVHJpZWQgdG8gc2VuZCBqb2luIHBhY2tldCwgYnV0IHRoZSBXZWJTb2NrZXQgaXMgbm90IG9wZW4uIikpfSl9b25NZXNzYWdlKGV2ZW50KXt0cnl7cmV0dXJuIHRoaXMub25QYWNrZXQoSlNPTi5wYXJzZShldmVudC5kYXRhKSl9Y2F0Y2goZXJyb3Ipe3JldHVybiB0aGlzLm9uRXJyb3IoZXJyb3IpfX1vbkNsb3NlKCl7aWYoIXRoaXMuZGVhZCl0aGlzLmNsaWVudC5zZXRUaW1lb3V0KHRoaXMuY29ubmVjdC5iaW5kKHRoaXMpLHRoaXMuYXR0ZW1wdHMqMWUzKX1vbkVycm9yKGVycm9yKXt0aGlzLmVtaXQoImVycm9yIixlcnJvcil9b25QYWNrZXQocGFja2V0KXtzd2l0Y2gocGFja2V0Lm9wKXtjYXNlIENvbnN0YW50cy5Wb2ljZU9QQ29kZXMuUkVBRFk6dGhpcy5zZXRIZWFydGJlYXQocGFja2V0LmQuaGVhcnRiZWF0X2ludGVydmFsKTt0aGlzLmVtaXQoInJlYWR5IixwYWNrZXQuZCk7YnJlYWs7Y2FzZSBDb25zdGFudHMuVm9pY2VPUENvZGVzLlNFU1NJT05fREVTQ1JJUFRJT046dGhpcy5lbWl0KCJzZXNzaW9uRGVzY3JpcHRpb24iLHBhY2tldC5kLm1vZGUsbmV3IFNlY3JldEtleShwYWNrZXQuZC5zZWNyZXRfa2V5KSk7YnJlYWs7Y2FzZSBDb25zdGFudHMuVm9pY2VPUENvZGVzLlNQRUFLSU5HOnRoaXMuZW1pdCgic3BlYWtpbmciLHBhY2tldC5kKTticmVhaztkZWZhdWx0OnRoaXMuZW1pdCgidW5rbm93blBhY2tldCIscGFja2V0KTticmVha319c2V0SGVhcnRiZWF0KGludGVydmFsKXtpZighaW50ZXJ2YWx8fGlzTmFOKGludGVydmFsKSl7dGhpcy5vbkVycm9yKG5ldyBFcnJvcigiVHJpZWQgdG8gc2V0IHZvaWNlIGhlYXJ0YmVhdCBidXQgbm8gdmFsaWQgaW50ZXJ2YWwgd2FzIHNwZWNpZmllZC4iKSk7cmV0dXJufWlmKHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpe3RoaXMuZW1pdCgid2FybiIsIkEgdm9pY2UgaGVhcnRiZWF0IGludGVydmFsIGlzIGJlaW5nIG92ZXJ3cml0dGVuIik7Y2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdEludGVydmFsKX10aGlzLmhlYXJ0YmVhdEludGVydmFsPXRoaXMuY2xpZW50LnNldEludGVydmFsKHRoaXMuc2VuZEhlYXJ0YmVhdC5iaW5kKHRoaXMpLGludGVydmFsKX1jbGVhckhlYXJ0YmVhdCgpe2lmKCF0aGlzLmhlYXJ0YmVhdEludGVydmFsKXt0aGlzLmVtaXQoIndhcm4iLCJUcmllZCB0byBjbGVhciBhIGhlYXJ0YmVhdCBpbnRlcnZhbCB0aGF0IGRvZXMgbm90IGV4aXN0Iik7cmV0dXJufWNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRJbnRlcnZhbCk7dGhpcy5oZWFydGJlYXRJbnRlcnZhbD1udWxsfXNlbmRIZWFydGJlYXQoKXt0aGlzLnNlbmRQYWNrZXQoe29wOkNvbnN0YW50cy5Wb2ljZU9QQ29kZXMuSEVBUlRCRUFULGQ6bnVsbH0pLmNhdGNoKCgpPT57dGhpcy5lbWl0KCJ3YXJuIiwiVHJpZWQgdG8gc2VuZCBoZWFydGJlYXQsIGJ1dCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuIik7dGhpcy5jbGVhckhlYXJ0YmVhdCgpfSl9fW1vZHVsZS5leHBvcnRzPVZvaWNlV2ViU29ja2V0fSx7Ii4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vdXRpbC9TZWNyZXRLZXkiOjU4LGV2ZW50czoxNzUsdXdzOjE2OSx3czoxNjl9XSw0NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKEJ1ZmZlcil7Y29uc3QgRXZlbnRFbWl0dGVyPXJlcXVpcmUoImV2ZW50cyIpLkV2ZW50RW1pdHRlcjtjb25zdCBOYUNsPXJlcXVpcmUoInR3ZWV0bmFjbCIpO2NvbnN0IG5vbmNlPW5ldyBCdWZmZXIoMjQpO25vbmNlLmZpbGwoMCk7Y2xhc3MgU3RyZWFtRGlzcGF0Y2hlciBleHRlbmRzIEV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihwbGF5ZXIsc3RyZWFtLHNkLHN0cmVhbU9wdGlvbnMpe3N1cGVyKCk7dGhpcy5wbGF5ZXI9cGxheWVyO3RoaXMuc3RyZWFtPXN0cmVhbTt0aGlzLnN0cmVhbWluZ0RhdGE9e2NoYW5uZWxzOjIsY291bnQ6MCxzZXF1ZW5jZTpzZC5zZXF1ZW5jZSx0aW1lc3RhbXA6c2QudGltZXN0YW1wLHBhdXNlZFRpbWU6MH07dGhpcy5fc3RhcnRTdHJlYW1pbmcoKTt0aGlzLl90cmlnZ2VyZWQ9ZmFsc2U7dGhpcy5fdm9sdW1lPXN0cmVhbU9wdGlvbnMudm9sdW1lO3RoaXMucGFzc2VzPXN0cmVhbU9wdGlvbnMucGFzc2VzfHwxO3RoaXMucGF1c2VkPWZhbHNlO3RoaXMuc2V0Vm9sdW1lKHN0cmVhbU9wdGlvbnMudm9sdW1lfHwxKX1nZXQgdGltZSgpe3JldHVybiB0aGlzLnN0cmVhbWluZ0RhdGEuY291bnQqKHRoaXMuc3RyZWFtaW5nRGF0YS5sZW5ndGh8fDApfWdldCB0b3RhbFN0cmVhbVRpbWUoKXtyZXR1cm4gdGhpcy50aW1lK3RoaXMuc3RyZWFtaW5nRGF0YS5wYXVzZWRUaW1lfWdldCB2b2x1bWUoKXtyZXR1cm4gdGhpcy5fdm9sdW1lfXNldFZvbHVtZSh2b2x1bWUpe3RoaXMuX3ZvbHVtZT12b2x1bWV9c2V0Vm9sdW1lRGVjaWJlbHMoZGIpe3RoaXMuX3ZvbHVtZT1NYXRoLnBvdygxMCxkYi8yMCl9c2V0Vm9sdW1lTG9nYXJpdGhtaWModmFsdWUpe3RoaXMuX3ZvbHVtZT1NYXRoLnBvdyh2YWx1ZSwxLjY2MDk2NCl9cGF1c2UoKXt0aGlzLl9zZXRQYXVzZWQodHJ1ZSl9cmVzdW1lKCl7dGhpcy5fc2V0UGF1c2VkKGZhbHNlKX1lbmQocmVhc29uPSJ1c2VyIil7dGhpcy5fdHJpZ2dlclRlcm1pbmFsU3RhdGUoImVuZCIscmVhc29uKX1fc2V0U3BlYWtpbmcodmFsdWUpe3RoaXMuc3BlYWtpbmc9dmFsdWU7dGhpcy5lbWl0KCJzcGVha2luZyIsdmFsdWUpfV9zZW5kQnVmZmVyKGJ1ZmZlcixzZXF1ZW5jZSx0aW1lc3RhbXApe2xldCByZXBlYXRzPXRoaXMucGFzc2VzO2NvbnN0IHBhY2tldD10aGlzLl9jcmVhdGVQYWNrZXQoc2VxdWVuY2UsdGltZXN0YW1wLHRoaXMucGxheWVyLm9wdXNFbmNvZGVyLmVuY29kZShidWZmZXIpKTt3aGlsZShyZXBlYXRzLS0pe3RoaXMucGxheWVyLnZvaWNlQ29ubmVjdGlvbi5zb2NrZXRzLnVkcC5zZW5kKHBhY2tldCkuY2F0Y2goZT0+dGhpcy5lbWl0KCJkZWJ1ZyIsYEZhaWxlZCB0byBzZW5kIGEgcGFja2V0ICR7ZX1gKSl9fV9jcmVhdGVQYWNrZXQoc2VxdWVuY2UsdGltZXN0YW1wLGJ1ZmZlcil7Y29uc3QgcGFja2V0QnVmZmVyPW5ldyBCdWZmZXIoYnVmZmVyLmxlbmd0aCsyOCk7cGFja2V0QnVmZmVyLmZpbGwoMCk7cGFja2V0QnVmZmVyWzBdPTEyODtwYWNrZXRCdWZmZXJbMV09MTIwO3BhY2tldEJ1ZmZlci53cml0ZVVJbnRCRShzZXF1ZW5jZSwyLDIpO3BhY2tldEJ1ZmZlci53cml0ZVVJbnRCRSh0aW1lc3RhbXAsNCw0KTtwYWNrZXRCdWZmZXIud3JpdGVVSW50QkUodGhpcy5wbGF5ZXIudm9pY2VDb25uZWN0aW9uLmF1dGhlbnRpY2F0aW9uLnNzcmMsOCw0KTtwYWNrZXRCdWZmZXIuY29weShub25jZSwwLDAsMTIpO2J1ZmZlcj1OYUNsLnNlY3JldGJveChidWZmZXIsbm9uY2UsdGhpcy5wbGF5ZXIudm9pY2VDb25uZWN0aW9uLmF1dGhlbnRpY2F0aW9uLnNlY3JldEtleS5rZXkpO2ZvcihsZXQgaT0wO2k8YnVmZmVyLmxlbmd0aDtpKyspcGFja2V0QnVmZmVyW2krMTJdPWJ1ZmZlcltpXTtyZXR1cm4gcGFja2V0QnVmZmVyfV9hcHBseVZvbHVtZShidWZmZXIpe2lmKHRoaXMuX3ZvbHVtZT09PTEpcmV0dXJuIGJ1ZmZlcjtjb25zdCBvdXQ9bmV3IEJ1ZmZlcihidWZmZXIubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGJ1ZmZlci5sZW5ndGg7aSs9Mil7aWYoaT49YnVmZmVyLmxlbmd0aC0xKWJyZWFrO2NvbnN0IHVpbnQ9TWF0aC5taW4oMzI3NjcsTWF0aC5tYXgoLTMyNzY3LE1hdGguZmxvb3IodGhpcy5fdm9sdW1lKmJ1ZmZlci5yZWFkSW50MTZMRShpKSkpKTtvdXQud3JpdGVJbnQxNkxFKHVpbnQsaSl9cmV0dXJuIG91dH1fc2VuZCgpe3RyeXtpZih0aGlzLl90cmlnZ2VyZWQpe3RoaXMuX3NldFNwZWFraW5nKGZhbHNlKTtyZXR1cm59Y29uc3QgZGF0YT10aGlzLnN0cmVhbWluZ0RhdGE7aWYoZGF0YS5taXNzZWQ+PTUpe3RoaXMuX3RyaWdnZXJUZXJtaW5hbFN0YXRlKCJlbmQiLCJTdHJlYW0gaXMgbm90IGdlbmVyYXRpbmcgcXVpY2tseSBlbm91Z2guIik7cmV0dXJufWlmKHRoaXMucGF1c2VkKXtkYXRhLnBhdXNlZFRpbWUrPWRhdGEubGVuZ3RoKjEwO3RoaXMucGxheWVyLnZvaWNlQ29ubmVjdGlvbi52b2ljZU1hbmFnZXIuY2xpZW50LnNldFRpbWVvdXQoKCk9PnRoaXMuX3NlbmQoKSxkYXRhLmxlbmd0aCoxMCk7cmV0dXJufXRoaXMuX3NldFNwZWFraW5nKHRydWUpO2lmKCFkYXRhLnN0YXJ0VGltZSl7dGhpcy5lbWl0KCJzdGFydCIpO2RhdGEuc3RhcnRUaW1lPURhdGUubm93KCl9Y29uc3QgYnVmZmVyTGVuZ3RoPTE5MjAqZGF0YS5jaGFubmVscztsZXQgYnVmZmVyPXRoaXMuc3RyZWFtLnJlYWQoYnVmZmVyTGVuZ3RoKTtpZighYnVmZmVyKXtkYXRhLm1pc3NlZCsrO2RhdGEucGF1c2VkVGltZSs9ZGF0YS5sZW5ndGgqMTA7dGhpcy5wbGF5ZXIudm9pY2VDb25uZWN0aW9uLnZvaWNlTWFuYWdlci5jbGllbnQuc2V0VGltZW91dCgoKT0+dGhpcy5fc2VuZCgpLGRhdGEubGVuZ3RoKjEwKTtyZXR1cm59ZGF0YS5taXNzZWQ9MDtpZihidWZmZXIubGVuZ3RoIT09YnVmZmVyTGVuZ3RoKXtjb25zdCBuZXdCdWZmZXI9bmV3IEJ1ZmZlcihidWZmZXJMZW5ndGgpLmZpbGwoMCk7YnVmZmVyLmNvcHkobmV3QnVmZmVyKTtidWZmZXI9bmV3QnVmZmVyfWJ1ZmZlcj10aGlzLl9hcHBseVZvbHVtZShidWZmZXIpO2RhdGEuY291bnQrKztkYXRhLnNlcXVlbmNlPWRhdGEuc2VxdWVuY2UrMTw2NTUzNj9kYXRhLnNlcXVlbmNlKzE6MDtkYXRhLnRpbWVzdGFtcD1kYXRhLnRpbWVzdGFtcCs0Mjk0OTY3Mjk1P2RhdGEudGltZXN0YW1wKzk2MDowO3RoaXMuX3NlbmRCdWZmZXIoYnVmZmVyLGRhdGEuc2VxdWVuY2UsZGF0YS50aW1lc3RhbXApO2NvbnN0IG5leHRUaW1lPWRhdGEubGVuZ3RoKyhkYXRhLnN0YXJ0VGltZStkYXRhLnBhdXNlZFRpbWUrZGF0YS5jb3VudCpkYXRhLmxlbmd0aC1EYXRlLm5vdygpKTt0aGlzLnBsYXllci52b2ljZUNvbm5lY3Rpb24udm9pY2VNYW5hZ2VyLmNsaWVudC5zZXRUaW1lb3V0KCgpPT50aGlzLl9zZW5kKCksbmV4dFRpbWUpfWNhdGNoKGUpe3RoaXMuX3RyaWdnZXJUZXJtaW5hbFN0YXRlKCJlcnJvciIsZSl9fV90cmlnZ2VyRW5kKHJlYXNvbil7dGhpcy5lbWl0KCJlbmQiLHJlYXNvbil9X3RyaWdnZXJFcnJvcihlcnIpe3RoaXMuZW1pdCgiZW5kIik7dGhpcy5lbWl0KCJlcnJvciIsZXJyKX1fdHJpZ2dlclRlcm1pbmFsU3RhdGUoc3RhdGUsZXJyKXtpZih0aGlzLl90cmlnZ2VyZWQpcmV0dXJuO3RoaXMuZW1pdCgiZGVidWciLGBUcmlnZ2VyZWQgdGVybWluYWwgc3RhdGUgJHtzdGF0ZX0gLSBzdHJlYW0gaXMgbm93IGRlYWRgKTt0aGlzLl90cmlnZ2VyZWQ9dHJ1ZTt0aGlzLl9zZXRTcGVha2luZyhmYWxzZSk7c3dpdGNoKHN0YXRlKXtjYXNlImVuZCI6dGhpcy5fdHJpZ2dlckVuZChlcnIpO2JyZWFrO2Nhc2UiZXJyb3IiOnRoaXMuX3RyaWdnZXJFcnJvcihlcnIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5lbWl0KCJlcnJvciIsIlVua25vd24gdHJpZ2dlciBzdGF0ZSIpO2JyZWFrfX1fc3RhcnRTdHJlYW1pbmcoKXtpZighdGhpcy5zdHJlYW0pe3RoaXMuZW1pdCgiZXJyb3IiLCJObyBzdHJlYW0iKTtyZXR1cm59dGhpcy5zdHJlYW0ub24oImVuZCIsZXJyPT50aGlzLl90cmlnZ2VyVGVybWluYWxTdGF0ZSgiZW5kIixlcnJ8fCJzdHJlYW0iKSk7dGhpcy5zdHJlYW0ub24oImVycm9yIixlcnI9PnRoaXMuX3RyaWdnZXJUZXJtaW5hbFN0YXRlKCJlcnJvciIsZXJyKSk7Y29uc3QgZGF0YT10aGlzLnN0cmVhbWluZ0RhdGE7ZGF0YS5sZW5ndGg9MjA7ZGF0YS5taXNzZWQ9MDt0aGlzLnN0cmVhbS5vbmNlKCJyZWFkYWJsZSIsKCk9PnRoaXMuX3NlbmQoKSl9X3NldFBhdXNlZChwYXVzZWQpe2lmKHBhdXNlZCl7dGhpcy5wYXVzZWQ9dHJ1ZTt0aGlzLl9zZXRTcGVha2luZyhmYWxzZSl9ZWxzZXt0aGlzLnBhdXNlZD1mYWxzZTt0aGlzLl9zZXRTcGVha2luZyh0cnVlKX19fW1vZHVsZS5leHBvcnRzPVN0cmVhbURpc3BhdGNoZXJ9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKX0se2J1ZmZlcjoxNzMsZXZlbnRzOjE3NSx0d2VldG5hY2w6MTY1fV0sNDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NsYXNzIEJhc2VPcHVze2NvbnN0cnVjdG9yKHBsYXllcil7dGhpcy5wbGF5ZXI9cGxheWVyfWVuY29kZShidWZmZXIpe3JldHVybiBidWZmZXJ9ZGVjb2RlKGJ1ZmZlcil7cmV0dXJuIGJ1ZmZlcn19bW9kdWxlLmV4cG9ydHM9QmFzZU9wdXN9LHt9XSw0OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgT3B1c0VuZ2luZT1yZXF1aXJlKCIuL0Jhc2VPcHVzRW5naW5lIik7bGV0IG9wdXM7Y2xhc3MgTm9kZU9wdXNFbmdpbmUgZXh0ZW5kcyBPcHVzRW5naW5le2NvbnN0cnVjdG9yKHBsYXllcil7c3VwZXIocGxheWVyKTt0cnl7b3B1cz1yZXF1aXJlKCJub2RlLW9wdXMiKX1jYXRjaChlcnIpe3Rocm93IGVycn10aGlzLmVuY29kZXI9bmV3IG9wdXMuT3B1c0VuY29kZXIoNDhlMywyKX1lbmNvZGUoYnVmZmVyKXtzdXBlci5lbmNvZGUoYnVmZmVyKTtyZXR1cm4gdGhpcy5lbmNvZGVyLmVuY29kZShidWZmZXIsMTkyMCl9ZGVjb2RlKGJ1ZmZlcil7c3VwZXIuZGVjb2RlKGJ1ZmZlcik7cmV0dXJuIHRoaXMuZW5jb2Rlci5kZWNvZGUoYnVmZmVyLDE5MjApfX1tb2R1bGUuZXhwb3J0cz1Ob2RlT3B1c0VuZ2luZX0seyIuL0Jhc2VPcHVzRW5naW5lIjo0OCwibm9kZS1vcHVzIjoxNjl9XSw1MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgbGlzdD1bcmVxdWlyZSgiLi9Ob2RlT3B1c0VuZ2luZSIpLHJlcXVpcmUoIi4vT3B1c1NjcmlwdEVuZ2luZSIpXTtmdW5jdGlvbiBmZXRjaChFbmNvZGVyKXt0cnl7cmV0dXJuIG5ldyBFbmNvZGVyfWNhdGNoKGVycil7cmV0dXJuIG51bGx9fWV4cG9ydHMuYWRkPShlbmNvZGVyPT57bGlzdC5wdXNoKGVuY29kZXIpfSk7ZXhwb3J0cy5mZXRjaD0oKCk9Pntmb3IoY29uc3QgZW5jb2RlciBvZiBsaXN0KXtjb25zdCBmZXRjaGVkPWZldGNoKGVuY29kZXIpO2lmKGZldGNoZWQpcmV0dXJuIGZldGNoZWR9dGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBmaW5kIGFuIE9wdXMgZW5naW5lLiIpfSl9LHsiLi9Ob2RlT3B1c0VuZ2luZSI6NDksIi4vT3B1c1NjcmlwdEVuZ2luZSI6NTF9XSw1MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgT3B1c0VuZ2luZT1yZXF1aXJlKCIuL0Jhc2VPcHVzRW5naW5lIik7bGV0IE9wdXNTY3JpcHQ7Y2xhc3MgTm9kZU9wdXNFbmdpbmUgZXh0ZW5kcyBPcHVzRW5naW5le2NvbnN0cnVjdG9yKHBsYXllcil7c3VwZXIocGxheWVyKTt0cnl7T3B1c1NjcmlwdD1yZXF1aXJlKCJvcHVzc2NyaXB0Iil9Y2F0Y2goZXJyKXt0aHJvdyBlcnJ9dGhpcy5lbmNvZGVyPW5ldyBPcHVzU2NyaXB0KDQ4ZTMsMil9ZW5jb2RlKGJ1ZmZlcil7c3VwZXIuZW5jb2RlKGJ1ZmZlcik7cmV0dXJuIHRoaXMuZW5jb2Rlci5lbmNvZGUoYnVmZmVyLDk2MCl9ZGVjb2RlKGJ1ZmZlcil7c3VwZXIuZGVjb2RlKGJ1ZmZlcik7cmV0dXJuIHRoaXMuZW5jb2Rlci5kZWNvZGUoYnVmZmVyKX19bW9kdWxlLmV4cG9ydHM9Tm9kZU9wdXNFbmdpbmV9LHsiLi9CYXNlT3B1c0VuZ2luZSI6NDgsb3B1c3NjcmlwdDoxNjl9XSw1MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgRXZlbnRFbWl0dGVyPXJlcXVpcmUoImV2ZW50cyIpLkV2ZW50RW1pdHRlcjtjbGFzcyBDb252ZXJ0ZXJFbmdpbmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IocGxheWVyKXtzdXBlcigpO3RoaXMucGxheWVyPXBsYXllcn1jcmVhdGVDb252ZXJ0U3RyZWFtKCl7cmV0dXJufX1tb2R1bGUuZXhwb3J0cz1Db252ZXJ0ZXJFbmdpbmV9LHtldmVudHM6MTc1fV0sNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2V4cG9ydHMuZmV0Y2g9KCgpPT5yZXF1aXJlKCIuL0ZmbXBlZ0NvbnZlcnRlckVuZ2luZSIpKX0seyIuL0ZmbXBlZ0NvbnZlcnRlckVuZ2luZSI6NTR9XSw1NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29udmVydGVyRW5naW5lPXJlcXVpcmUoIi4vQ29udmVydGVyRW5naW5lIik7Y29uc3QgQ2hpbGRQcm9jZXNzPXJlcXVpcmUoImNoaWxkX3Byb2Nlc3MiKTtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NsYXNzIFBDTUNvbnZlcnNpb25Qcm9jZXNzIGV4dGVuZHMgRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKHByb2Nlc3Mpe3N1cGVyKCk7dGhpcy5wcm9jZXNzPXByb2Nlc3M7dGhpcy5pbnB1dD1udWxsO3RoaXMucHJvY2Vzcy5vbigiZXJyb3IiLGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKX1zZXRJbnB1dChzdHJlYW0pe3RoaXMuaW5wdXQ9c3RyZWFtO3N0cmVhbS5waXBlKHRoaXMucHJvY2Vzcy5zdGRpbix7ZW5kOmZhbHNlfSk7dGhpcy5pbnB1dC5vbigiZXJyb3IiLGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKTt0aGlzLnByb2Nlc3Muc3RkaW4ub24oImVycm9yIixlPT50aGlzLmVtaXQoImVycm9yIixlKSl9ZGVzdHJveSgpe3RoaXMuZW1pdCgiZGVidWciLCJkZXN0cm95aW5nIGEgZmZtcGVnIHByb2Nlc3M6Iik7aWYodGhpcy5pbnB1dCYmdGhpcy5pbnB1dC51bnBpcGUmJnRoaXMucHJvY2Vzcy5zdGRpbil7dGhpcy5pbnB1dC51bnBpcGUodGhpcy5wcm9jZXNzLnN0ZGluKTt0aGlzLmVtaXQoInVucGlwZWQgdGhlIHVzZXIgaW5wdXQgc3RyZWFtIGZyb20gdGhlIHByb2Nlc3MgaW5wdXQgc3RyZWFtIil9aWYodGhpcy5wcm9jZXNzLnN0ZGluKXt0aGlzLnByb2Nlc3Muc3RkaW4uZW5kKCk7dGhpcy5lbWl0KCJlbmRlZCB0aGUgcHJvY2VzcyBzdGRpbiIpfWlmKHRoaXMucHJvY2Vzcy5zdGRpbi5kZXN0cm95KXt0aGlzLnByb2Nlc3Muc3RkaW4uZGVzdHJveSgpO3RoaXMuZW1pdCgiZGVzdHJveWVkIHRoZSBwcm9jZXNzIHN0ZGluIil9aWYodGhpcy5wcm9jZXNzLmtpbGwpe3RoaXMucHJvY2Vzcy5raWxsKCk7dGhpcy5lbWl0KCJraWxsZWQgdGhlIHByb2Nlc3MiKX19fWNsYXNzIEZmbXBlZ0NvbnZlcnRlckVuZ2luZSBleHRlbmRzIENvbnZlcnRlckVuZ2luZXtjb25zdHJ1Y3RvcihwbGF5ZXIpe3N1cGVyKHBsYXllcik7dGhpcy5jb21tYW5kPWNob29zZUNvbW1hbmQoKX1oYW5kbGVFcnJvcihlbmNvZGVyLGVycil7aWYoZW5jb2Rlci5kZXN0cm95KWVuY29kZXIuZGVzdHJveSgpO3RoaXMuZW1pdCgiZXJyb3IiLGVycil9Y3JlYXRlQ29udmVydFN0cmVhbShzZWVrPTApe3N1cGVyLmNyZWF0ZUNvbnZlcnRTdHJlYW0oKTtjb25zdCBlbmNvZGVyPUNoaWxkUHJvY2Vzcy5zcGF3bih0aGlzLmNvbW1hbmQsWyItYW5hbHl6ZWR1cmF0aW9uIiwiMCIsIi1sb2dsZXZlbCIsIjAiLCItaSIsIi0iLCItZiIsInMxNmxlIiwiLWFyIiwiNDgwMDAiLCItYWMiLCIyIiwiLXNzIixTdHJpbmcoc2VlayksInBpcGU6MSJdLHtzdGRpbzpbInBpcGUiLCJwaXBlIiwiaWdub3JlIl19KTtyZXR1cm4gbmV3IFBDTUNvbnZlcnNpb25Qcm9jZXNzKGVuY29kZXIpfX1mdW5jdGlvbiBjaG9vc2VDb21tYW5kKCl7Zm9yKGNvbnN0IGNtZCBvZlsiZmZtcGVnIiwiYXZjb252IiwiLi9mZm1wZWciLCIuL2F2Y29udiIsIm5vZGVfbW9kdWxlc1xcZmZtcGVnLWJpbmFyaWVzXFxiaW5cXGZmbXBlZyIsIm5vZGVfbW9kdWxlcy9mZm1wZWctYmluYXJpZXMvYmluL2ZmbXBlZyJdKXtpZighQ2hpbGRQcm9jZXNzLnNwYXduU3luYyhjbWQsWyItaCJdKS5lcnJvcilyZXR1cm4gY21kfXRocm93IG5ldyBFcnJvcigiRkZNUEVHIHdhcyBub3QgZm91bmQgb24geW91ciBzeXN0ZW0sIHNvIGF1ZGlvIGNhbm5vdCBiZSBwbGF5ZWQuICIrIlBsZWFzZSBtYWtlIHN1cmUgRkZNUEVHIGlzIGluc3RhbGxlZCBhbmQgaW4geW91ciBQQVRILiIpfW1vZHVsZS5leHBvcnRzPUZmbXBlZ0NvbnZlcnRlckVuZ2luZX0seyIuL0NvbnZlcnRlckVuZ2luZSI6NTIsY2hpbGRfcHJvY2VzczoxNjYsZXZlbnRzOjE3NX1dLDU1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBQQ01Db252ZXJ0ZXJzPXJlcXVpcmUoIi4uL3BjbS9Db252ZXJ0ZXJFbmdpbmVMaXN0Iik7Y29uc3QgT3B1c0VuY29kZXJzPXJlcXVpcmUoIi4uL29wdXMvT3B1c0VuZ2luZUxpc3QiKTtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NvbnN0IFN0cmVhbURpc3BhdGNoZXI9cmVxdWlyZSgiLi4vZGlzcGF0Y2hlci9TdHJlYW1EaXNwYXRjaGVyIik7Y2xhc3MgQXVkaW9QbGF5ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3Iodm9pY2VDb25uZWN0aW9uKXtzdXBlcigpO3RoaXMudm9pY2VDb25uZWN0aW9uPXZvaWNlQ29ubmVjdGlvbjt0aGlzLmF1ZGlvVG9QQ009bmV3KFBDTUNvbnZlcnRlcnMuZmV0Y2goKSk7dGhpcy5vcHVzRW5jb2Rlcj1PcHVzRW5jb2RlcnMuZmV0Y2goKTt0aGlzLmN1cnJlbnRDb252ZXJ0ZXI9bnVsbDt0aGlzLmRpc3BhdGNoZXI9bnVsbDt0aGlzLmF1ZGlvVG9QQ00ub24oImVycm9yIixlPT50aGlzLmVtaXQoImVycm9yIixlKSk7dGhpcy5zdHJlYW1pbmdEYXRhPXtjaGFubmVsczoyLGNvdW50OjAsc2VxdWVuY2U6MCx0aW1lc3RhbXA6MCxwYXVzZWRUaW1lOjB9O3RoaXMudm9pY2VDb25uZWN0aW9uLm9uKCJjbG9zaW5nIiwoKT0+dGhpcy5jbGVhbnVwKG51bGwsInZvaWNlIGNvbm5lY3Rpb24gY2xvc2luZyIpKX1wbGF5VW5rbm93blN0cmVhbShzdHJlYW0se3NlZWs6c2Vlaz0wLHZvbHVtZTp2b2x1bWU9MSxwYXNzZXM6cGFzc2VzPTF9PXt9KXtjb25zdCBvcHRpb25zPXtzZWVrOnNlZWssdm9sdW1lOnZvbHVtZSxwYXNzZXM6cGFzc2VzfTtzdHJlYW0ub24oImVuZCIsKCk9Pnt0aGlzLmVtaXQoImRlYnVnIiwiSW5wdXQgc3RyZWFtIHRvIGNvbnZlcnRlciBoYXMgZW5kZWQiKX0pO3N0cmVhbS5vbigiZXJyb3IiLGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKTtjb25zdCBjb252ZXJzaW9uUHJvY2Vzcz10aGlzLmF1ZGlvVG9QQ00uY3JlYXRlQ29udmVydFN0cmVhbShvcHRpb25zLnNlZWspO2NvbnZlcnNpb25Qcm9jZXNzLm9uKCJlcnJvciIsZT0+dGhpcy5lbWl0KCJlcnJvciIsZSkpO2NvbnZlcnNpb25Qcm9jZXNzLnNldElucHV0KHN0cmVhbSk7cmV0dXJuIHRoaXMucGxheVBDTVN0cmVhbShjb252ZXJzaW9uUHJvY2Vzcy5wcm9jZXNzLnN0ZG91dCxjb252ZXJzaW9uUHJvY2VzcyxvcHRpb25zKX1jbGVhbnVwKGNoZWNrU3RyZWFtLHJlYXNvbil7dGhpcy5lbWl0KCJkZWJ1ZyIsYENsZWFuIHVwIHRyaWdnZXJlZCBkdWUgdG8gJHtyZWFzb259YCk7Y29uc3QgZmlsdGVyPWNoZWNrU3RyZWFtJiZ0aGlzLmRpc3BhdGNoZXImJnRoaXMuZGlzcGF0Y2hlci5zdHJlYW09PT1jaGVja1N0cmVhbTtpZih0aGlzLmN1cnJlbnRDb252ZXJ0ZXImJihjaGVja1N0cmVhbT9maWx0ZXI6dHJ1ZSkpe3RoaXMuY3VycmVudENvbnZlcnRlci5kZXN0cm95KCk7dGhpcy5jdXJyZW50Q29udmVydGVyPW51bGx9fXBsYXlQQ01TdHJlYW0oc3RyZWFtLGNvbnZlcnRlcix7c2VlazpzZWVrPTAsdm9sdW1lOnZvbHVtZT0xLHBhc3NlczpwYXNzZXM9MX09e30pe2NvbnN0IG9wdGlvbnM9e3NlZWs6c2Vlayx2b2x1bWU6dm9sdW1lLHBhc3NlczpwYXNzZXN9O3N0cmVhbS5vbigiZW5kIiwoKT0+dGhpcy5lbWl0KCJkZWJ1ZyIsIlBDTSBpbnB1dCBzdHJlYW0gZW5kZWQiKSk7dGhpcy5jbGVhbnVwKG51bGwsIm91dHN0YW5kaW5nIHBsYXkgc3RyZWFtIik7dGhpcy5jdXJyZW50Q29udmVydGVyPWNvbnZlcnRlcjtpZih0aGlzLmRpc3BhdGNoZXIpe3RoaXMuc3RyZWFtaW5nRGF0YT10aGlzLmRpc3BhdGNoZXIuc3RyZWFtaW5nRGF0YX1zdHJlYW0ub24oImVycm9yIixlPT50aGlzLmVtaXQoImVycm9yIixlKSk7Y29uc3QgZGlzcGF0Y2hlcj1uZXcgU3RyZWFtRGlzcGF0Y2hlcih0aGlzLHN0cmVhbSx0aGlzLnN0cmVhbWluZ0RhdGEsb3B0aW9ucyk7ZGlzcGF0Y2hlci5vbigiZXJyb3IiLGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKTtkaXNwYXRjaGVyLm9uKCJlbmQiLCgpPT50aGlzLmNsZWFudXAoZGlzcGF0Y2hlci5zdHJlYW0sImRpc3BhdGNoZXIgZW5kZWQiKSk7ZGlzcGF0Y2hlci5vbigic3BlYWtpbmciLHZhbHVlPT50aGlzLnZvaWNlQ29ubmVjdGlvbi5zZXRTcGVha2luZyh2YWx1ZSkpO3RoaXMuZGlzcGF0Y2hlcj1kaXNwYXRjaGVyO2Rpc3BhdGNoZXIub24oImRlYnVnIixtPT50aGlzLmVtaXQoImRlYnVnIixgU3RyZWFtIGRpc3BhdGNoIC0gJHttfWApKTtyZXR1cm4gZGlzcGF0Y2hlcn19bW9kdWxlLmV4cG9ydHM9QXVkaW9QbGF5ZXJ9LHsiLi4vZGlzcGF0Y2hlci9TdHJlYW1EaXNwYXRjaGVyIjo0NywiLi4vb3B1cy9PcHVzRW5naW5lTGlzdCI6NTAsIi4uL3BjbS9Db252ZXJ0ZXJFbmdpbmVMaXN0Ijo1MyxldmVudHM6MTc1fV0sNTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFJlYWRhYmxlPXJlcXVpcmUoInN0cmVhbSIpLlJlYWRhYmxlO2NsYXNzIFZvaWNlUmVhZGFibGUgZXh0ZW5kcyBSZWFkYWJsZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy5fcGFja2V0cz1bXTt0aGlzLm9wZW49dHJ1ZX1fcmVhZCgpe3JldHVybn1fcHVzaChkKXtpZih0aGlzLm9wZW4pdGhpcy5wdXNoKGQpfX1tb2R1bGUuZXhwb3J0cz1Wb2ljZVJlYWRhYmxlfSx7c3RyZWFtOjIwN31dLDU3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oQnVmZmVyKXtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NvbnN0IE5hQ2w9cmVxdWlyZSgidHdlZXRuYWNsIik7Y29uc3QgUmVhZGFibGU9cmVxdWlyZSgiLi9Wb2ljZVJlYWRhYmxlIik7Y29uc3Qgbm9uY2U9bmV3IEJ1ZmZlcigyNCk7bm9uY2UuZmlsbCgwKTtjbGFzcyBWb2ljZVJlY2VpdmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKGNvbm5lY3Rpb24pe3N1cGVyKCk7dGhpcy5xdWV1ZXM9bmV3IE1hcDt0aGlzLnBjbVN0cmVhbXM9bmV3IE1hcDt0aGlzLm9wdXNTdHJlYW1zPW5ldyBNYXA7dGhpcy5kZXN0cm95ZWQ9ZmFsc2U7dGhpcy52b2ljZUNvbm5lY3Rpb249Y29ubmVjdGlvbjt0aGlzLl9saXN0ZW5lcj0obXNnPT57Y29uc3Qgc3NyYz0rbXNnLnJlYWRVSW50MzJCRSg4KS50b1N0cmluZygxMCk7Y29uc3QgdXNlcj10aGlzLnZvaWNlQ29ubmVjdGlvbi5zc3JjTWFwLmdldChzc3JjKTtpZighdXNlcil7aWYoIXRoaXMucXVldWVzLmhhcyhzc3JjKSl0aGlzLnF1ZXVlcy5zZXQoc3NyYyxbXSk7dGhpcy5xdWV1ZXMuZ2V0KHNzcmMpLnB1c2gobXNnKX1lbHNle2lmKHRoaXMucXVldWVzLmdldChzc3JjKSl7dGhpcy5xdWV1ZXMuZ2V0KHNzcmMpLnB1c2gobXNnKTt0aGlzLnF1ZXVlcy5nZXQoc3NyYykubWFwKG09PnRoaXMuaGFuZGxlUGFja2V0KG0sdXNlcikpO3RoaXMucXVldWVzLmRlbGV0ZShzc3JjKTtyZXR1cm59dGhpcy5oYW5kbGVQYWNrZXQobXNnLHVzZXIpfX0pO3RoaXMudm9pY2VDb25uZWN0aW9uLnNvY2tldHMudWRwLnNvY2tldC5vbigibWVzc2FnZSIsdGhpcy5fbGlzdGVuZXIpfXJlY3JlYXRlKCl7aWYoIXRoaXMuZGVzdHJveWVkKXJldHVybjt0aGlzLnZvaWNlQ29ubmVjdGlvbi5zb2NrZXRzLnVkcC5zb2NrZXQub24oIm1lc3NhZ2UiLHRoaXMuX2xpc3RlbmVyKTt0aGlzLmRlc3Ryb3llZD1mYWxzZTtyZXR1cm59ZGVzdHJveSgpe3RoaXMudm9pY2VDb25uZWN0aW9uLnNvY2tldHMudWRwLnNvY2tldC5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5fbGlzdGVuZXIpO2Zvcihjb25zdCBzdHJlYW0gb2YgdGhpcy5wY21TdHJlYW1zKXtzdHJlYW1bMV0uX3B1c2gobnVsbCk7dGhpcy5wY21TdHJlYW1zLmRlbGV0ZShzdHJlYW1bMF0pfWZvcihjb25zdCBzdHJlYW0gb2YgdGhpcy5vcHVzU3RyZWFtcyl7c3RyZWFtWzFdLl9wdXNoKG51bGwpO3RoaXMub3B1c1N0cmVhbXMuZGVsZXRlKHN0cmVhbVswXSl9dGhpcy5kZXN0cm95ZWQ9dHJ1ZX1jcmVhdGVPcHVzU3RyZWFtKHVzZXIpe3VzZXI9dGhpcy52b2ljZUNvbm5lY3Rpb24udm9pY2VNYW5hZ2VyLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlVXNlcih1c2VyKTtpZighdXNlcil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IHJlc29sdmUgdGhlIHVzZXIgdG8gY3JlYXRlIE9wdXMgc3RyZWFtLiIpO2lmKHRoaXMub3B1c1N0cmVhbXMuZ2V0KHVzZXIuaWQpKXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgYWxyZWFkeSBhbiBleGlzdGluZyBzdHJlYW0gZm9yIHRoYXQgdXNlci4iKTtjb25zdCBzdHJlYW09bmV3IFJlYWRhYmxlO3RoaXMub3B1c1N0cmVhbXMuc2V0KHVzZXIuaWQsc3RyZWFtKTtyZXR1cm4gc3RyZWFtfWNyZWF0ZVBDTVN0cmVhbSh1c2VyKXt1c2VyPXRoaXMudm9pY2VDb25uZWN0aW9uLnZvaWNlTWFuYWdlci5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVVzZXIodXNlcik7aWYoIXVzZXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCByZXNvbHZlIHRoZSB1c2VyIHRvIGNyZWF0ZSBQQ00gc3RyZWFtLiIpO2lmKHRoaXMucGNtU3RyZWFtcy5nZXQodXNlci5pZCkpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhbHJlYWR5IGFuIGV4aXN0aW5nIHN0cmVhbSBmb3IgdGhhdCB1c2VyLiIpO2NvbnN0IHN0cmVhbT1uZXcgUmVhZGFibGU7dGhpcy5wY21TdHJlYW1zLnNldCh1c2VyLmlkLHN0cmVhbSk7cmV0dXJuIHN0cmVhbX1oYW5kbGVQYWNrZXQobXNnLHVzZXIpe21zZy5jb3B5KG5vbmNlLDAsMCwxMik7bGV0IGRhdGE9TmFDbC5zZWNyZXRib3gub3Blbihtc2cuc2xpY2UoMTIpLG5vbmNlLHRoaXMudm9pY2VDb25uZWN0aW9uLmF1dGhlbnRpY2F0aW9uLnNlY3JldEtleS5rZXkpO2lmKCFkYXRhKXt0aGlzLmVtaXQoIndhcm4iLCJGYWlsZWQgdG8gZGVjcnlwdCB2b2ljZSBwYWNrZXQiKTtyZXR1cm59ZGF0YT1uZXcgQnVmZmVyKGRhdGEpO2lmKHRoaXMub3B1c1N0cmVhbXMuZ2V0KHVzZXIuaWQpKXRoaXMub3B1c1N0cmVhbXMuZ2V0KHVzZXIuaWQpLl9wdXNoKGRhdGEpO3RoaXMuZW1pdCgib3B1cyIsdXNlcixkYXRhKTtpZih0aGlzLmxpc3RlbmVyQ291bnQoInBjbSIpPjB8fHRoaXMucGNtU3RyZWFtcy5zaXplPjApe2NvbnN0IHBjbT10aGlzLnZvaWNlQ29ubmVjdGlvbi5wbGF5ZXIub3B1c0VuY29kZXIuZGVjb2RlKGRhdGEpO2lmKHRoaXMucGNtU3RyZWFtcy5nZXQodXNlci5pZCkpdGhpcy5wY21TdHJlYW1zLmdldCh1c2VyLmlkKS5fcHVzaChwY20pO3RoaXMuZW1pdCgicGNtIix1c2VyLHBjbSl9fX1tb2R1bGUuZXhwb3J0cz1Wb2ljZVJlY2VpdmVyfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiLi9Wb2ljZVJlYWRhYmxlIjo1NixidWZmZXI6MTczLGV2ZW50czoxNzUsdHdlZXRuYWNsOjE2NX1dLDU4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBTZWNyZXRLZXl7Y29uc3RydWN0b3Ioa2V5KXt0aGlzLmtleT1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoa2V5Lmxlbmd0aCkpO2Zvcihjb25zdCBpbmRleCBpbiBrZXkpdGhpcy5rZXlbaW5kZXhdPWtleVtpbmRleF19fW1vZHVsZS5leHBvcnRzPVNlY3JldEtleX0se31dLDU5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oQnVmZmVyKXtjb25zdCBicm93c2VyPXR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIjtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IGNvbnZlcnRBcnJheUJ1ZmZlcj1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbnZlcnRBcnJheUJ1ZmZlciIpO2NvbnN0IHBha289cmVxdWlyZSgicGFrbyIpO2NvbnN0IHpsaWI9cmVxdWlyZSgiemxpYiIpO2NvbnN0IFBhY2tldE1hbmFnZXI9cmVxdWlyZSgiLi9wYWNrZXRzL1dlYlNvY2tldFBhY2tldE1hbmFnZXIiKTtsZXQgV2ViU29ja2V0LGVybHBhY2s7bGV0IHNlcmlhbGl6ZT1KU09OLnN0cmluZ2lmeTtpZihicm93c2VyKXtXZWJTb2NrZXQ9d2luZG93LldlYlNvY2tldH1lbHNle3RyeXtXZWJTb2NrZXQ9cmVxdWlyZSgidXdzIil9Y2F0Y2goZXJyKXtXZWJTb2NrZXQ9cmVxdWlyZSgid3MiKX10cnl7ZXJscGFjaz1yZXF1aXJlKCJlcmxwYWNrIik7c2VyaWFsaXplPWVybHBhY2sucGFja31jYXRjaChlcnIpe2VybHBhY2s9bnVsbH19Y2xhc3MgV2ViU29ja2V0TWFuYWdlciBleHRlbmRzIEV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihjbGllbnQpe3N1cGVyKCk7dGhpcy5jbGllbnQ9Y2xpZW50O3RoaXMucGFja2V0TWFuYWdlcj1uZXcgUGFja2V0TWFuYWdlcih0aGlzKTt0aGlzLnN0YXR1cz1Db25zdGFudHMuU3RhdHVzLklETEU7dGhpcy5zZXNzaW9uSUQ9bnVsbDt0aGlzLnNlcXVlbmNlPS0xO3RoaXMuZ2F0ZXdheT1udWxsO3RoaXMubm9ybWFsUmVhZHk9ZmFsc2U7dGhpcy53cz1udWxsO3RoaXMuZGlzYWJsZWRFdmVudHM9e307Zm9yKGNvbnN0IGV2ZW50IG9mIGNsaWVudC5vcHRpb25zLmRpc2FibGVkRXZlbnRzKXRoaXMuZGlzYWJsZWRFdmVudHNbZXZlbnRdPXRydWU7dGhpcy5maXJzdD10cnVlO3RoaXMubGFzdEhlYXJ0YmVhdEFjaz10cnVlfV9jb25uZWN0KGdhdGV3YXkpe3RoaXMuY2xpZW50LmVtaXQoImRlYnVnIixgQ29ubmVjdGluZyB0byBnYXRld2F5ICR7Z2F0ZXdheX1gKTt0aGlzLm5vcm1hbFJlYWR5PWZhbHNlO2lmKHRoaXMuc3RhdHVzIT09Q29uc3RhbnRzLlN0YXR1cy5SRUNPTk5FQ1RJTkcpdGhpcy5zdGF0dXM9Q29uc3RhbnRzLlN0YXR1cy5DT05ORUNUSU5HO3RoaXMud3M9bmV3IFdlYlNvY2tldChnYXRld2F5KTtpZihicm93c2VyKXRoaXMud3MuYmluYXJ5VHlwZT0iYXJyYXlidWZmZXIiO3RoaXMud3Mub25vcGVuPXRoaXMuZXZlbnRPcGVuLmJpbmQodGhpcyk7dGhpcy53cy5vbm1lc3NhZ2U9dGhpcy5ldmVudE1lc3NhZ2UuYmluZCh0aGlzKTt0aGlzLndzLm9uY2xvc2U9dGhpcy5ldmVudENsb3NlLmJpbmQodGhpcyk7dGhpcy53cy5vbmVycm9yPXRoaXMuZXZlbnRFcnJvci5iaW5kKHRoaXMpO3RoaXMuX3F1ZXVlPVtdO3RoaXMuX3JlbWFpbmluZz0xMjA7dGhpcy5jbGllbnQuc2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLl9yZW1haW5pbmc9MTIwO3RoaXMuX3JlbWFpbmluZ1Jlc2V0PURhdGUubm93KCl9LDZlNCl9Y29ubmVjdChnYXRld2F5KXtnYXRld2F5PWAke2dhdGV3YXl9JmVuY29kaW5nPSR7ZXJscGFjaz8iZXRmIjoianNvbiJ9YDtpZih0aGlzLmZpcnN0KXt0aGlzLl9jb25uZWN0KGdhdGV3YXkpO3RoaXMuZmlyc3Q9ZmFsc2V9ZWxzZXt0aGlzLmNsaWVudC5zZXRUaW1lb3V0KCgpPT50aGlzLl9jb25uZWN0KGdhdGV3YXkpLDU1MDApfX1oZWFydGJlYXQobm9ybWFsKXtpZihub3JtYWwmJiF0aGlzLmxhc3RIZWFydGJlYXRBY2spe3RoaXMud3MuY2xvc2UoMTAwNyk7cmV0dXJufXRoaXMuY2xpZW50LmVtaXQoImRlYnVnIiwiU2VuZGluZyBoZWFydGJlYXQiKTt0aGlzLmNsaWVudC5fcGluZ1RpbWVzdGFtcD1EYXRlLm5vdygpO3RoaXMuY2xpZW50LndzLnNlbmQoe29wOkNvbnN0YW50cy5PUENvZGVzLkhFQVJUQkVBVCxkOnRoaXMuc2VxdWVuY2V9LHRydWUpO3RoaXMubGFzdEhlYXJ0YmVhdEFjaz1mYWxzZX1zZW5kKGRhdGEsZm9yY2U9ZmFsc2Upe2lmKGZvcmNlKXt0aGlzLl9zZW5kKHNlcmlhbGl6ZShkYXRhKSk7cmV0dXJufXRoaXMuX3F1ZXVlLnB1c2goc2VyaWFsaXplKGRhdGEpKTt0aGlzLmRvUXVldWUoKX1kZXN0cm95KCl7dGhpcy53cy5jbG9zZSgxZTMpO3RoaXMuX3F1ZXVlPVtdO3RoaXMuc3RhdHVzPUNvbnN0YW50cy5TdGF0dXMuSURMRX1fc2VuZChkYXRhKXtpZih0aGlzLndzLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuT1BFTil7dGhpcy5lbWl0KCJzZW5kIixkYXRhKTt0aGlzLndzLnNlbmQoZGF0YSl9fWRvUXVldWUoKXtjb25zdCBpdGVtPXRoaXMuX3F1ZXVlWzBdO2lmKCEodGhpcy53cy5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4mJml0ZW0pKXJldHVybjtpZih0aGlzLnJlbWFpbmluZz09PTApe3RoaXMuY2xpZW50LnNldFRpbWVvdXQodGhpcy5kb1F1ZXVlLmJpbmQodGhpcyksRGF0ZS5ub3coKS10aGlzLnJlbWFpbmluZ1Jlc2V0KTtyZXR1cm59dGhpcy5fcmVtYWluaW5nLS07dGhpcy5fc2VuZChpdGVtKTt0aGlzLl9xdWV1ZS5zaGlmdCgpO3RoaXMuZG9RdWV1ZSgpfWV2ZW50T3Blbigpe3RoaXMuY2xpZW50LmVtaXQoImRlYnVnIiwiQ29ubmVjdGlvbiB0byBnYXRld2F5IG9wZW5lZCIpO3RoaXMubGFzdEhlYXJ0YmVhdEFjaz10cnVlO2lmKHRoaXMuc3RhdHVzPT09Q29uc3RhbnRzLlN0YXR1cy5SRUNPTk5FQ1RJTkcpdGhpcy5fc2VuZFJlc3VtZSgpO2Vsc2UgdGhpcy5fc2VuZE5ld0lkZW50aWZ5KCl9X3NlbmRSZXN1bWUoKXtpZighdGhpcy5zZXNzaW9uSUQpe3RoaXMuX3NlbmROZXdJZGVudGlmeSgpO3JldHVybn10aGlzLmNsaWVudC5lbWl0KCJkZWJ1ZyIsIklkZW50aWZ5aW5nIGFzIHJlc3VtZWQgc2Vzc2lvbiIpO2NvbnN0IHBheWxvYWQ9e3Rva2VuOnRoaXMuY2xpZW50LnRva2VuLHNlc3Npb25faWQ6dGhpcy5zZXNzaW9uSUQsc2VxOnRoaXMuc2VxdWVuY2V9O3RoaXMuc2VuZCh7b3A6Q29uc3RhbnRzLk9QQ29kZXMuUkVTVU1FLGQ6cGF5bG9hZH0pfV9zZW5kTmV3SWRlbnRpZnkoKXt0aGlzLnJlY29ubmVjdGluZz1mYWxzZTtjb25zdCBwYXlsb2FkPXRoaXMuY2xpZW50Lm9wdGlvbnMud3M7cGF5bG9hZC50b2tlbj10aGlzLmNsaWVudC50b2tlbjtpZih0aGlzLmNsaWVudC5vcHRpb25zLnNoYXJkQ291bnQ+MCl7cGF5bG9hZC5zaGFyZD1bTnVtYmVyKHRoaXMuY2xpZW50Lm9wdGlvbnMuc2hhcmRJZCksTnVtYmVyKHRoaXMuY2xpZW50Lm9wdGlvbnMuc2hhcmRDb3VudCldfXRoaXMuY2xpZW50LmVtaXQoImRlYnVnIiwiSWRlbnRpZnlpbmcgYXMgbmV3IHNlc3Npb24iKTt0aGlzLnNlbmQoe29wOkNvbnN0YW50cy5PUENvZGVzLklERU5USUZZLGQ6cGF5bG9hZH0pO3RoaXMuc2VxdWVuY2U9LTF9ZXZlbnRDbG9zZShldmVudCl7dGhpcy5lbWl0KCJjbG9zZSIsZXZlbnQpO3RoaXMuY2xpZW50LmNsZWFySW50ZXJ2YWwodGhpcy5jbGllbnQubWFuYWdlci5oZWFydGJlYXRJbnRlcnZhbCk7dGhpcy5zdGF0dXM9Q29uc3RhbnRzLlN0YXR1cy5ESVNDT05ORUNURUQ7dGhpcy5fcXVldWU9W107aWYoIXRoaXMucmVjb25uZWN0aW5nKXRoaXMuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5ESVNDT05ORUNULGV2ZW50KTtpZihldmVudC5jb2RlPT09NDAwNClyZXR1cm47aWYoZXZlbnQuY29kZT09PTQwMTApcmV0dXJuO2lmKCF0aGlzLnJlY29ubmVjdGluZyYmZXZlbnQuY29kZSE9PTFlMyl0aGlzLnRyeVJlY29ubmVjdCgpfWV2ZW50TWVzc2FnZShldmVudCl7Y29uc3QgZGF0YT10aGlzLnRyeVBhcnNlRXZlbnREYXRhKGV2ZW50LmRhdGEpO2lmKGRhdGE9PT1udWxsKXt0aGlzLmV2ZW50RXJyb3IobmV3IEVycm9yKENvbnN0YW50cy5FcnJvcnMuQkFEX1dTX01FU1NBR0UpKTtyZXR1cm4gZmFsc2V9dGhpcy5jbGllbnQuZW1pdCgicmF3IixkYXRhKTtpZihkYXRhLm9wPT09Q29uc3RhbnRzLk9QQ29kZXMuSEVMTE8pdGhpcy5jbGllbnQubWFuYWdlci5zZXR1cEtlZXBBbGl2ZShkYXRhLmQuaGVhcnRiZWF0X2ludGVydmFsKTtyZXR1cm4gdGhpcy5wYWNrZXRNYW5hZ2VyLmhhbmRsZShkYXRhKX1wYXJzZUV2ZW50RGF0YShkYXRhKXtpZihlcmxwYWNrKXtpZihkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpZGF0YT1jb252ZXJ0QXJyYXlCdWZmZXIoZGF0YSk7cmV0dXJuIGVybHBhY2sudW5wYWNrKGRhdGEpfWVsc2V7aWYoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKWRhdGE9cGFrby5pbmZsYXRlKGRhdGEse3RvOiJzdHJpbmcifSk7ZWxzZSBpZihkYXRhIGluc3RhbmNlb2YgQnVmZmVyKWRhdGE9emxpYi5pbmZsYXRlU3luYyhkYXRhKS50b1N0cmluZygpO3JldHVybiBKU09OLnBhcnNlKGRhdGEpfX10cnlQYXJzZUV2ZW50RGF0YShkYXRhKXt0cnl7cmV0dXJuIHRoaXMucGFyc2VFdmVudERhdGEoZGF0YSl9Y2F0Y2goZXJyKXtyZXR1cm4gbnVsbH19ZXZlbnRFcnJvcihlcnIpe2lmKHRoaXMuY2xpZW50Lmxpc3RlbmVyQ291bnQoImVycm9yIik+MCl0aGlzLmNsaWVudC5lbWl0KCJlcnJvciIsZXJyKTt0aGlzLnRyeVJlY29ubmVjdCgpfV9lbWl0UmVhZHkobm9ybWFsPXRydWUpe3RoaXMuc3RhdHVzPUNvbnN0YW50cy5TdGF0dXMuUkVBRFk7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLlJFQURZKTt0aGlzLnBhY2tldE1hbmFnZXIuaGFuZGxlUXVldWUoKTt0aGlzLm5vcm1hbFJlYWR5PW5vcm1hbH1jaGVja0lmUmVhZHkoKXtpZih0aGlzLnN0YXR1cyE9PUNvbnN0YW50cy5TdGF0dXMuUkVBRFkmJnRoaXMuc3RhdHVzIT09Q29uc3RhbnRzLlN0YXR1cy5ORUFSTFkpe2xldCB1bmF2YWlsYWJsZUNvdW50PTA7Zm9yKGNvbnN0IGd1aWxkSUQgb2YgdGhpcy5jbGllbnQuZ3VpbGRzLmtleXMoKSl7dW5hdmFpbGFibGVDb3VudCs9dGhpcy5jbGllbnQuZ3VpbGRzLmdldChndWlsZElEKS5hdmFpbGFibGU/MDoxfWlmKHVuYXZhaWxhYmxlQ291bnQ9PT0wKXt0aGlzLnN0YXR1cz1Db25zdGFudHMuU3RhdHVzLk5FQVJMWTtpZih0aGlzLmNsaWVudC5vcHRpb25zLmZldGNoQWxsTWVtYmVycyl7Y29uc3QgcHJvbWlzZXM9dGhpcy5jbGllbnQuZ3VpbGRzLm1hcChnPT5nLmZldGNoTWVtYmVycygpKTtQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKT0+dGhpcy5fZW1pdFJlYWR5KCksZT0+e3RoaXMuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5XQVJOLCJFcnJvciBpbiBwcmUtcmVhZHkgZ3VpbGQgbWVtYmVyIGZldGNoaW5nIik7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkVSUk9SLGUpO3RoaXMuX2VtaXRSZWFkeSgpfSk7cmV0dXJufXRoaXMuX2VtaXRSZWFkeSgpfX19dHJ5UmVjb25uZWN0KCl7aWYodGhpcy5zdGF0dXM9PT1Db25zdGFudHMuU3RhdHVzLlJFQ09OTkVDVElOR3x8dGhpcy5zdGF0dXM9PT1Db25zdGFudHMuU3RhdHVzLkNPTk5FQ1RJTkcpcmV0dXJuO3RoaXMuc3RhdHVzPUNvbnN0YW50cy5TdGF0dXMuUkVDT05ORUNUSU5HO3RoaXMud3MuY2xvc2UoKTt0aGlzLnBhY2tldE1hbmFnZXIuaGFuZGxlUXVldWUoKTt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuUkVDT05ORUNUSU5HKTt0aGlzLmNvbm5lY3QodGhpcy5jbGllbnQud3MuZ2F0ZXdheSl9fW1vZHVsZS5leHBvcnRzPVdlYlNvY2tldE1hbmFnZXJ9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKX0seyIuLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuLi8uLi91dGlsL0NvbnZlcnRBcnJheUJ1ZmZlciI6MTM1LCIuL3BhY2tldHMvV2ViU29ja2V0UGFja2V0TWFuYWdlciI6NjAsYnVmZmVyOjE3MyxlcmxwYWNrOjE2OSxldmVudHM6MTc1LHBha286MTQzLHV3czoxNjksd3M6MTY5LHpsaWI6MTcxfV0sNjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi8uLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IEJlZm9yZVJlYWR5V2hpdGVsaXN0PVtDb25zdGFudHMuV1NFdmVudHMuUkVBRFksQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX0NSRUFURSxDb25zdGFudHMuV1NFdmVudHMuR1VJTERfREVMRVRFLENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9NRU1CRVJTX0NIVU5LLENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9NRU1CRVJfQURELENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9NRU1CRVJfUkVNT1ZFXTtjbGFzcyBXZWJTb2NrZXRQYWNrZXRNYW5hZ2Vye2NvbnN0cnVjdG9yKHdlYnNvY2tldE1hbmFnZXIpe3RoaXMud3M9d2Vic29ja2V0TWFuYWdlcjt0aGlzLmhhbmRsZXJzPXt9O3RoaXMucXVldWU9W107dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuUkVBRFkscmVxdWlyZSgiLi9oYW5kbGVycy9SZWFkeSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9DUkVBVEUscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZENyZWF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9ERUxFVEUscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZERlbGV0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9VUERBVEUscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZFVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9CQU5fQURELHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRCYW5BZGQiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuR1VJTERfQkFOX1JFTU9WRSxyZXF1aXJlKCIuL2hhbmRsZXJzL0d1aWxkQmFuUmVtb3ZlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX01FTUJFUl9BREQscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZE1lbWJlckFkZCIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9NRU1CRVJfUkVNT1ZFLHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRNZW1iZXJSZW1vdmUiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuR1VJTERfTUVNQkVSX1VQREFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL0d1aWxkTWVtYmVyVXBkYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX1JPTEVfQ1JFQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRSb2xlQ3JlYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX1JPTEVfREVMRVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRSb2xlRGVsZXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX1JPTEVfVVBEQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRSb2xlVXBkYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX0VNT0pJU19VUERBVEUscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZEVtb2ppc1VwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5HVUlMRF9NRU1CRVJTX0NIVU5LLHJlcXVpcmUoIi4vaGFuZGxlcnMvR3VpbGRNZW1iZXJzQ2h1bmsiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuQ0hBTk5FTF9DUkVBVEUscmVxdWlyZSgiLi9oYW5kbGVycy9DaGFubmVsQ3JlYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkNIQU5ORUxfREVMRVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvQ2hhbm5lbERlbGV0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5DSEFOTkVMX1VQREFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL0NoYW5uZWxVcGRhdGUiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuQ0hBTk5FTF9QSU5TX1VQREFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL0NoYW5uZWxQaW5zVXBkYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLlBSRVNFTkNFX1VQREFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL1ByZXNlbmNlVXBkYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLlVTRVJfVVBEQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvVXNlclVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5VU0VSX05PVEVfVVBEQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvVXNlck5vdGVVcGRhdGUiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuVk9JQ0VfU1RBVEVfVVBEQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvVm9pY2VTdGF0ZVVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5UWVBJTkdfU1RBUlQscmVxdWlyZSgiLi9oYW5kbGVycy9UeXBpbmdTdGFydCIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5NRVNTQUdFX0NSRUFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL01lc3NhZ2VDcmVhdGUiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuTUVTU0FHRV9ERUxFVEUscmVxdWlyZSgiLi9oYW5kbGVycy9NZXNzYWdlRGVsZXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLk1FU1NBR0VfVVBEQVRFLHJlcXVpcmUoIi4vaGFuZGxlcnMvTWVzc2FnZVVwZGF0ZSIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5NRVNTQUdFX0RFTEVURV9CVUxLLHJlcXVpcmUoIi4vaGFuZGxlcnMvTWVzc2FnZURlbGV0ZUJ1bGsiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuVk9JQ0VfU0VSVkVSX1VQREFURSxyZXF1aXJlKCIuL2hhbmRsZXJzL1ZvaWNlU2VydmVyVXBkYXRlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLkdVSUxEX1NZTkMscmVxdWlyZSgiLi9oYW5kbGVycy9HdWlsZFN5bmMiKSk7dGhpcy5yZWdpc3RlcihDb25zdGFudHMuV1NFdmVudHMuUkVMQVRJT05TSElQX0FERCxyZXF1aXJlKCIuL2hhbmRsZXJzL1JlbGF0aW9uc2hpcEFkZCIpKTt0aGlzLnJlZ2lzdGVyKENvbnN0YW50cy5XU0V2ZW50cy5SRUxBVElPTlNISVBfUkVNT1ZFLHJlcXVpcmUoIi4vaGFuZGxlcnMvUmVsYXRpb25zaGlwUmVtb3ZlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLk1FU1NBR0VfUkVBQ1RJT05fQURELHJlcXVpcmUoIi4vaGFuZGxlcnMvTWVzc2FnZVJlYWN0aW9uQWRkIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLk1FU1NBR0VfUkVBQ1RJT05fUkVNT1ZFLHJlcXVpcmUoIi4vaGFuZGxlcnMvTWVzc2FnZVJlYWN0aW9uUmVtb3ZlIikpO3RoaXMucmVnaXN0ZXIoQ29uc3RhbnRzLldTRXZlbnRzLk1FU1NBR0VfUkVBQ1RJT05fUkVNT1ZFX0FMTCxyZXF1aXJlKCIuL2hhbmRsZXJzL01lc3NhZ2VSZWFjdGlvblJlbW92ZUFsbCIpKX1nZXQgY2xpZW50KCl7cmV0dXJuIHRoaXMud3MuY2xpZW50fXJlZ2lzdGVyKGV2ZW50LEhhbmRsZXIpe3RoaXMuaGFuZGxlcnNbZXZlbnRdPW5ldyBIYW5kbGVyKHRoaXMpfWhhbmRsZVF1ZXVlKCl7dGhpcy5xdWV1ZS5mb3JFYWNoKChlbGVtZW50LGluZGV4KT0+e3RoaXMuaGFuZGxlKHRoaXMucXVldWVbaW5kZXhdKTt0aGlzLnF1ZXVlLnNwbGljZShpbmRleCwxKX0pfXNldFNlcXVlbmNlKHMpe2lmKHMmJnM+dGhpcy53cy5zZXF1ZW5jZSl0aGlzLndzLnNlcXVlbmNlPXN9aGFuZGxlKHBhY2tldCl7aWYocGFja2V0Lm9wPT09Q29uc3RhbnRzLk9QQ29kZXMuUkVDT05ORUNUKXt0aGlzLnNldFNlcXVlbmNlKHBhY2tldC5zKTt0aGlzLndzLnRyeVJlY29ubmVjdCgpO3JldHVybiBmYWxzZX1pZihwYWNrZXQub3A9PT1Db25zdGFudHMuT1BDb2Rlcy5JTlZBTElEX1NFU1NJT04pe2lmKHBhY2tldC5kKXtzZXRUaW1lb3V0KCgpPT57dGhpcy53cy5fc2VuZFJlc3VtZSgpfSwyNTAwKX1lbHNle3RoaXMud3Muc2Vzc2lvbklEPW51bGw7dGhpcy53cy5fc2VuZE5ld0lkZW50aWZ5KCl9cmV0dXJuIGZhbHNlfWlmKHBhY2tldC5vcD09PUNvbnN0YW50cy5PUENvZGVzLkhFQVJUQkVBVF9BQ0spe3RoaXMud3MuY2xpZW50Ll9wb25nKHRoaXMud3MuY2xpZW50Ll9waW5nVGltZXN0YW1wKTt0aGlzLndzLmxhc3RIZWFydGJlYXRBY2s9dHJ1ZTt0aGlzLndzLmNsaWVudC5lbWl0KCJkZWJ1ZyIsIkhlYXJ0YmVhdCBhY2tub3dsZWRnZWQiKX1lbHNlIGlmKHBhY2tldC5vcD09PUNvbnN0YW50cy5PUENvZGVzLkhFQVJUQkVBVCl7dGhpcy5jbGllbnQud3Muc2VuZCh7b3A6Q29uc3RhbnRzLk9QQ29kZXMuSEVBUlRCRUFULGQ6dGhpcy5jbGllbnQud3Muc2VxdWVuY2V9KTt0aGlzLndzLmNsaWVudC5lbWl0KCJkZWJ1ZyIsIlJlY2VpdmVkIGdhdGV3YXkgaGVhcnRiZWF0Iil9aWYodGhpcy53cy5zdGF0dXM9PT1Db25zdGFudHMuU3RhdHVzLlJFQ09OTkVDVElORyl7dGhpcy53cy5yZWNvbm5lY3Rpbmc9ZmFsc2U7dGhpcy53cy5jaGVja0lmUmVhZHkoKX10aGlzLnNldFNlcXVlbmNlKHBhY2tldC5zKTtpZih0aGlzLndzLmRpc2FibGVkRXZlbnRzW3BhY2tldC50XSE9PXVuZGVmaW5lZClyZXR1cm4gZmFsc2U7aWYodGhpcy53cy5zdGF0dXMhPT1Db25zdGFudHMuU3RhdHVzLlJFQURZKXtpZihCZWZvcmVSZWFkeVdoaXRlbGlzdC5pbmRleE9mKHBhY2tldC50KT09PS0xKXt0aGlzLnF1ZXVlLnB1c2gocGFja2V0KTtyZXR1cm4gZmFsc2V9fWlmKHRoaXMuaGFuZGxlcnNbcGFja2V0LnRdKXJldHVybiB0aGlzLmhhbmRsZXJzW3BhY2tldC50XS5oYW5kbGUocGFja2V0KTtyZXR1cm4gZmFsc2V9fW1vZHVsZS5leHBvcnRzPVdlYlNvY2tldFBhY2tldE1hbmFnZXJ9LHsiLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9oYW5kbGVycy9DaGFubmVsQ3JlYXRlIjo2MiwiLi9oYW5kbGVycy9DaGFubmVsRGVsZXRlIjo2MywiLi9oYW5kbGVycy9DaGFubmVsUGluc1VwZGF0ZSI6NjQsIi4vaGFuZGxlcnMvQ2hhbm5lbFVwZGF0ZSI6NjUsIi4vaGFuZGxlcnMvR3VpbGRCYW5BZGQiOjY2LCIuL2hhbmRsZXJzL0d1aWxkQmFuUmVtb3ZlIjo2NywiLi9oYW5kbGVycy9HdWlsZENyZWF0ZSI6NjgsIi4vaGFuZGxlcnMvR3VpbGREZWxldGUiOjY5LCIuL2hhbmRsZXJzL0d1aWxkRW1vamlzVXBkYXRlIjo3MCwiLi9oYW5kbGVycy9HdWlsZE1lbWJlckFkZCI6NzEsIi4vaGFuZGxlcnMvR3VpbGRNZW1iZXJSZW1vdmUiOjcyLCIuL2hhbmRsZXJzL0d1aWxkTWVtYmVyVXBkYXRlIjo3MywiLi9oYW5kbGVycy9HdWlsZE1lbWJlcnNDaHVuayI6NzQsIi4vaGFuZGxlcnMvR3VpbGRSb2xlQ3JlYXRlIjo3NSwiLi9oYW5kbGVycy9HdWlsZFJvbGVEZWxldGUiOjc2LCIuL2hhbmRsZXJzL0d1aWxkUm9sZVVwZGF0ZSI6NzcsIi4vaGFuZGxlcnMvR3VpbGRTeW5jIjo3OCwiLi9oYW5kbGVycy9HdWlsZFVwZGF0ZSI6NzksIi4vaGFuZGxlcnMvTWVzc2FnZUNyZWF0ZSI6ODAsIi4vaGFuZGxlcnMvTWVzc2FnZURlbGV0ZSI6ODEsIi4vaGFuZGxlcnMvTWVzc2FnZURlbGV0ZUJ1bGsiOjgyLCIuL2hhbmRsZXJzL01lc3NhZ2VSZWFjdGlvbkFkZCI6ODMsIi4vaGFuZGxlcnMvTWVzc2FnZVJlYWN0aW9uUmVtb3ZlIjo4NCwiLi9oYW5kbGVycy9NZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGwiOjg1LCIuL2hhbmRsZXJzL01lc3NhZ2VVcGRhdGUiOjg2LCIuL2hhbmRsZXJzL1ByZXNlbmNlVXBkYXRlIjo4NywiLi9oYW5kbGVycy9SZWFkeSI6ODgsIi4vaGFuZGxlcnMvUmVsYXRpb25zaGlwQWRkIjo4OSwiLi9oYW5kbGVycy9SZWxhdGlvbnNoaXBSZW1vdmUiOjkwLCIuL2hhbmRsZXJzL1R5cGluZ1N0YXJ0Ijo5MSwiLi9oYW5kbGVycy9Vc2VyTm90ZVVwZGF0ZSI6OTIsIi4vaGFuZGxlcnMvVXNlclVwZGF0ZSI6OTMsIi4vaGFuZGxlcnMvVm9pY2VTZXJ2ZXJVcGRhdGUiOjk0LCIuL2hhbmRsZXJzL1ZvaWNlU3RhdGVVcGRhdGUiOjk1fV0sNjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NsYXNzIEFic3RyYWN0SGFuZGxlcntjb25zdHJ1Y3RvcihwYWNrZXRNYW5hZ2VyKXt0aGlzLnBhY2tldE1hbmFnZXI9cGFja2V0TWFuYWdlcn1oYW5kbGUocGFja2V0KXtyZXR1cm4gcGFja2V0fX1tb2R1bGUuZXhwb3J0cz1BYnN0cmFjdEhhbmRsZXJ9LHt9XSw2MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgQ2hhbm5lbENyZWF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5DaGFubmVsQ3JlYXRlLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9Q2hhbm5lbENyZWF0ZUhhbmRsZXJ9LHsiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sNjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIENoYW5uZWxEZWxldGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y29uc3QgcmVzcG9uc2U9Y2xpZW50LmFjdGlvbnMuQ2hhbm5lbERlbGV0ZS5oYW5kbGUoZGF0YSk7aWYocmVzcG9uc2UuY2hhbm5lbCljbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkNIQU5ORUxfREVMRVRFLHJlc3BvbnNlLmNoYW5uZWwpfX1tb2R1bGUuZXhwb3J0cz1DaGFubmVsRGVsZXRlSGFuZGxlcn0seyIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw2NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgQ2hhbm5lbFBpbnNVcGRhdGUgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCBjaGFubmVsPWNsaWVudC5jaGFubmVscy5nZXQoZGF0YS5jaGFubmVsX2lkKTtjb25zdCB0aW1lPW5ldyBEYXRlKGRhdGEubGFzdF9waW5fdGltZXN0YW1wKTtpZihjaGFubmVsJiZ0aW1lKWNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuQ0hBTk5FTF9QSU5TX1VQREFURSxjaGFubmVsLHRpbWUpfX1tb2R1bGUuZXhwb3J0cz1DaGFubmVsUGluc1VwZGF0ZX0seyIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw2NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgQ2hhbm5lbFVwZGF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5DaGFubmVsVXBkYXRlLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9Q2hhbm5lbFVwZGF0ZUhhbmRsZXJ9LHsiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sNjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIEd1aWxkQmFuQWRkSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NvbnN0IGd1aWxkPWNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuZ3VpbGRfaWQpO2NvbnN0IHVzZXI9Y2xpZW50LnVzZXJzLmdldChkYXRhLnVzZXIuaWQpO2lmKGd1aWxkJiZ1c2VyKWNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfQkFOX0FERCxndWlsZCx1c2VyKX19bW9kdWxlLmV4cG9ydHM9R3VpbGRCYW5BZGRIYW5kbGVyfSx7Ii4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDY3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBHdWlsZEJhblJlbW92ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5HdWlsZEJhblJlbW92ZS5oYW5kbGUoZGF0YSl9fW1vZHVsZS5leHBvcnRzPUd1aWxkQmFuUmVtb3ZlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw2ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgR3VpbGRDcmVhdGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y29uc3QgZ3VpbGQ9Y2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5pZCk7aWYoZ3VpbGQpe2lmKCFndWlsZC5hdmFpbGFibGUmJiFkYXRhLnVuYXZhaWxhYmxlKXtndWlsZC5zZXR1cChkYXRhKTt0aGlzLnBhY2tldE1hbmFnZXIud3MuY2hlY2tJZlJlYWR5KCl9fWVsc2V7Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld0d1aWxkKGRhdGEpfX19bW9kdWxlLmV4cG9ydHM9R3VpbGRDcmVhdGVIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDY5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBHdWlsZERlbGV0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCByZXNwb25zZT1jbGllbnQuYWN0aW9ucy5HdWlsZERlbGV0ZS5oYW5kbGUoZGF0YSk7aWYocmVzcG9uc2UuZ3VpbGQpY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9ERUxFVEUscmVzcG9uc2UuZ3VpbGQpfX0KbW9kdWxlLmV4cG9ydHM9R3VpbGREZWxldGVIYW5kbGVyfSx7Ii4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDcwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtmdW5jdGlvbiBtYXBwaWZ5KGl0ZXJhYmxlKXtjb25zdCBtYXA9bmV3IE1hcDtmb3IoY29uc3QgeCBvZiBpdGVyYWJsZSltYXAuc2V0KC4uLngpO3JldHVybiBtYXB9Y2xhc3MgR3VpbGRFbW9qaXNVcGRhdGUgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZighZ3VpbGR8fCFndWlsZC5lbW9qaXMpcmV0dXJuO2NvbnN0IGRlbGV0aW9ucz1tYXBwaWZ5KGd1aWxkLmVtb2ppcy5lbnRyaWVzKCkpO2Zvcihjb25zdCBlbW9qaSBvZiBkYXRhLmVtb2ppcyl7Y29uc3QgY2FjaGVkRW1vamk9Z3VpbGQuZW1vamlzLmdldChlbW9qaS5pZCk7aWYoY2FjaGVkRW1vamkpe2RlbGV0aW9ucy5kZWxldGUoZW1vamkuaWQpO2lmKCFjYWNoZWRFbW9qaS5lcXVhbHMoZW1vamksdHJ1ZSkpe2NsaWVudC5hY3Rpb25zLkd1aWxkRW1vamlVcGRhdGUuaGFuZGxlKGNhY2hlZEVtb2ppLGVtb2ppKX19ZWxzZXtjbGllbnQuYWN0aW9ucy5HdWlsZEVtb2ppQ3JlYXRlLmhhbmRsZShndWlsZCxlbW9qaSl9fWZvcihjb25zdCBlbW9qaSBvZiBkZWxldGlvbnMudmFsdWVzKCkpe2NsaWVudC5hY3Rpb25zLkd1aWxkRW1vamlEZWxldGUuaGFuZGxlKGVtb2ppKX19fW1vZHVsZS5leHBvcnRzPUd1aWxkRW1vamlzVXBkYXRlfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDcxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBHdWlsZE1lbWJlckFkZEhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZihndWlsZCl7Z3VpbGQubWVtYmVyQ291bnQrKztndWlsZC5fYWRkTWVtYmVyKGRhdGEpfX19bW9kdWxlLmV4cG9ydHM9R3VpbGRNZW1iZXJBZGRIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDcyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBHdWlsZE1lbWJlclJlbW92ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5HdWlsZE1lbWJlclJlbW92ZS5oYW5kbGUoZGF0YSl9fW1vZHVsZS5leHBvcnRzPUd1aWxkTWVtYmVyUmVtb3ZlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw3MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgR3VpbGRNZW1iZXJVcGRhdGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y29uc3QgZ3VpbGQ9Y2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZF9pZCk7aWYoZ3VpbGQpe2NvbnN0IG1lbWJlcj1ndWlsZC5tZW1iZXJzLmdldChkYXRhLnVzZXIuaWQpO2lmKG1lbWJlcilndWlsZC5fdXBkYXRlTWVtYmVyKG1lbWJlcixkYXRhKX19fW1vZHVsZS5leHBvcnRzPUd1aWxkTWVtYmVyVXBkYXRlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw3NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgR3VpbGRNZW1iZXJzQ2h1bmtIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y29uc3QgZ3VpbGQ9Y2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZF9pZCk7aWYoIWd1aWxkKXJldHVybjtjb25zdCBtZW1iZXJzPWRhdGEubWVtYmVycy5tYXAobWVtYmVyPT5ndWlsZC5fYWRkTWVtYmVyKG1lbWJlcixmYWxzZSkpO2d1aWxkLl9jaGVja0NodW5rcygpO2NsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfTUVNQkVSU19DSFVOSyxtZW1iZXJzKTtjbGllbnQud3MubGFzdEhlYXJ0YmVhdEFjaz10cnVlfX1tb2R1bGUuZXhwb3J0cz1HdWlsZE1lbWJlcnNDaHVua0hhbmRsZXJ9LHsiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sNzU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIEd1aWxkUm9sZUNyZWF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5HdWlsZFJvbGVDcmVhdGUuaGFuZGxlKGRhdGEpfX1tb2R1bGUuZXhwb3J0cz1HdWlsZFJvbGVDcmVhdGVIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDc2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBHdWlsZFJvbGVEZWxldGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y2xpZW50LmFjdGlvbnMuR3VpbGRSb2xlRGVsZXRlLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9R3VpbGRSb2xlRGVsZXRlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw3NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgR3VpbGRSb2xlVXBkYXRlSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NsaWVudC5hY3Rpb25zLkd1aWxkUm9sZVVwZGF0ZS5oYW5kbGUoZGF0YSl9fW1vZHVsZS5leHBvcnRzPUd1aWxkUm9sZVVwZGF0ZUhhbmRsZXJ9LHsiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sNzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIEd1aWxkU3luY0hhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5HdWlsZFN5bmMuaGFuZGxlKGRhdGEpfX1tb2R1bGUuZXhwb3J0cz1HdWlsZFN5bmNIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDc5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBHdWlsZFVwZGF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5HdWlsZFVwZGF0ZS5oYW5kbGUoZGF0YSl9fW1vZHVsZS5leHBvcnRzPUd1aWxkVXBkYXRlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw4MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgTWVzc2FnZUNyZWF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCByZXNwb25zZT1jbGllbnQuYWN0aW9ucy5NZXNzYWdlQ3JlYXRlLmhhbmRsZShkYXRhKTtpZihyZXNwb25zZS5tZXNzYWdlKWNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuTUVTU0FHRV9DUkVBVEUscmVzcG9uc2UubWVzc2FnZSl9fW1vZHVsZS5leHBvcnRzPU1lc3NhZ2VDcmVhdGVIYW5kbGVyfSx7Ii4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjbGFzcyBNZXNzYWdlRGVsZXRlSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NvbnN0IHJlc3BvbnNlPWNsaWVudC5hY3Rpb25zLk1lc3NhZ2VEZWxldGUuaGFuZGxlKGRhdGEpO2lmKHJlc3BvbnNlLm1lc3NhZ2UpY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5NRVNTQUdFX0RFTEVURSxyZXNwb25zZS5tZXNzYWdlKX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZURlbGV0ZUhhbmRsZXJ9LHsiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sODI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIE1lc3NhZ2VEZWxldGVCdWxrSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NsaWVudC5hY3Rpb25zLk1lc3NhZ2VEZWxldGVCdWxrLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZURlbGV0ZUJ1bGtIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDgzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBNZXNzYWdlUmVhY3Rpb25BZGRIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y2xpZW50LmFjdGlvbnMuTWVzc2FnZVJlYWN0aW9uQWRkLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZVJlYWN0aW9uQWRkSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw4NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgTWVzc2FnZVJlYWN0aW9uUmVtb3ZlIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y2xpZW50LmFjdGlvbnMuTWVzc2FnZVJlYWN0aW9uUmVtb3ZlLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZVJlYWN0aW9uUmVtb3ZlfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDg1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBNZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGwgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuYWN0aW9ucy5NZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGwuaGFuZGxlKGRhdGEpfX1tb2R1bGUuZXhwb3J0cz1NZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGx9LHsiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sODY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIE1lc3NhZ2VVcGRhdGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y2xpZW50LmFjdGlvbnMuTWVzc2FnZVVwZGF0ZS5oYW5kbGUoZGF0YSl9fW1vZHVsZS5leHBvcnRzPU1lc3NhZ2VVcGRhdGVIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDg3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBjbG9uZU9iamVjdD1yZXF1aXJlKCIuLi8uLi8uLi8uLi91dGlsL0Nsb25lT2JqZWN0Iik7Y2xhc3MgUHJlc2VuY2VVcGRhdGVIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7bGV0IHVzZXI9Y2xpZW50LnVzZXJzLmdldChkYXRhLnVzZXIuaWQpO2NvbnN0IGd1aWxkPWNsaWVudC5ndWlsZHMuZ2V0KGRhdGEuZ3VpbGRfaWQpO2lmKCF1c2VyKXtpZihkYXRhLnVzZXIudXNlcm5hbWUpe3VzZXI9Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIoZGF0YS51c2VyKX1lbHNle3JldHVybn19Y29uc3Qgb2xkVXNlcj1jbG9uZU9iamVjdCh1c2VyKTt1c2VyLnBhdGNoKGRhdGEudXNlcik7aWYoIXVzZXIuZXF1YWxzKG9sZFVzZXIpKXtjbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLlVTRVJfVVBEQVRFLG9sZFVzZXIsdXNlcil9aWYoZ3VpbGQpe2xldCBtZW1iZXI9Z3VpbGQubWVtYmVycy5nZXQodXNlci5pZCk7aWYoIW1lbWJlciYmZGF0YS5zdGF0dXMhPT0ib2ZmbGluZSIpe21lbWJlcj1ndWlsZC5fYWRkTWVtYmVyKHt1c2VyOnVzZXIscm9sZXM6ZGF0YS5yb2xlcyxkZWFmOmZhbHNlLG11dGU6ZmFsc2V9LGZhbHNlKTtjbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX01FTUJFUl9BVkFJTEFCTEUsbWVtYmVyKX1pZihtZW1iZXIpe2NvbnN0IG9sZE1lbWJlcj1jbG9uZU9iamVjdChtZW1iZXIpO2lmKG1lbWJlci5wcmVzZW5jZSl7b2xkTWVtYmVyLmZyb3plblByZXNlbmNlPWNsb25lT2JqZWN0KG1lbWJlci5wcmVzZW5jZSl9Z3VpbGQuX3NldFByZXNlbmNlKHVzZXIuaWQsZGF0YSk7Y2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5QUkVTRU5DRV9VUERBVEUsb2xkTWVtYmVyLG1lbWJlcil9ZWxzZXtndWlsZC5fc2V0UHJlc2VuY2UodXNlci5pZCxkYXRhKX19fX1tb2R1bGUuZXhwb3J0cz1QcmVzZW5jZVVwZGF0ZUhhbmRsZXJ9LHsiLi4vLi4vLi4vLi4vdXRpbC9DbG9uZU9iamVjdCI6MTMyLCIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw4ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y29uc3QgQ2xpZW50VXNlcj1yZXF1aXJlKCIuLi8uLi8uLi8uLi9zdHJ1Y3R1cmVzL0NsaWVudFVzZXIiKTtjbGFzcyBSZWFkeUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQud3MuaGVhcnRiZWF0KCk7Y29uc3QgY2xpZW50VXNlcj1uZXcgQ2xpZW50VXNlcihjbGllbnQsZGF0YS51c2VyKTtjbGllbnQudXNlcj1jbGllbnRVc2VyO2NsaWVudC5yZWFkeUF0PW5ldyBEYXRlO2NsaWVudC51c2Vycy5zZXQoY2xpZW50VXNlci5pZCxjbGllbnRVc2VyKTtmb3IoY29uc3QgZ3VpbGQgb2YgZGF0YS5ndWlsZHMpY2xpZW50LmRhdGFNYW5hZ2VyLm5ld0d1aWxkKGd1aWxkKTtmb3IoY29uc3QgcHJpdmF0ZURNIG9mIGRhdGEucHJpdmF0ZV9jaGFubmVscyljbGllbnQuZGF0YU1hbmFnZXIubmV3Q2hhbm5lbChwcml2YXRlRE0pO2Zvcihjb25zdCByZWxhdGlvbiBvZiBkYXRhLnJlbGF0aW9uc2hpcHMpe2NvbnN0IHVzZXI9Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIocmVsYXRpb24udXNlcik7aWYocmVsYXRpb24udHlwZT09PTEpe2NsaWVudC51c2VyLmZyaWVuZHMuc2V0KHVzZXIuaWQsdXNlcil9ZWxzZSBpZihyZWxhdGlvbi50eXBlPT09Mil7Y2xpZW50LnVzZXIuYmxvY2tlZC5zZXQodXNlci5pZCx1c2VyKX19ZGF0YS5wcmVzZW5jZXM9ZGF0YS5wcmVzZW5jZXN8fFtdO2Zvcihjb25zdCBwcmVzZW5jZSBvZiBkYXRhLnByZXNlbmNlcyl7Y2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIocHJlc2VuY2UudXNlcik7Y2xpZW50Ll9zZXRQcmVzZW5jZShwcmVzZW5jZS51c2VyLmlkLHByZXNlbmNlKX1pZihkYXRhLm5vdGVzKXtmb3IoY29uc3QgdXNlciBpbiBkYXRhLm5vdGVzKXtsZXQgbm90ZT1kYXRhLm5vdGVzW3VzZXJdO2lmKCFub3RlLmxlbmd0aClub3RlPW51bGw7Y2xpZW50LnVzZXIubm90ZXMuc2V0KHVzZXIsbm90ZSl9fWlmKCFjbGllbnQudXNlci5ib3QmJmNsaWVudC5vcHRpb25zLnN5bmMpY2xpZW50LnNldEludGVydmFsKGNsaWVudC5zeW5jR3VpbGRzLmJpbmQoY2xpZW50KSwzZTQpO2NsaWVudC5vbmNlKCJyZWFkeSIsY2xpZW50LnN5bmNHdWlsZHMuYmluZChjbGllbnQpKTtpZighY2xpZW50LnVzZXJzLmhhcygiMSIpKXtjbGllbnQuZGF0YU1hbmFnZXIubmV3VXNlcih7aWQ6IjEiLHVzZXJuYW1lOiJDbHlkZSIsZGlzY3JpbWluYXRvcjoiMDAwMCIsYXZhdGFyOiJodHRwczovL2Rpc2NvcmRhcHAuY29tL2Fzc2V0cy9mNzg0MjZhMDY0YmM5ZGQyNDg0NzUxOTI1OWJjNDJhZi5wbmciLGJvdDp0cnVlLHN0YXR1czoib25saW5lIixnYW1lOm51bGwsdmVyaWZpZWQ6dHJ1ZX0pfWNsaWVudC5zZXRUaW1lb3V0KCgpPT57aWYoIWNsaWVudC53cy5ub3JtYWxSZWFkeSljbGllbnQud3MuX2VtaXRSZWFkeShmYWxzZSl9LDEyMDAqZGF0YS5ndWlsZHMubGVuZ3RoKTt0aGlzLnBhY2tldE1hbmFnZXIud3Muc2Vzc2lvbklEPWRhdGEuc2Vzc2lvbl9pZDt0aGlzLnBhY2tldE1hbmFnZXIud3MuY2hlY2tJZlJlYWR5KCl9fW1vZHVsZS5leHBvcnRzPVJlYWR5SGFuZGxlcn0seyIuLi8uLi8uLi8uLi9zdHJ1Y3R1cmVzL0NsaWVudFVzZXIiOjEwMiwiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sODk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIFJlbGF0aW9uc2hpcEFkZEhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtpZihkYXRhLnR5cGU9PT0xKXtjbGllbnQuZmV0Y2hVc2VyKGRhdGEuaWQpLnRoZW4odXNlcj0+e2NsaWVudC51c2VyLmZyaWVuZHMuc2V0KHVzZXIuaWQsdXNlcil9KX1lbHNlIGlmKGRhdGEudHlwZT09PTIpe2NsaWVudC5mZXRjaFVzZXIoZGF0YS5pZCkudGhlbih1c2VyPT57Y2xpZW50LnVzZXIuYmxvY2tlZC5zZXQodXNlci5pZCx1c2VyKX0pfX19bW9kdWxlLmV4cG9ydHM9UmVsYXRpb25zaGlwQWRkSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw5MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgUmVsYXRpb25zaGlwUmVtb3ZlSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2lmKGRhdGEudHlwZT09PTIpe2lmKGNsaWVudC51c2VyLmJsb2NrZWQuaGFzKGRhdGEuaWQpKXtjbGllbnQudXNlci5ibG9ja2VkLmRlbGV0ZShkYXRhLmlkKX19ZWxzZSBpZihkYXRhLnR5cGU9PT0xKXtpZihjbGllbnQudXNlci5mcmllbmRzLmhhcyhkYXRhLmlkKSl7Y2xpZW50LnVzZXIuZnJpZW5kcy5kZWxldGUoZGF0YS5pZCl9fX19bW9kdWxlLmV4cG9ydHM9UmVsYXRpb25zaGlwUmVtb3ZlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw5MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uLy4uLy4uLy4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgVHlwaW5nU3RhcnRIYW5kbGVyIGV4dGVuZHMgQWJzdHJhY3RIYW5kbGVye2hhbmRsZShwYWNrZXQpe2NvbnN0IGNsaWVudD10aGlzLnBhY2tldE1hbmFnZXIuY2xpZW50O2NvbnN0IGRhdGE9cGFja2V0LmQ7Y29uc3QgY2hhbm5lbD1jbGllbnQuY2hhbm5lbHMuZ2V0KGRhdGEuY2hhbm5lbF9pZCk7Y29uc3QgdXNlcj1jbGllbnQudXNlcnMuZ2V0KGRhdGEudXNlcl9pZCk7Y29uc3QgdGltZXN0YW1wPW5ldyBEYXRlKGRhdGEudGltZXN0YW1wKjFlMyk7aWYoY2hhbm5lbCYmdXNlcil7aWYoY2hhbm5lbC50eXBlPT09InZvaWNlIil7Y2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5XQVJOLGBEaXNjb3JkIHNlbnQgYSB0eXBpbmcgcGFja2V0IHRvIHZvaWNlIGNoYW5uZWwgJHtjaGFubmVsLmlkfWApO3JldHVybn1pZihjaGFubmVsLl90eXBpbmcuaGFzKHVzZXIuaWQpKXtjb25zdCB0eXBpbmc9Y2hhbm5lbC5fdHlwaW5nLmdldCh1c2VyLmlkKTt0eXBpbmcubGFzdFRpbWVzdGFtcD10aW1lc3RhbXA7dHlwaW5nLnJlc2V0VGltZW91dCh0b29MYXRlKGNoYW5uZWwsdXNlcikpfWVsc2V7Y2hhbm5lbC5fdHlwaW5nLnNldCh1c2VyLmlkLG5ldyBUeXBpbmdEYXRhKGNsaWVudCx0aW1lc3RhbXAsdGltZXN0YW1wLHRvb0xhdGUoY2hhbm5lbCx1c2VyKSkpO2NsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuVFlQSU5HX1NUQVJULGNoYW5uZWwsdXNlcil9fX19Y2xhc3MgVHlwaW5nRGF0YXtjb25zdHJ1Y3RvcihjbGllbnQsc2luY2UsbGFzdFRpbWVzdGFtcCxfdGltZW91dCl7dGhpcy5jbGllbnQ9Y2xpZW50O3RoaXMuc2luY2U9c2luY2U7dGhpcy5sYXN0VGltZXN0YW1wPWxhc3RUaW1lc3RhbXA7dGhpcy5fdGltZW91dD1fdGltZW91dH1yZXNldFRpbWVvdXQoX3RpbWVvdXQpe3RoaXMuY2xpZW50LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTt0aGlzLl90aW1lb3V0PV90aW1lb3V0fWdldCBlbGFwc2VkVGltZSgpe3JldHVybiBEYXRlLm5vdygpLXRoaXMuc2luY2V9fWZ1bmN0aW9uIHRvb0xhdGUoY2hhbm5lbCx1c2VyKXtyZXR1cm4gY2hhbm5lbC5jbGllbnQuc2V0VGltZW91dCgoKT0+e2NoYW5uZWwuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5UWVBJTkdfU1RPUCxjaGFubmVsLHVzZXIsY2hhbm5lbC5fdHlwaW5nLmdldCh1c2VyLmlkKSk7Y2hhbm5lbC5fdHlwaW5nLmRlbGV0ZSh1c2VyLmlkKX0sNmUzKX1tb2R1bGUuZXhwb3J0cz1UeXBpbmdTdGFydEhhbmRsZXJ9LHsiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9BYnN0cmFjdEhhbmRsZXIiOjYxfV0sOTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IEFic3RyYWN0SGFuZGxlcj1yZXF1aXJlKCIuL0Fic3RyYWN0SGFuZGxlciIpO2NsYXNzIFVzZXJOb3RlVXBkYXRlSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NsaWVudC5hY3Rpb25zLlVzZXJOb3RlVXBkYXRlLmhhbmRsZShkYXRhKX19bW9kdWxlLmV4cG9ydHM9VXNlck5vdGVVcGRhdGVIYW5kbGVyfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDkzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjbGFzcyBVc2VyVXBkYXRlSGFuZGxlciBleHRlbmRzIEFic3RyYWN0SGFuZGxlcntoYW5kbGUocGFja2V0KXtjb25zdCBjbGllbnQ9dGhpcy5wYWNrZXRNYW5hZ2VyLmNsaWVudDtjb25zdCBkYXRhPXBhY2tldC5kO2NsaWVudC5hY3Rpb25zLlVzZXJVcGRhdGUuaGFuZGxlKGRhdGEpfX1tb2R1bGUuZXhwb3J0cz1Vc2VyVXBkYXRlSGFuZGxlcn0seyIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw5NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQWJzdHJhY3RIYW5kbGVyPXJlcXVpcmUoIi4vQWJzdHJhY3RIYW5kbGVyIik7Y2xhc3MgVm9pY2VTZXJ2ZXJVcGRhdGUgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjbGllbnQuZW1pdCgic2VsZi52b2ljZVNlcnZlciIsZGF0YSl9fW1vZHVsZS5leHBvcnRzPVZvaWNlU2VydmVyVXBkYXRlfSx7Ii4vQWJzdHJhY3RIYW5kbGVyIjo2MX1dLDk1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBYnN0cmFjdEhhbmRsZXI9cmVxdWlyZSgiLi9BYnN0cmFjdEhhbmRsZXIiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vLi4vLi4vLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBjbG9uZU9iamVjdD1yZXF1aXJlKCIuLi8uLi8uLi8uLi91dGlsL0Nsb25lT2JqZWN0Iik7Y2xhc3MgVm9pY2VTdGF0ZVVwZGF0ZUhhbmRsZXIgZXh0ZW5kcyBBYnN0cmFjdEhhbmRsZXJ7aGFuZGxlKHBhY2tldCl7Y29uc3QgY2xpZW50PXRoaXMucGFja2V0TWFuYWdlci5jbGllbnQ7Y29uc3QgZGF0YT1wYWNrZXQuZDtjb25zdCBndWlsZD1jbGllbnQuZ3VpbGRzLmdldChkYXRhLmd1aWxkX2lkKTtpZihndWlsZCl7Y29uc3QgbWVtYmVyPWd1aWxkLm1lbWJlcnMuZ2V0KGRhdGEudXNlcl9pZCk7aWYobWVtYmVyKXtjb25zdCBvbGRWb2ljZUNoYW5uZWxNZW1iZXI9Y2xvbmVPYmplY3QobWVtYmVyKTtpZihtZW1iZXIudm9pY2VDaGFubmVsJiZtZW1iZXIudm9pY2VDaGFubmVsLmlkIT09ZGF0YS5jaGFubmVsX2lkKXttZW1iZXIudm9pY2VDaGFubmVsLm1lbWJlcnMuZGVsZXRlKG9sZFZvaWNlQ2hhbm5lbE1lbWJlci5pZCl9aWYoIWRhdGEuY2hhbm5lbF9pZCltZW1iZXIuc3BlYWtpbmc9bnVsbDtpZihtZW1iZXIudXNlci5pZD09PWNsaWVudC51c2VyLmlkJiZkYXRhLmNoYW5uZWxfaWQpe2NsaWVudC5lbWl0KCJzZWxmLnZvaWNlU3RhdGVVcGRhdGUiLGRhdGEpfWNvbnN0IG5ld0NoYW5uZWw9Y2xpZW50LmNoYW5uZWxzLmdldChkYXRhLmNoYW5uZWxfaWQpO2lmKG5ld0NoYW5uZWwpbmV3Q2hhbm5lbC5tZW1iZXJzLnNldChtZW1iZXIudXNlci5pZCxtZW1iZXIpO21lbWJlci5zZXJ2ZXJNdXRlPWRhdGEubXV0ZTttZW1iZXIuc2VydmVyRGVhZj1kYXRhLmRlYWY7bWVtYmVyLnNlbGZNdXRlPWRhdGEuc2VsZl9tdXRlO21lbWJlci5zZWxmRGVhZj1kYXRhLnNlbGZfZGVhZjttZW1iZXIudm9pY2VTZXNzaW9uSUQ9ZGF0YS5zZXNzaW9uX2lkO21lbWJlci52b2ljZUNoYW5uZWxJRD1kYXRhLmNoYW5uZWxfaWQ7Y2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5WT0lDRV9TVEFURV9VUERBVEUsb2xkVm9pY2VDaGFubmVsTWVtYmVyLG1lbWJlcil9fX19bW9kdWxlLmV4cG9ydHM9Vm9pY2VTdGF0ZVVwZGF0ZUhhbmRsZXJ9LHsiLi4vLi4vLi4vLi4vdXRpbC9DbG9uZU9iamVjdCI6MTMyLCIuLi8uLi8uLi8uLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0Fic3RyYWN0SGFuZGxlciI6NjF9XSw5NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9e0NsaWVudDpyZXF1aXJlKCIuL2NsaWVudC9DbGllbnQiKSxXZWJob29rQ2xpZW50OnJlcXVpcmUoIi4vY2xpZW50L1dlYmhvb2tDbGllbnQiKSxTaGFyZDpyZXF1aXJlKCIuL3NoYXJkaW5nL1NoYXJkIiksU2hhcmRDbGllbnRVdGlsOnJlcXVpcmUoIi4vc2hhcmRpbmcvU2hhcmRDbGllbnRVdGlsIiksU2hhcmRpbmdNYW5hZ2VyOnJlcXVpcmUoIi4vc2hhcmRpbmcvU2hhcmRpbmdNYW5hZ2VyIiksQ29sbGVjdGlvbjpyZXF1aXJlKCIuL3V0aWwvQ29sbGVjdGlvbiIpLHNwbGl0TWVzc2FnZTpyZXF1aXJlKCIuL3V0aWwvU3BsaXRNZXNzYWdlIiksZXNjYXBlTWFya2Rvd246cmVxdWlyZSgiLi91dGlsL0VzY2FwZU1hcmtkb3duIiksZmV0Y2hSZWNvbW1lbmRlZFNoYXJkczpyZXF1aXJlKCIuL3V0aWwvRmV0Y2hSZWNvbW1lbmRlZFNoYXJkcyIpLENoYW5uZWw6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL0NoYW5uZWwiKSxDbGllbnRPQXV0aDJBcHBsaWNhdGlvbjpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvQ2xpZW50T0F1dGgyQXBwbGljYXRpb24iKSxDbGllbnRVc2VyOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9DbGllbnRVc2VyIiksRE1DaGFubmVsOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9ETUNoYW5uZWwiKSxFbW9qaTpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvRW1vamkiKSxFdmFsdWF0ZWRQZXJtaXNzaW9uczpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvRXZhbHVhdGVkUGVybWlzc2lvbnMiKSxHYW1lOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9QcmVzZW5jZSIpLkdhbWUsR3JvdXBETUNoYW5uZWw6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL0dyb3VwRE1DaGFubmVsIiksR3VpbGQ6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL0d1aWxkIiksR3VpbGRDaGFubmVsOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9HdWlsZENoYW5uZWwiKSxHdWlsZE1lbWJlcjpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvR3VpbGRNZW1iZXIiKSxJbnZpdGU6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL0ludml0ZSIpLE1lc3NhZ2U6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL01lc3NhZ2UiKSxNZXNzYWdlQXR0YWNobWVudDpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvTWVzc2FnZUF0dGFjaG1lbnQiKSxNZXNzYWdlQ29sbGVjdG9yOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9NZXNzYWdlQ29sbGVjdG9yIiksTWVzc2FnZUVtYmVkOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9NZXNzYWdlRW1iZWQiKSxNZXNzYWdlUmVhY3Rpb246cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL01lc3NhZ2VSZWFjdGlvbiIpLE9BdXRoMkFwcGxpY2F0aW9uOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9PQXV0aDJBcHBsaWNhdGlvbiIpLFBhcnRpYWxHdWlsZDpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvUGFydGlhbEd1aWxkIiksUGFydGlhbEd1aWxkQ2hhbm5lbDpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvUGFydGlhbEd1aWxkQ2hhbm5lbCIpLFBlcm1pc3Npb25PdmVyd3JpdGVzOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9QZXJtaXNzaW9uT3ZlcndyaXRlcyIpLFByZXNlbmNlOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9QcmVzZW5jZSIpLlByZXNlbmNlLFJlYWN0aW9uRW1vamk6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL1JlYWN0aW9uRW1vamkiKSxSaWNoRW1iZWQ6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL1JpY2hFbWJlZCIpLFJvbGU6cmVxdWlyZSgiLi9zdHJ1Y3R1cmVzL1JvbGUiKSxUZXh0Q2hhbm5lbDpyZXF1aXJlKCIuL3N0cnVjdHVyZXMvVGV4dENoYW5uZWwiKSxVc2VyOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9Vc2VyIiksVm9pY2VDaGFubmVsOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9Wb2ljZUNoYW5uZWwiKSxXZWJob29rOnJlcXVpcmUoIi4vc3RydWN0dXJlcy9XZWJob29rIiksdmVyc2lvbjpyZXF1aXJlKCIuLi9wYWNrYWdlIikudmVyc2lvbixDb25zdGFudHM6cmVxdWlyZSgiLi91dGlsL0NvbnN0YW50cyIpfTtpZih0eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCIpd2luZG93LkRpc2NvcmQ9bW9kdWxlLmV4cG9ydHN9LHsiLi4vcGFja2FnZSI6MiwiLi9jbGllbnQvQ2xpZW50IjozLCIuL2NsaWVudC9XZWJob29rQ2xpZW50Ijo3LCIuL3NoYXJkaW5nL1NoYXJkIjo5NywiLi9zaGFyZGluZy9TaGFyZENsaWVudFV0aWwiOjk4LCIuL3NoYXJkaW5nL1NoYXJkaW5nTWFuYWdlciI6OTksIi4vc3RydWN0dXJlcy9DaGFubmVsIjoxMDAsIi4vc3RydWN0dXJlcy9DbGllbnRPQXV0aDJBcHBsaWNhdGlvbiI6MTAxLCIuL3N0cnVjdHVyZXMvQ2xpZW50VXNlciI6MTAyLCIuL3N0cnVjdHVyZXMvRE1DaGFubmVsIjoxMDMsIi4vc3RydWN0dXJlcy9FbW9qaSI6MTA0LCIuL3N0cnVjdHVyZXMvRXZhbHVhdGVkUGVybWlzc2lvbnMiOjEwNSwiLi9zdHJ1Y3R1cmVzL0dyb3VwRE1DaGFubmVsIjoxMDYsIi4vc3RydWN0dXJlcy9HdWlsZCI6MTA3LCIuL3N0cnVjdHVyZXMvR3VpbGRDaGFubmVsIjoxMDgsIi4vc3RydWN0dXJlcy9HdWlsZE1lbWJlciI6MTA5LCIuL3N0cnVjdHVyZXMvSW52aXRlIjoxMTAsIi4vc3RydWN0dXJlcy9NZXNzYWdlIjoxMTEsIi4vc3RydWN0dXJlcy9NZXNzYWdlQXR0YWNobWVudCI6MTEyLCIuL3N0cnVjdHVyZXMvTWVzc2FnZUNvbGxlY3RvciI6MTEzLCIuL3N0cnVjdHVyZXMvTWVzc2FnZUVtYmVkIjoxMTQsIi4vc3RydWN0dXJlcy9NZXNzYWdlUmVhY3Rpb24iOjExNSwiLi9zdHJ1Y3R1cmVzL09BdXRoMkFwcGxpY2F0aW9uIjoxMTYsIi4vc3RydWN0dXJlcy9QYXJ0aWFsR3VpbGQiOjExNywiLi9zdHJ1Y3R1cmVzL1BhcnRpYWxHdWlsZENoYW5uZWwiOjExOCwiLi9zdHJ1Y3R1cmVzL1Blcm1pc3Npb25PdmVyd3JpdGVzIjoxMTksIi4vc3RydWN0dXJlcy9QcmVzZW5jZSI6MTIwLCIuL3N0cnVjdHVyZXMvUmVhY3Rpb25FbW9qaSI6MTIxLCIuL3N0cnVjdHVyZXMvUmljaEVtYmVkIjoxMjIsIi4vc3RydWN0dXJlcy9Sb2xlIjoxMjMsIi4vc3RydWN0dXJlcy9UZXh0Q2hhbm5lbCI6MTI0LCIuL3N0cnVjdHVyZXMvVXNlciI6MTI1LCIuL3N0cnVjdHVyZXMvVm9pY2VDaGFubmVsIjoxMjgsIi4vc3RydWN0dXJlcy9XZWJob29rIjoxMjksIi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi91dGlsL0VzY2FwZU1hcmtkb3duIjoxMzYsIi4vdXRpbC9GZXRjaFJlY29tbWVuZGVkU2hhcmRzIjoxMzcsIi4vdXRpbC9TcGxpdE1lc3NhZ2UiOjE0Mn1dLDk3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24ocHJvY2Vzcyl7Y29uc3QgY2hpbGRQcm9jZXNzPXJlcXVpcmUoImNoaWxkX3Byb2Nlc3MiKTtjb25zdCBwYXRoPXJlcXVpcmUoInBhdGgiKTtjb25zdCBtYWtlRXJyb3I9cmVxdWlyZSgiLi4vdXRpbC9NYWtlRXJyb3IiKTtjb25zdCBtYWtlUGxhaW5FcnJvcj1yZXF1aXJlKCIuLi91dGlsL01ha2VQbGFpbkVycm9yIik7Y2xhc3MgU2hhcmR7Y29uc3RydWN0b3IobWFuYWdlcixpZCxhcmdzPVtdKXt0aGlzLm1hbmFnZXI9bWFuYWdlcjt0aGlzLmlkPWlkO3RoaXMuZW52PU9iamVjdC5hc3NpZ24oe30scHJvY2Vzcy5lbnYse1NIQVJEX0lEOnRoaXMuaWQsU0hBUkRfQ09VTlQ6dGhpcy5tYW5hZ2VyLnRvdGFsU2hhcmRzLENMSUVOVF9UT0tFTjp0aGlzLm1hbmFnZXIudG9rZW59KTt0aGlzLnByb2Nlc3M9Y2hpbGRQcm9jZXNzLmZvcmsocGF0aC5yZXNvbHZlKHRoaXMubWFuYWdlci5maWxlKSxhcmdzLHtlbnY6dGhpcy5lbnZ9KTt0aGlzLnByb2Nlc3Mub24oIm1lc3NhZ2UiLHRoaXMuX2hhbmRsZU1lc3NhZ2UuYmluZCh0aGlzKSk7dGhpcy5wcm9jZXNzLm9uY2UoImV4aXQiLCgpPT57aWYodGhpcy5tYW5hZ2VyLnJlc3Bhd24pdGhpcy5tYW5hZ2VyLmNyZWF0ZVNoYXJkKHRoaXMuaWQpfSk7dGhpcy5fZXZhbHM9bmV3IE1hcDt0aGlzLl9mZXRjaGVzPW5ldyBNYXB9c2VuZChtZXNzYWdlKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IHNlbnQ9dGhpcy5wcm9jZXNzLnNlbmQobWVzc2FnZSxlcnI9PntpZihlcnIpcmVqZWN0KGVycik7ZWxzZSByZXNvbHZlKHRoaXMpfSk7aWYoIXNlbnQpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gc2VuZCBtZXNzYWdlIHRvIHNoYXJkJ3MgcHJvY2Vzcy4iKX0pfWZldGNoQ2xpZW50VmFsdWUocHJvcCl7aWYodGhpcy5fZmV0Y2hlcy5oYXMocHJvcCkpcmV0dXJuIHRoaXMuX2ZldGNoZXMuZ2V0KHByb3ApO2NvbnN0IHByb21pc2U9bmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IGxpc3RlbmVyPW1lc3NhZ2U9PntpZighbWVzc2FnZXx8bWVzc2FnZS5fZmV0Y2hQcm9wIT09cHJvcClyZXR1cm47dGhpcy5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixsaXN0ZW5lcik7dGhpcy5fZmV0Y2hlcy5kZWxldGUocHJvcCk7cmVzb2x2ZShtZXNzYWdlLl9yZXN1bHQpfTt0aGlzLnByb2Nlc3Mub24oIm1lc3NhZ2UiLGxpc3RlbmVyKTt0aGlzLnNlbmQoe19mZXRjaFByb3A6cHJvcH0pLmNhdGNoKGVycj0+e3RoaXMucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsbGlzdGVuZXIpO3RoaXMuX2ZldGNoZXMuZGVsZXRlKHByb3ApO3JlamVjdChlcnIpfSl9KTt0aGlzLl9mZXRjaGVzLnNldChwcm9wLHByb21pc2UpO3JldHVybiBwcm9taXNlfWV2YWwoc2NyaXB0KXtpZih0aGlzLl9ldmFscy5oYXMoc2NyaXB0KSlyZXR1cm4gdGhpcy5fZXZhbHMuZ2V0KHNjcmlwdCk7Y29uc3QgcHJvbWlzZT1uZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57Y29uc3QgbGlzdGVuZXI9bWVzc2FnZT0+e2lmKCFtZXNzYWdlfHxtZXNzYWdlLl9ldmFsIT09c2NyaXB0KXJldHVybjt0aGlzLnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoIm1lc3NhZ2UiLGxpc3RlbmVyKTt0aGlzLl9ldmFscy5kZWxldGUoc2NyaXB0KTtpZighbWVzc2FnZS5fZXJyb3IpcmVzb2x2ZShtZXNzYWdlLl9yZXN1bHQpO2Vsc2UgcmVqZWN0KG1ha2VFcnJvcihtZXNzYWdlLl9lcnJvcikpfTt0aGlzLnByb2Nlc3Mub24oIm1lc3NhZ2UiLGxpc3RlbmVyKTt0aGlzLnNlbmQoe19ldmFsOnNjcmlwdH0pLmNhdGNoKGVycj0+e3RoaXMucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsbGlzdGVuZXIpO3RoaXMuX2V2YWxzLmRlbGV0ZShzY3JpcHQpO3JlamVjdChlcnIpfSl9KTt0aGlzLl9ldmFscy5zZXQoc2NyaXB0LHByb21pc2UpO3JldHVybiBwcm9taXNlfV9oYW5kbGVNZXNzYWdlKG1lc3NhZ2Upe2lmKG1lc3NhZ2Upe2lmKG1lc3NhZ2UuX3NGZXRjaFByb3Ape3RoaXMubWFuYWdlci5mZXRjaENsaWVudFZhbHVlcyhtZXNzYWdlLl9zRmV0Y2hQcm9wKS50aGVuKHJlc3VsdHM9PnRoaXMuc2VuZCh7X3NGZXRjaFByb3A6bWVzc2FnZS5fc0ZldGNoUHJvcCxfcmVzdWx0OnJlc3VsdHN9KSxlcnI9PnRoaXMuc2VuZCh7X3NGZXRjaFByb3A6bWVzc2FnZS5fc0ZldGNoUHJvcCxfZXJyb3I6bWFrZVBsYWluRXJyb3IoZXJyKX0pKTtyZXR1cm59aWYobWVzc2FnZS5fc0V2YWwpe3RoaXMubWFuYWdlci5icm9hZGNhc3RFdmFsKG1lc3NhZ2UuX3NFdmFsKS50aGVuKHJlc3VsdHM9PnRoaXMuc2VuZCh7X3NFdmFsOm1lc3NhZ2UuX3NFdmFsLF9yZXN1bHQ6cmVzdWx0c30pLGVycj0+dGhpcy5zZW5kKHtfc0V2YWw6bWVzc2FnZS5fc0V2YWwsX2Vycm9yOm1ha2VQbGFpbkVycm9yKGVycil9KSk7cmV0dXJufX10aGlzLm1hbmFnZXIuZW1pdCgibWVzc2FnZSIsdGhpcyxtZXNzYWdlKX19bW9kdWxlLmV4cG9ydHM9U2hhcmR9KS5jYWxsKHRoaXMscmVxdWlyZSgiX3Byb2Nlc3MiKSl9LHsiLi4vdXRpbC9NYWtlRXJyb3IiOjEzOCwiLi4vdXRpbC9NYWtlUGxhaW5FcnJvciI6MTM5LF9wcm9jZXNzOjE5MyxjaGlsZF9wcm9jZXNzOjE2NixwYXRoOjE5MX1dLDk4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24ocHJvY2Vzcyl7Y29uc3QgbWFrZUVycm9yPXJlcXVpcmUoIi4uL3V0aWwvTWFrZUVycm9yIik7Y29uc3QgbWFrZVBsYWluRXJyb3I9cmVxdWlyZSgiLi4vdXRpbC9NYWtlUGxhaW5FcnJvciIpO2NsYXNzIFNoYXJkQ2xpZW50VXRpbHtjb25zdHJ1Y3RvcihjbGllbnQpe3RoaXMuY2xpZW50PWNsaWVudDtwcm9jZXNzLm9uKCJtZXNzYWdlIix0aGlzLl9oYW5kbGVNZXNzYWdlLmJpbmQodGhpcykpfWdldCBpZCgpe3JldHVybiB0aGlzLmNsaWVudC5vcHRpb25zLnNoYXJkSWR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuY2xpZW50Lm9wdGlvbnMuc2hhcmRDb3VudH1zZW5kKG1lc3NhZ2Upe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57Y29uc3Qgc2VudD1wcm9jZXNzLnNlbmQobWVzc2FnZSxlcnI9PntpZihlcnIpcmVqZWN0KGVycik7ZWxzZSByZXNvbHZlKCl9KTtpZighc2VudCl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBzZW5kIG1lc3NhZ2UgdG8gbWFzdGVyIHByb2Nlc3MuIil9KX1mZXRjaENsaWVudFZhbHVlcyhwcm9wKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IGxpc3RlbmVyPW1lc3NhZ2U9PntpZighbWVzc2FnZXx8bWVzc2FnZS5fc0ZldGNoUHJvcCE9PXByb3ApcmV0dXJuO3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXIoIm1lc3NhZ2UiLGxpc3RlbmVyKTtpZighbWVzc2FnZS5fZXJyb3IpcmVzb2x2ZShtZXNzYWdlLl9yZXN1bHQpO2Vsc2UgcmVqZWN0KG1ha2VFcnJvcihtZXNzYWdlLl9lcnJvcikpfTtwcm9jZXNzLm9uKCJtZXNzYWdlIixsaXN0ZW5lcik7dGhpcy5zZW5kKHtfc0ZldGNoUHJvcDpwcm9wfSkuY2F0Y2goZXJyPT57cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsbGlzdGVuZXIpO3JlamVjdChlcnIpfSl9KX1icm9hZGNhc3RFdmFsKHNjcmlwdCl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9Pntjb25zdCBsaXN0ZW5lcj1tZXNzYWdlPT57aWYoIW1lc3NhZ2V8fG1lc3NhZ2UuX3NFdmFsIT09c2NyaXB0KXJldHVybjtwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixsaXN0ZW5lcik7aWYoIW1lc3NhZ2UuX2Vycm9yKXJlc29sdmUobWVzc2FnZS5fcmVzdWx0KTtlbHNlIHJlamVjdChtYWtlRXJyb3IobWVzc2FnZS5fZXJyb3IpKX07cHJvY2Vzcy5vbigibWVzc2FnZSIsbGlzdGVuZXIpO3RoaXMuc2VuZCh7X3NFdmFsOnNjcmlwdH0pLmNhdGNoKGVycj0+e3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXIoIm1lc3NhZ2UiLGxpc3RlbmVyKTtyZWplY3QoZXJyKX0pfSl9X2hhbmRsZU1lc3NhZ2UobWVzc2FnZSl7aWYoIW1lc3NhZ2UpcmV0dXJuO2lmKG1lc3NhZ2UuX2ZldGNoUHJvcCl7Y29uc3QgcHJvcHM9bWVzc2FnZS5fZmV0Y2hQcm9wLnNwbGl0KCIuIik7bGV0IHZhbHVlPXRoaXMuY2xpZW50O2Zvcihjb25zdCBwcm9wIG9mIHByb3BzKXZhbHVlPXZhbHVlW3Byb3BdO3RoaXMuX3Jlc3BvbmQoImZldGNoUHJvcCIse19mZXRjaFByb3A6bWVzc2FnZS5fZmV0Y2hQcm9wLF9yZXN1bHQ6dmFsdWV9KX1lbHNlIGlmKG1lc3NhZ2UuX2V2YWwpe3RyeXt0aGlzLl9yZXNwb25kKCJldmFsIix7X2V2YWw6bWVzc2FnZS5fZXZhbCxfcmVzdWx0OnRoaXMuY2xpZW50Ll9ldmFsKG1lc3NhZ2UuX2V2YWwpfSl9Y2F0Y2goZXJyKXt0aGlzLl9yZXNwb25kKCJldmFsIix7X2V2YWw6bWVzc2FnZS5fZXZhbCxfZXJyb3I6bWFrZVBsYWluRXJyb3IoZXJyKX0pfX19X3Jlc3BvbmQodHlwZSxtZXNzYWdlKXt0aGlzLnNlbmQobWVzc2FnZSkuY2F0Y2goZXJyPT57ZXJyLm1lc3NhZ2U9YEVycm9yIHdoZW4gc2VuZGluZyAke3R5cGV9IHJlc3BvbnNlIHRvIG1hc3RlciBwcm9jZXNzOiAke2Vyci5tZXNzYWdlfWA7dGhpcy5jbGllbnQuZW1pdCgiZXJyb3IiLGVycil9KX1zdGF0aWMgc2luZ2xldG9uKGNsaWVudCl7aWYoIXRoaXMuX3NpbmdsZXRvbil7dGhpcy5fc2luZ2xldG9uPW5ldyB0aGlzKGNsaWVudCl9ZWxzZXtjbGllbnQuZW1pdCgid2FybiIsIk11bHRpcGxlIGNsaWVudHMgY3JlYXRlZCBpbiBjaGlsZCBwcm9jZXNzOyBvbmx5IHRoZSBmaXJzdCB3aWxsIGhhbmRsZSBzaGFyZGluZyBoZWxwZXJzLiIpfXJldHVybiB0aGlzLl9zaW5nbGV0b259fW1vZHVsZS5leHBvcnRzPVNoYXJkQ2xpZW50VXRpbH0pLmNhbGwodGhpcyxyZXF1aXJlKCJfcHJvY2VzcyIpKX0seyIuLi91dGlsL01ha2VFcnJvciI6MTM4LCIuLi91dGlsL01ha2VQbGFpbkVycm9yIjoxMzksX3Byb2Nlc3M6MTkzfV0sOTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXtjb25zdCBwYXRoPXJlcXVpcmUoInBhdGgiKTtjb25zdCBmcz1yZXF1aXJlKCJmcyIpO2NvbnN0IEV2ZW50RW1pdHRlcj1yZXF1aXJlKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7Y29uc3QgbWVyZ2VEZWZhdWx0PXJlcXVpcmUoIi4uL3V0aWwvTWVyZ2VEZWZhdWx0Iik7Y29uc3QgU2hhcmQ9cmVxdWlyZSgiLi9TaGFyZCIpO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y29uc3QgZmV0Y2hSZWNvbW1lbmRlZFNoYXJkcz1yZXF1aXJlKCIuLi91dGlsL0ZldGNoUmVjb21tZW5kZWRTaGFyZHMiKTtjbGFzcyBTaGFyZGluZ01hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoZmlsZSxvcHRpb25zPXt9KXtzdXBlcigpO29wdGlvbnM9bWVyZ2VEZWZhdWx0KHt0b3RhbFNoYXJkczoiYXV0byIscmVzcGF3bjp0cnVlLHNoYXJkQXJnczpbXSx0b2tlbjpudWxsfSxvcHRpb25zKTt0aGlzLmZpbGU9ZmlsZTtpZighZmlsZSl0aHJvdyBuZXcgRXJyb3IoIkZpbGUgbXVzdCBiZSBzcGVjaWZpZWQuIik7aWYoIXBhdGguaXNBYnNvbHV0ZShmaWxlKSl0aGlzLmZpbGU9cGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksZmlsZSk7Y29uc3Qgc3RhdHM9ZnMuc3RhdFN5bmModGhpcy5maWxlKTtpZighc3RhdHMuaXNGaWxlKCkpdGhyb3cgbmV3IEVycm9yKCJGaWxlIHBhdGggZG9lcyBub3QgcG9pbnQgdG8gYSBmaWxlLiIpO3RoaXMudG90YWxTaGFyZHM9b3B0aW9ucy50b3RhbFNoYXJkcztpZih0aGlzLnRvdGFsU2hhcmRzIT09ImF1dG8iKXtpZih0eXBlb2YgdGhpcy50b3RhbFNoYXJkcyE9PSJudW1iZXIifHxpc05hTih0aGlzLnRvdGFsU2hhcmRzKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiQW1vdW50IG9mIHNoYXJkcyBtdXN0IGJlIGEgbnVtYmVyLiIpfWlmKHRoaXMudG90YWxTaGFyZHM8MSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQW1vdW50IG9mIHNoYXJkcyBtdXN0IGJlIGF0IGxlYXN0IDEuIik7aWYodGhpcy50b3RhbFNoYXJkcyE9PU1hdGguZmxvb3IodGhpcy50b3RhbFNoYXJkcykpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJBbW91bnQgb2Ygc2hhcmRzIG11c3QgYmUgYW4gaW50ZWdlci4iKX19dGhpcy5yZXNwYXduPW9wdGlvbnMucmVzcGF3bjt0aGlzLnNoYXJkQXJncz1vcHRpb25zLnNoYXJkQXJnczt0aGlzLnRva2VuPW9wdGlvbnMudG9rZW4/b3B0aW9ucy50b2tlbi5yZXBsYWNlKC9eQm90XHMqL2ksIiIpOm51bGw7dGhpcy5zaGFyZHM9bmV3IENvbGxlY3Rpb259Y3JlYXRlU2hhcmQoaWQ9dGhpcy5zaGFyZHMuc2l6ZSl7Y29uc3Qgc2hhcmQ9bmV3IFNoYXJkKHRoaXMsaWQsdGhpcy5zaGFyZEFyZ3MpO3RoaXMuc2hhcmRzLnNldChpZCxzaGFyZCk7dGhpcy5lbWl0KCJsYXVuY2giLHNoYXJkKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNoYXJkKX1zcGF3bihhbW91bnQ9dGhpcy50b3RhbFNoYXJkcyxkZWxheT01NTAwKXtpZihhbW91bnQ9PT0iYXV0byIpe3JldHVybiBmZXRjaFJlY29tbWVuZGVkU2hhcmRzKHRoaXMudG9rZW4pLnRoZW4oY291bnQ9Pnt0aGlzLnRvdGFsU2hhcmRzPWNvdW50O3JldHVybiB0aGlzLl9zcGF3bihjb3VudCxkZWxheSl9KX1lbHNle2lmKHR5cGVvZiBhbW91bnQhPT0ibnVtYmVyInx8aXNOYU4oYW1vdW50KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbW91bnQgb2Ygc2hhcmRzIG11c3QgYmUgYSBudW1iZXIuIik7aWYoYW1vdW50PDEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkFtb3VudCBvZiBzaGFyZHMgbXVzdCBiZSBhdCBsZWFzdCAxLiIpO2lmKGFtb3VudCE9PU1hdGguZmxvb3IoYW1vdW50KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbW91bnQgb2Ygc2hhcmRzIG11c3QgYmUgYW4gaW50ZWdlci4iKTtyZXR1cm4gdGhpcy5fc3Bhd24oYW1vdW50LGRlbGF5KX19X3NwYXduKGFtb3VudCxkZWxheSl7cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmU9PntpZih0aGlzLnNoYXJkcy5zaXplPj1hbW91bnQpdGhyb3cgbmV3IEVycm9yKGBBbHJlYWR5IHNwYXduZWQgJHt0aGlzLnNoYXJkcy5zaXplfSBzaGFyZHMuYCk7dGhpcy50b3RhbFNoYXJkcz1hbW91bnQ7dGhpcy5jcmVhdGVTaGFyZCgpO2lmKHRoaXMuc2hhcmRzLnNpemU+PXRoaXMudG90YWxTaGFyZHMpe3Jlc29sdmUodGhpcy5zaGFyZHMpO3JldHVybn1pZihkZWxheTw9MCl7d2hpbGUodGhpcy5zaGFyZHMuc2l6ZTx0aGlzLnRvdGFsU2hhcmRzKXRoaXMuY3JlYXRlU2hhcmQoKTtyZXNvbHZlKHRoaXMuc2hhcmRzKX1lbHNle2NvbnN0IGludGVydmFsPXNldEludGVydmFsKCgpPT57dGhpcy5jcmVhdGVTaGFyZCgpO2lmKHRoaXMuc2hhcmRzLnNpemU+PXRoaXMudG90YWxTaGFyZHMpe2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO3Jlc29sdmUodGhpcy5zaGFyZHMpfX0sZGVsYXkpfX0pfWJyb2FkY2FzdChtZXNzYWdlKXtjb25zdCBwcm9taXNlcz1bXTtmb3IoY29uc3Qgc2hhcmQgb2YgdGhpcy5zaGFyZHMudmFsdWVzKCkpcHJvbWlzZXMucHVzaChzaGFyZC5zZW5kKG1lc3NhZ2UpKTtyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpfWJyb2FkY2FzdEV2YWwoc2NyaXB0KXtjb25zdCBwcm9taXNlcz1bXTtmb3IoY29uc3Qgc2hhcmQgb2YgdGhpcy5zaGFyZHMudmFsdWVzKCkpcHJvbWlzZXMucHVzaChzaGFyZC5ldmFsKHNjcmlwdCkpO3JldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyl9ZmV0Y2hDbGllbnRWYWx1ZXMocHJvcCl7aWYodGhpcy5zaGFyZHMuc2l6ZT09PTApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiTm8gc2hhcmRzIGhhdmUgYmVlbiBzcGF3bmVkLiIpKTtpZih0aGlzLnNoYXJkcy5zaXplIT09dGhpcy50b3RhbFNoYXJkcylyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJTdGlsbCBzcGF3bmluZyBzaGFyZHMuIikpO2NvbnN0IHByb21pc2VzPVtdO2Zvcihjb25zdCBzaGFyZCBvZiB0aGlzLnNoYXJkcy52YWx1ZXMoKSlwcm9taXNlcy5wdXNoKHNoYXJkLmZldGNoQ2xpZW50VmFsdWUocHJvcCkpO3JldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyl9fW1vZHVsZS5leHBvcnRzPVNoYXJkaW5nTWFuYWdlcn0pLmNhbGwodGhpcyxyZXF1aXJlKCJfcHJvY2VzcyIpKX0seyIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi4vdXRpbC9GZXRjaFJlY29tbWVuZGVkU2hhcmRzIjoxMzcsIi4uL3V0aWwvTWVyZ2VEZWZhdWx0IjoxNDAsIi4vU2hhcmQiOjk3LF9wcm9jZXNzOjE5MyxldmVudHM6MTc1LGZzOjE2NixwYXRoOjE5MX1dLDEwMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgQ2hhbm5lbHtjb25zdHJ1Y3RvcihjbGllbnQsZGF0YSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNsaWVudCIse3ZhbHVlOmNsaWVudH0pO3RoaXMudHlwZT1udWxsO2lmKGRhdGEpdGhpcy5zZXR1cChkYXRhKX1zZXR1cChkYXRhKXt0aGlzLmlkPWRhdGEuaWR9Z2V0IGNyZWF0ZWRUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5pZC80MTk0MzA0KzE0MjAwNzA0ZTV9Z2V0IGNyZWF0ZWRBdCgpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmNyZWF0ZWRUaW1lc3RhbXApfWRlbGV0ZSgpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZGVsZXRlQ2hhbm5lbCh0aGlzKX19bW9kdWxlLmV4cG9ydHM9Q2hhbm5lbH0se31dLDEwMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgVXNlcj1yZXF1aXJlKCIuL1VzZXIiKTtjb25zdCBPQXV0aDJBcHBsaWNhdGlvbj1yZXF1aXJlKCIuL09BdXRoMkFwcGxpY2F0aW9uIik7Y2xhc3MgQ2xpZW50T0F1dGgyQXBwbGljYXRpb24gZXh0ZW5kcyBPQXV0aDJBcHBsaWNhdGlvbntzZXR1cChkYXRhKXtzdXBlci5zZXR1cChkYXRhKTt0aGlzLmZsYWdzPWRhdGEuZmxhZ3M7dGhpcy5vd25lcj1uZXcgVXNlcih0aGlzLmNsaWVudCxkYXRhLm93bmVyKX19bW9kdWxlLmV4cG9ydHM9Q2xpZW50T0F1dGgyQXBwbGljYXRpb259LHsiLi9PQXV0aDJBcHBsaWNhdGlvbiI6MTE2LCIuL1VzZXIiOjEyNX1dLDEwMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgVXNlcj1yZXF1aXJlKCIuL1VzZXIiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NsYXNzIENsaWVudFVzZXIgZXh0ZW5kcyBVc2Vye3NldHVwKGRhdGEpe3N1cGVyLnNldHVwKGRhdGEpO3RoaXMudmVyaWZpZWQ9ZGF0YS52ZXJpZmllZDt0aGlzLmVtYWlsPWRhdGEuZW1haWw7dGhpcy5sb2NhbFByZXNlbmNlPXt9O3RoaXMuX3R5cGluZz1uZXcgTWFwO3RoaXMuZnJpZW5kcz1uZXcgQ29sbGVjdGlvbjt0aGlzLmJsb2NrZWQ9bmV3IENvbGxlY3Rpb247dGhpcy5ub3Rlcz1uZXcgQ29sbGVjdGlvbn1lZGl0KGRhdGEpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoZGF0YSl9c2V0VXNlcm5hbWUodXNlcm5hbWUscGFzc3dvcmQpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoe3VzZXJuYW1lOnVzZXJuYW1lfSxwYXNzd29yZCl9c2V0RW1haWwoZW1haWwscGFzc3dvcmQpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoe2VtYWlsOmVtYWlsfSxwYXNzd29yZCl9c2V0UGFzc3dvcmQobmV3UGFzc3dvcmQsb2xkUGFzc3dvcmQpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoe3Bhc3N3b3JkOm5ld1Bhc3N3b3JkfSxvbGRQYXNzd29yZCl9c2V0QXZhdGFyKGF2YXRhcil7aWYoYXZhdGFyLnN0YXJ0c1dpdGgoImRhdGE6Iikpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoe2F2YXRhcjphdmF0YXJ9KX1lbHNle3JldHVybiB0aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlQnVmZmVyKGF2YXRhcikudGhlbihkYXRhPT50aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ3VycmVudFVzZXIoe2F2YXRhcjpkYXRhfSkpfX1zZXRQcmVzZW5jZShkYXRhKXtyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e2xldCBzdGF0dXM9dGhpcy5sb2NhbFByZXNlbmNlLnN0YXR1c3x8dGhpcy5wcmVzZW5jZS5zdGF0dXM7bGV0IGdhbWU9dGhpcy5sb2NhbFByZXNlbmNlLmdhbWU7bGV0IGFmaz10aGlzLmxvY2FsUHJlc2VuY2UuYWZrfHx0aGlzLnByZXNlbmNlLmFmaztpZighZ2FtZSYmdGhpcy5wcmVzZW5jZS5nYW1lKXtnYW1lPXtuYW1lOnRoaXMucHJlc2VuY2UuZ2FtZS5uYW1lLHR5cGU6dGhpcy5wcmVzZW5jZS5nYW1lLnR5cGUsdXJsOnRoaXMucHJlc2VuY2UuZ2FtZS51cmx9fWlmKGRhdGEuc3RhdHVzKXtpZih0eXBlb2YgZGF0YS5zdGF0dXMhPT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCJTdGF0dXMgbXVzdCBiZSBhIHN0cmluZyIpO3N0YXR1cz1kYXRhLnN0YXR1c31pZihkYXRhLmdhbWUpe2dhbWU9ZGF0YS5nYW1lO2lmKGdhbWUudXJsKWdhbWUudHlwZT0xfWlmKHR5cGVvZiBkYXRhLmFmayE9PSJ1bmRlZmluZWQiKWFmaz1kYXRhLmFmazthZms9Qm9vbGVhbihhZmspO3RoaXMubG9jYWxQcmVzZW5jZT17c3RhdHVzOnN0YXR1cyxnYW1lOmdhbWUsYWZrOmFma307dGhpcy5sb2NhbFByZXNlbmNlLnNpbmNlPTA7dGhpcy5sb2NhbFByZXNlbmNlLmdhbWU9dGhpcy5sb2NhbFByZXNlbmNlLmdhbWV8fG51bGw7dGhpcy5jbGllbnQud3Muc2VuZCh7b3A6MyxkOnRoaXMubG9jYWxQcmVzZW5jZX0pO3RoaXMuY2xpZW50Ll9zZXRQcmVzZW5jZSh0aGlzLmlkLHRoaXMubG9jYWxQcmVzZW5jZSk7cmVzb2x2ZSh0aGlzKX0pfXNldFN0YXR1cyhzdGF0dXMpe3JldHVybiB0aGlzLnNldFByZXNlbmNlKHtzdGF0dXM6c3RhdHVzfSl9c2V0R2FtZShnYW1lLHN0cmVhbWluZ1VSTCl7cmV0dXJuIHRoaXMuc2V0UHJlc2VuY2Uoe2dhbWU6e25hbWU6Z2FtZSx1cmw6c3RyZWFtaW5nVVJMfX0pfXNldEFGSyhhZmspe3JldHVybiB0aGlzLnNldFByZXNlbmNlKHthZms6YWZrfSl9ZmV0Y2hNZW50aW9ucyhvcHRpb25zPXtsaW1pdDoyNSxyb2xlczp0cnVlLGV2ZXJ5b25lOnRydWUsZ3VpbGQ6bnVsbH0pe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZmV0Y2hNZW50aW9ucyhvcHRpb25zKX1hZGRGcmllbmQodXNlcil7dXNlcj10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlVXNlcih1c2VyKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmFkZEZyaWVuZCh1c2VyKX1yZW1vdmVGcmllbmQodXNlcil7dXNlcj10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlVXNlcih1c2VyKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnJlbW92ZUZyaWVuZCh1c2VyKX1jcmVhdGVHdWlsZChuYW1lLHJlZ2lvbixpY29uPW51bGwpe2lmKCFpY29uKXJldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuY3JlYXRlR3VpbGQoe25hbWU6bmFtZSxpY29uOmljb24scmVnaW9uOnJlZ2lvbn0pO2lmKGljb24uc3RhcnRzV2l0aCgiZGF0YToiKSl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVHdWlsZCh7bmFtZTpuYW1lLGljb246aWNvbixyZWdpb246cmVnaW9ufSl9ZWxzZXtyZXR1cm4gdGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJ1ZmZlcihpY29uKS50aGVuKGRhdGE9PnRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVHdWlsZCh7bmFtZTpuYW1lLGljb246ZGF0YSxyZWdpb246cmVnaW9ufSkpfX19bW9kdWxlLmV4cG9ydHM9Q2xpZW50VXNlcn0seyIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi9Vc2VyIjoxMjV9XSwxMDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENoYW5uZWw9cmVxdWlyZSgiLi9DaGFubmVsIik7Y29uc3QgVGV4dEJhc2VkQ2hhbm5lbD1yZXF1aXJlKCIuL2ludGVyZmFjZS9UZXh0QmFzZWRDaGFubmVsIik7Y29uc3QgQ29sbGVjdGlvbj1yZXF1aXJlKCIuLi91dGlsL0NvbGxlY3Rpb24iKTtjbGFzcyBETUNoYW5uZWwgZXh0ZW5kcyBDaGFubmVse2NvbnN0cnVjdG9yKGNsaWVudCxkYXRhKXtzdXBlcihjbGllbnQsZGF0YSk7dGhpcy50eXBlPSJkbSI7dGhpcy5tZXNzYWdlcz1uZXcgQ29sbGVjdGlvbjt0aGlzLl90eXBpbmc9bmV3IE1hcH1zZXR1cChkYXRhKXtzdXBlci5zZXR1cChkYXRhKTt0aGlzLnJlY2lwaWVudD10aGlzLmNsaWVudC5kYXRhTWFuYWdlci5uZXdVc2VyKGRhdGEucmVjaXBpZW50c1swXSk7dGhpcy5sYXN0TWVzc2FnZUlEPWRhdGEubGFzdF9tZXNzYWdlX2lkfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMucmVjaXBpZW50LnRvU3RyaW5nKCl9c2VuZCgpe3JldHVybn1zZW5kTWVzc2FnZSgpe3JldHVybn1zZW5kRW1iZWQoKXtyZXR1cm59c2VuZEZpbGUoKXtyZXR1cm59c2VuZENvZGUoKXtyZXR1cm59ZmV0Y2hNZXNzYWdlKCl7cmV0dXJufWZldGNoTWVzc2FnZXMoKXtyZXR1cm59ZmV0Y2hQaW5uZWRNZXNzYWdlcygpe3JldHVybn1zdGFydFR5cGluZygpe3JldHVybn1zdG9wVHlwaW5nKCl7cmV0dXJufWdldCB0eXBpbmcoKXtyZXR1cm59Z2V0IHR5cGluZ0NvdW50KCl7cmV0dXJufWNyZWF0ZUNvbGxlY3Rvcigpe3JldHVybn1hd2FpdE1lc3NhZ2VzKCl7cmV0dXJufWJ1bGtEZWxldGUoKXtyZXR1cm59X2NhY2hlTWVzc2FnZSgpe3JldHVybn19VGV4dEJhc2VkQ2hhbm5lbC5hcHBseVRvQ2xhc3MoRE1DaGFubmVsLHRydWUpO21vZHVsZS5leHBvcnRzPURNQ2hhbm5lbH0seyIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi9DaGFubmVsIjoxMDAsIi4vaW50ZXJmYWNlL1RleHRCYXNlZENoYW5uZWwiOjEzMH1dLDEwNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgQ29sbGVjdGlvbj1yZXF1aXJlKCIuLi91dGlsL0NvbGxlY3Rpb24iKTtjbGFzcyBFbW9qaXtjb25zdHJ1Y3RvcihndWlsZCxkYXRhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6Z3VpbGQuY2xpZW50fSk7dGhpcy5ndWlsZD1ndWlsZDt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMucmVxdWlyZXNDb2xvbnM9ZGF0YS5yZXF1aXJlX2NvbG9uczt0aGlzLm1hbmFnZWQ9ZGF0YS5tYW5hZ2VkO3RoaXMuX3JvbGVzPWRhdGEucm9sZXN9Z2V0IGNyZWF0ZWRUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5pZC80MTk0MzA0KzE0MjAwNzA0ZTV9Z2V0IGNyZWF0ZWRBdCgpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmNyZWF0ZWRUaW1lc3RhbXApfWdldCByb2xlcygpe2NvbnN0IHJvbGVzPW5ldyBDb2xsZWN0aW9uO2Zvcihjb25zdCByb2xlIG9mIHRoaXMuX3JvbGVzKXtpZih0aGlzLmd1aWxkLnJvbGVzLmhhcyhyb2xlKSlyb2xlcy5zZXQocm9sZSx0aGlzLmd1aWxkLnJvbGVzLmdldChyb2xlKSl9cmV0dXJuIHJvbGVzfWdldCB1cmwoKXtyZXR1cm4gQ29uc3RhbnRzLkVuZHBvaW50cy5lbW9qaSh0aGlzLmlkKX10b1N0cmluZygpe3JldHVybiB0aGlzLnJlcXVpcmVzQ29sb25zP2A8OiR7dGhpcy5uYW1lfToke3RoaXMuaWR9PmA6dGhpcy5uYW1lfWVxdWFscyhvdGhlcil7aWYob3RoZXIgaW5zdGFuY2VvZiBFbW9qaSl7cmV0dXJuIG90aGVyLmlkPT09dGhpcy5pZCYmb3RoZXIubmFtZT09PXRoaXMubmFtZSYmb3RoZXIubWFuYWdlZD09PXRoaXMubWFuYWdlZCYmb3RoZXIucmVxdWlyZXNDb2xvbnM9PT10aGlzLnJlcXVpcmVzQ29sb25zfWVsc2V7cmV0dXJuIG90aGVyLmlkPT09dGhpcy5pZCYmb3RoZXIubmFtZT09PXRoaXMubmFtZX19Z2V0IGlkZW50aWZpZXIoKXtpZih0aGlzLmlkKXtyZXR1cm5gJHt0aGlzLm5hbWV9OiR7dGhpcy5pZH1gfXJldHVybiBlbmNvZGVVUklDb21wb25lbnQodGhpcy5uYW1lKX19bW9kdWxlLmV4cG9ydHM9RW1vaml9LHsiLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4uL3V0aWwvQ29uc3RhbnRzIjoxMzR9XSwxMDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIEV2YWx1YXRlZFBlcm1pc3Npb25ze2NvbnN0cnVjdG9yKG1lbWJlcixyYXcpe3RoaXMubWVtYmVyPW1lbWJlcjt0aGlzLnJhdz1yYXd9c2VyaWFsaXplKCl7Y29uc3Qgc2VyaWFsaXplZFBlcm1pc3Npb25zPXt9O2Zvcihjb25zdCBwZXJtaXNzaW9uTmFtZSBpbiBDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzKXsKc2VyaWFsaXplZFBlcm1pc3Npb25zW3Blcm1pc3Npb25OYW1lXT10aGlzLmhhc1Blcm1pc3Npb24ocGVybWlzc2lvbk5hbWUpfXJldHVybiBzZXJpYWxpemVkUGVybWlzc2lvbnN9aGFzUGVybWlzc2lvbihwZXJtaXNzaW9uLGV4cGxpY2l0PWZhbHNlKXtwZXJtaXNzaW9uPXRoaXMubWVtYmVyLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlUGVybWlzc2lvbihwZXJtaXNzaW9uKTtpZighZXhwbGljaXQmJih0aGlzLnJhdyZDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzLkFETUlOSVNUUkFUT1IpPjApcmV0dXJuIHRydWU7cmV0dXJuKHRoaXMucmF3JnBlcm1pc3Npb24pPjB9aGFzUGVybWlzc2lvbnMocGVybWlzc2lvbnMsZXhwbGljaXQ9ZmFsc2Upe3JldHVybiBwZXJtaXNzaW9ucy5ldmVyeShwPT50aGlzLmhhc1Blcm1pc3Npb24ocCxleHBsaWNpdCkpfW1pc3NpbmdQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucyxleHBsaWNpdD1mYWxzZSl7cmV0dXJuIHBlcm1pc3Npb25zLmZpbHRlcihwPT4hdGhpcy5oYXNQZXJtaXNzaW9uKHAsZXhwbGljaXQpKX19bW9kdWxlLmV4cG9ydHM9RXZhbHVhdGVkUGVybWlzc2lvbnN9LHsiLi4vdXRpbC9Db25zdGFudHMiOjEzNH1dLDEwNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ2hhbm5lbD1yZXF1aXJlKCIuL0NoYW5uZWwiKTtjb25zdCBUZXh0QmFzZWRDaGFubmVsPXJlcXVpcmUoIi4vaW50ZXJmYWNlL1RleHRCYXNlZENoYW5uZWwiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NsYXNzIEdyb3VwRE1DaGFubmVsIGV4dGVuZHMgQ2hhbm5lbHtjb25zdHJ1Y3RvcihjbGllbnQsZGF0YSl7c3VwZXIoY2xpZW50LGRhdGEpO3RoaXMudHlwZT0iZ3JvdXAiO3RoaXMubWVzc2FnZXM9bmV3IENvbGxlY3Rpb247dGhpcy5fdHlwaW5nPW5ldyBNYXB9c2V0dXAoZGF0YSl7c3VwZXIuc2V0dXAoZGF0YSk7dGhpcy5uYW1lPWRhdGEubmFtZTt0aGlzLmljb249ZGF0YS5pY29uO3RoaXMub3duZXJJRD1kYXRhLm93bmVyX2lkO2lmKCF0aGlzLnJlY2lwaWVudHMpe3RoaXMucmVjaXBpZW50cz1uZXcgQ29sbGVjdGlvbn1pZihkYXRhLnJlY2lwaWVudHMpe2Zvcihjb25zdCByZWNpcGllbnQgb2YgZGF0YS5yZWNpcGllbnRzKXtjb25zdCB1c2VyPXRoaXMuY2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIocmVjaXBpZW50KTt0aGlzLnJlY2lwaWVudHMuc2V0KHVzZXIuaWQsdXNlcil9fXRoaXMubGFzdE1lc3NhZ2VJRD1kYXRhLmxhc3RfbWVzc2FnZV9pZH1nZXQgb3duZXIoKXtyZXR1cm4gdGhpcy5jbGllbnQudXNlcnMuZ2V0KHRoaXMub3duZXJJRCl9ZXF1YWxzKGNoYW5uZWwpe2NvbnN0IGVxdWFsPWNoYW5uZWwmJnRoaXMuaWQ9PT1jaGFubmVsLmlkJiZ0aGlzLm5hbWU9PT1jaGFubmVsLm5hbWUmJnRoaXMuaWNvbj09PWNoYW5uZWwuaWNvbiYmdGhpcy5vd25lcklEPT09Y2hhbm5lbC5vd25lcklEO2lmKGVxdWFsKXtyZXR1cm4gdGhpcy5yZWNpcGllbnRzLmVxdWFscyhjaGFubmVsLnJlY2lwaWVudHMpfXJldHVybiBlcXVhbH10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9c2VuZCgpe3JldHVybn1zZW5kTWVzc2FnZSgpe3JldHVybn1zZW5kRW1iZWQoKXtyZXR1cm59c2VuZEZpbGUoKXtyZXR1cm59c2VuZENvZGUoKXtyZXR1cm59ZmV0Y2hNZXNzYWdlKCl7cmV0dXJufWZldGNoTWVzc2FnZXMoKXtyZXR1cm59ZmV0Y2hQaW5uZWRNZXNzYWdlcygpe3JldHVybn1zdGFydFR5cGluZygpe3JldHVybn1zdG9wVHlwaW5nKCl7cmV0dXJufWdldCB0eXBpbmcoKXtyZXR1cm59Z2V0IHR5cGluZ0NvdW50KCl7cmV0dXJufWNyZWF0ZUNvbGxlY3Rvcigpe3JldHVybn1hd2FpdE1lc3NhZ2VzKCl7cmV0dXJufWJ1bGtEZWxldGUoKXtyZXR1cm59X2NhY2hlTWVzc2FnZSgpe3JldHVybn19VGV4dEJhc2VkQ2hhbm5lbC5hcHBseVRvQ2xhc3MoR3JvdXBETUNoYW5uZWwsdHJ1ZSk7bW9kdWxlLmV4cG9ydHM9R3JvdXBETUNoYW5uZWx9LHsiLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4vQ2hhbm5lbCI6MTAwLCIuL2ludGVyZmFjZS9UZXh0QmFzZWRDaGFubmVsIjoxMzB9XSwxMDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFVzZXI9cmVxdWlyZSgiLi9Vc2VyIik7Y29uc3QgUm9sZT1yZXF1aXJlKCIuL1JvbGUiKTtjb25zdCBFbW9qaT1yZXF1aXJlKCIuL0Vtb2ppIik7Y29uc3QgUHJlc2VuY2U9cmVxdWlyZSgiLi9QcmVzZW5jZSIpLlByZXNlbmNlO2NvbnN0IEd1aWxkTWVtYmVyPXJlcXVpcmUoIi4vR3VpbGRNZW1iZXIiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NvbnN0IGNsb25lT2JqZWN0PXJlcXVpcmUoIi4uL3V0aWwvQ2xvbmVPYmplY3QiKTtjb25zdCBhcnJheXNFcXVhbD1yZXF1aXJlKCIuLi91dGlsL0FycmF5c0VxdWFsIik7Y2xhc3MgR3VpbGR7Y29uc3RydWN0b3IoY2xpZW50LGRhdGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjbGllbnQiLHt2YWx1ZTpjbGllbnR9KTt0aGlzLm1lbWJlcnM9bmV3IENvbGxlY3Rpb247dGhpcy5jaGFubmVscz1uZXcgQ29sbGVjdGlvbjt0aGlzLnJvbGVzPW5ldyBDb2xsZWN0aW9uO3RoaXMucHJlc2VuY2VzPW5ldyBDb2xsZWN0aW9uO2lmKCFkYXRhKXJldHVybjtpZihkYXRhLnVuYXZhaWxhYmxlKXt0aGlzLmF2YWlsYWJsZT1mYWxzZTt0aGlzLmlkPWRhdGEuaWR9ZWxzZXt0aGlzLmF2YWlsYWJsZT10cnVlO3RoaXMuc2V0dXAoZGF0YSl9fXNldHVwKGRhdGEpe3RoaXMubmFtZT1kYXRhLm5hbWU7dGhpcy5pY29uPWRhdGEuaWNvbjt0aGlzLnNwbGFzaD1kYXRhLnNwbGFzaDt0aGlzLnJlZ2lvbj1kYXRhLnJlZ2lvbjt0aGlzLm1lbWJlckNvdW50PWRhdGEubWVtYmVyX2NvdW50fHx0aGlzLm1lbWJlckNvdW50O3RoaXMubGFyZ2U9ZGF0YS5sYXJnZXx8dGhpcy5sYXJnZTt0aGlzLmZlYXR1cmVzPWRhdGEuZmVhdHVyZXM7dGhpcy5hcHBsaWNhdGlvbklEPWRhdGEuYXBwbGljYXRpb25faWQ7dGhpcy5lbW9qaXM9bmV3IENvbGxlY3Rpb247Zm9yKGNvbnN0IGVtb2ppIG9mIGRhdGEuZW1vamlzKXRoaXMuZW1vamlzLnNldChlbW9qaS5pZCxuZXcgRW1vamkodGhpcyxlbW9qaSkpO3RoaXMuYWZrVGltZW91dD1kYXRhLmFma190aW1lb3V0O3RoaXMuYWZrQ2hhbm5lbElEPWRhdGEuYWZrX2NoYW5uZWxfaWQ7dGhpcy5lbWJlZEVuYWJsZWQ9ZGF0YS5lbWJlZF9lbmFibGVkO3RoaXMudmVyaWZpY2F0aW9uTGV2ZWw9ZGF0YS52ZXJpZmljYXRpb25fbGV2ZWw7dGhpcy5qb2luZWRUaW1lc3RhbXA9ZGF0YS5qb2luZWRfYXQ/bmV3IERhdGUoZGF0YS5qb2luZWRfYXQpLmdldFRpbWUoKTp0aGlzLmpvaW5lZFRpbWVzdGFtcDt0aGlzLmlkPWRhdGEuaWQ7dGhpcy5hdmFpbGFibGU9IWRhdGEudW5hdmFpbGFibGU7dGhpcy5mZWF0dXJlcz1kYXRhLmZlYXR1cmVzfHx0aGlzLmZlYXR1cmVzfHxbXTtpZihkYXRhLm1lbWJlcnMpe3RoaXMubWVtYmVycy5jbGVhcigpO2Zvcihjb25zdCBndWlsZFVzZXIgb2YgZGF0YS5tZW1iZXJzKXRoaXMuX2FkZE1lbWJlcihndWlsZFVzZXIsZmFsc2UpfWlmKGRhdGEub3duZXJfaWQpe3RoaXMub3duZXJJRD1kYXRhLm93bmVyX2lkfWlmKGRhdGEuY2hhbm5lbHMpe3RoaXMuY2hhbm5lbHMuY2xlYXIoKTtmb3IoY29uc3QgY2hhbm5lbCBvZiBkYXRhLmNoYW5uZWxzKXRoaXMuY2xpZW50LmRhdGFNYW5hZ2VyLm5ld0NoYW5uZWwoY2hhbm5lbCx0aGlzKX1pZihkYXRhLnJvbGVzKXt0aGlzLnJvbGVzLmNsZWFyKCk7Zm9yKGNvbnN0IHJvbGUgb2YgZGF0YS5yb2xlcyl7Y29uc3QgbmV3Um9sZT1uZXcgUm9sZSh0aGlzLHJvbGUpO3RoaXMucm9sZXMuc2V0KG5ld1JvbGUuaWQsbmV3Um9sZSl9fWlmKGRhdGEucHJlc2VuY2VzKXtmb3IoY29uc3QgcHJlc2VuY2Ugb2YgZGF0YS5wcmVzZW5jZXMpe3RoaXMuX3NldFByZXNlbmNlKHByZXNlbmNlLnVzZXIuaWQscHJlc2VuY2UpfX10aGlzLl9yYXdWb2ljZVN0YXRlcz1uZXcgQ29sbGVjdGlvbjtpZihkYXRhLnZvaWNlX3N0YXRlcyl7Zm9yKGNvbnN0IHZvaWNlU3RhdGUgb2YgZGF0YS52b2ljZV9zdGF0ZXMpe3RoaXMuX3Jhd1ZvaWNlU3RhdGVzLnNldCh2b2ljZVN0YXRlLnVzZXJfaWQsdm9pY2VTdGF0ZSk7Y29uc3QgbWVtYmVyPXRoaXMubWVtYmVycy5nZXQodm9pY2VTdGF0ZS51c2VyX2lkKTtpZihtZW1iZXIpe21lbWJlci5zZXJ2ZXJNdXRlPXZvaWNlU3RhdGUubXV0ZTttZW1iZXIuc2VydmVyRGVhZj12b2ljZVN0YXRlLmRlYWY7bWVtYmVyLnNlbGZNdXRlPXZvaWNlU3RhdGUuc2VsZl9tdXRlO21lbWJlci5zZWxmRGVhZj12b2ljZVN0YXRlLnNlbGZfZGVhZjttZW1iZXIudm9pY2VTZXNzaW9uSUQ9dm9pY2VTdGF0ZS5zZXNzaW9uX2lkO21lbWJlci52b2ljZUNoYW5uZWxJRD12b2ljZVN0YXRlLmNoYW5uZWxfaWQ7dGhpcy5jaGFubmVscy5nZXQodm9pY2VTdGF0ZS5jaGFubmVsX2lkKS5tZW1iZXJzLnNldChtZW1iZXIudXNlci5pZCxtZW1iZXIpfX19fWdldCBjcmVhdGVkVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuaWQvNDE5NDMwNCsxNDIwMDcwNGU1fWdldCBjcmVhdGVkQXQoKXtyZXR1cm4gbmV3IERhdGUodGhpcy5jcmVhdGVkVGltZXN0YW1wKX1nZXQgam9pbmVkQXQoKXtyZXR1cm4gbmV3IERhdGUodGhpcy5qb2luZWRUaW1lc3RhbXApfWdldCBpY29uVVJMKCl7aWYoIXRoaXMuaWNvbilyZXR1cm4gbnVsbDtyZXR1cm4gQ29uc3RhbnRzLkVuZHBvaW50cy5ndWlsZEljb24odGhpcy5pZCx0aGlzLmljb24pfWdldCBzcGxhc2hVUkwoKXtpZighdGhpcy5zcGxhc2gpcmV0dXJuIG51bGw7cmV0dXJuIENvbnN0YW50cy5FbmRwb2ludHMuZ3VpbGRTcGxhc2godGhpcy5pZCx0aGlzLnNwbGFzaCl9Z2V0IG93bmVyKCl7cmV0dXJuIHRoaXMubWVtYmVycy5nZXQodGhpcy5vd25lcklEKX1nZXQgdm9pY2VDb25uZWN0aW9uKCl7aWYodGhpcy5jbGllbnQuYnJvd3NlcilyZXR1cm4gbnVsbDtyZXR1cm4gdGhpcy5jbGllbnQudm9pY2UuY29ubmVjdGlvbnMuZ2V0KHRoaXMuaWQpfHxudWxsfWdldCBkZWZhdWx0Q2hhbm5lbCgpe3JldHVybiB0aGlzLmNoYW5uZWxzLmdldCh0aGlzLmlkKX1tZW1iZXIodXNlcil7cmV0dXJuIHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVHdWlsZE1lbWJlcih0aGlzLHVzZXIpfWZldGNoQmFucygpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZ2V0R3VpbGRCYW5zKHRoaXMpfWZldGNoSW52aXRlcygpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZ2V0R3VpbGRJbnZpdGVzKHRoaXMpfWZldGNoV2ViaG9va3MoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmdldEd1aWxkV2ViaG9va3ModGhpcyl9ZmV0Y2hNZW1iZXIodXNlcil7aWYodGhpcy5fZmV0Y2hXYWl0ZXIpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiQWxyZWFkeSBmZXRjaGluZyBndWlsZCBtZW1iZXJzLiIpKTt1c2VyPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVVc2VyKHVzZXIpO2lmKCF1c2VyKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIlVzZXIgaXMgbm90IGNhY2hlZC4gVXNlIENsaWVudC5mZXRjaFVzZXIgZmlyc3QuIikpO2lmKHRoaXMubWVtYmVycy5oYXModXNlci5pZCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLm1lbWJlcnMuZ2V0KHVzZXIuaWQpKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmdldEd1aWxkTWVtYmVyKHRoaXMsdXNlcil9ZmV0Y2hNZW1iZXJzKHF1ZXJ5PSIiKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2lmKHRoaXMuX2ZldGNoV2FpdGVyKXRocm93IG5ldyBFcnJvcigiQWxyZWFkeSBmZXRjaGluZyBndWlsZCBtZW1iZXJzIGluICR7dGhpcy5pZH0uIik7aWYodGhpcy5tZW1iZXJDb3VudD09PXRoaXMubWVtYmVycy5zaXplKXtyZXNvbHZlKHRoaXMpO3JldHVybn10aGlzLl9mZXRjaFdhaXRlcj1yZXNvbHZlO3RoaXMuY2xpZW50LndzLnNlbmQoe29wOkNvbnN0YW50cy5PUENvZGVzLlJFUVVFU1RfR1VJTERfTUVNQkVSUyxkOntndWlsZF9pZDp0aGlzLmlkLHF1ZXJ5OnF1ZXJ5LGxpbWl0OjB9fSk7dGhpcy5fY2hlY2tDaHVua3MoKTt0aGlzLmNsaWVudC5zZXRUaW1lb3V0KCgpPT5yZWplY3QobmV3IEVycm9yKCJNZW1iZXJzIGRpZG4ndCBhcnJpdmUgaW4gdGltZS4iKSksMTIwKjFlMyl9KX1lZGl0KGRhdGEpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlR3VpbGQodGhpcyxkYXRhKX1zZXROYW1lKG5hbWUpe3JldHVybiB0aGlzLmVkaXQoe25hbWU6bmFtZX0pfXNldFJlZ2lvbihyZWdpb24pe3JldHVybiB0aGlzLmVkaXQoe3JlZ2lvbjpyZWdpb259KX1zZXRWZXJpZmljYXRpb25MZXZlbCh2ZXJpZmljYXRpb25MZXZlbCl7cmV0dXJuIHRoaXMuZWRpdCh7dmVyaWZpY2F0aW9uTGV2ZWw6dmVyaWZpY2F0aW9uTGV2ZWx9KX1zZXRBRktDaGFubmVsKGFma0NoYW5uZWwpe3JldHVybiB0aGlzLmVkaXQoe2Fma0NoYW5uZWw6YWZrQ2hhbm5lbH0pfXNldEFGS1RpbWVvdXQoYWZrVGltZW91dCl7cmV0dXJuIHRoaXMuZWRpdCh7YWZrVGltZW91dDphZmtUaW1lb3V0fSl9c2V0SWNvbihpY29uKXtyZXR1cm4gdGhpcy5lZGl0KHtpY29uOmljb259KX1zZXRPd25lcihvd25lcil7cmV0dXJuIHRoaXMuZWRpdCh7b3duZXI6b3duZXJ9KX1zZXRTcGxhc2goc3BsYXNoKXtyZXR1cm4gdGhpcy5lZGl0KHtzcGxhc2g6c3BsYXNofSl9YmFuKHVzZXIsZGVsZXRlRGF5cz0wKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmJhbkd1aWxkTWVtYmVyKHRoaXMsdXNlcixkZWxldGVEYXlzKX11bmJhbih1c2VyKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnVuYmFuR3VpbGRNZW1iZXIodGhpcyx1c2VyKX1wcnVuZU1lbWJlcnMoZGF5cyxkcnk9ZmFsc2Upe2lmKHR5cGVvZiBkYXlzIT09Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGF5cyBtdXN0IGJlIGEgbnVtYmVyLiIpO3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMucHJ1bmVHdWlsZE1lbWJlcnModGhpcyxkYXlzLGRyeSl9c3luYygpe2lmKCF0aGlzLmNsaWVudC51c2VyLmJvdCl0aGlzLmNsaWVudC5zeW5jR3VpbGRzKFt0aGlzXSl9Y3JlYXRlQ2hhbm5lbChuYW1lLHR5cGUsb3ZlcndyaXRlcyl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVDaGFubmVsKHRoaXMsbmFtZSx0eXBlLG92ZXJ3cml0ZXMpfWNyZWF0ZVJvbGUoZGF0YSl7Y29uc3QgY3JlYXRlPXRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVHdWlsZFJvbGUodGhpcyk7aWYoIWRhdGEpcmV0dXJuIGNyZWF0ZTtyZXR1cm4gY3JlYXRlLnRoZW4ocm9sZT0+cm9sZS5lZGl0KGRhdGEpKX1jcmVhdGVFbW9qaShhdHRhY2htZW50LG5hbWUpe3JldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT57aWYoYXR0YWNobWVudC5zdGFydHNXaXRoKCJkYXRhOiIpKXtyZXNvbHZlKHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVFbW9qaSh0aGlzLGF0dGFjaG1lbnQsbmFtZSkpfWVsc2V7dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJ1ZmZlcihhdHRhY2htZW50KS50aGVuKGRhdGE9PnJlc29sdmUodGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmNyZWF0ZUVtb2ppKHRoaXMsZGF0YSxuYW1lKSkpfX0pfWRlbGV0ZUVtb2ppKGVtb2ppKXtpZighKGVtb2ppIGluc3RhbmNlb2YgRW1vamkpKWVtb2ppPXRoaXMuZW1vamlzLmdldChlbW9qaSk7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5kZWxldGVFbW9qaShlbW9qaSl9bGVhdmUoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmxlYXZlR3VpbGQodGhpcyl9ZGVsZXRlKCl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5kZWxldGVHdWlsZCh0aGlzKX1zZXRSb2xlUG9zaXRpb24ocm9sZSxwb3NpdGlvbil7aWYodHlwZW9mIHJvbGU9PT0ic3RyaW5nIil7cm9sZT10aGlzLnJvbGVzLmdldChyb2xlKTtpZighcm9sZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJTdXBwbGllZCByb2xlIGlzIG5vdCBhIHJvbGUgb3Igc3RyaW5nLiIpKX1wb3NpdGlvbj1OdW1iZXIocG9zaXRpb24pO2lmKGlzTmFOKHBvc2l0aW9uKSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJTdXBwbGllZCBwb3NpdGlvbiBpcyBub3QgYSBudW1iZXIuIikpO2NvbnN0IGxvd2VzdEFmZmVjdGVkPU1hdGgubWluKHJvbGUucG9zaXRpb24scG9zaXRpb24pO2NvbnN0IGhpZ2hlc3RBZmZlY3RlZD1NYXRoLm1heChyb2xlLnBvc2l0aW9uLHBvc2l0aW9uKTtjb25zdCByb2xlc1RvVXBkYXRlPXRoaXMucm9sZXMuZmlsdGVyKHI9PnIucG9zaXRpb24+PWxvd2VzdEFmZmVjdGVkJiZyLnBvc2l0aW9uPD1oaWdoZXN0QWZmZWN0ZWQpO2lmKHBvc2l0aW9uPnJvbGUucG9zaXRpb24pe3Bvc2l0aW9uPXJvbGVzVG9VcGRhdGUuZmlyc3QoKS5wb3NpdGlvbn1lbHNle3Bvc2l0aW9uPXJvbGVzVG9VcGRhdGUubGFzdCgpLnBvc2l0aW9ufWNvbnN0IHVwZGF0ZWRSb2xlcz1bXTtmb3IoY29uc3QgdVJvbGUgb2Ygcm9sZXNUb1VwZGF0ZS52YWx1ZXMoKSl7dXBkYXRlZFJvbGVzLnB1c2goe2lkOnVSb2xlLmlkLHBvc2l0aW9uOnVSb2xlLmlkPT09cm9sZS5pZD9wb3NpdGlvbjp1Um9sZS5wb3NpdGlvbisocG9zaXRpb248cm9sZS5wb3NpdGlvbj8xOi0xKX0pfXJldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuc2V0Um9sZVBvc2l0aW9ucyh0aGlzLmlkLHVwZGF0ZWRSb2xlcyl9ZXF1YWxzKGd1aWxkKXtsZXQgZXF1YWw9Z3VpbGQmJnRoaXMuaWQ9PT1ndWlsZC5pZCYmdGhpcy5hdmFpbGFibGU9PT0hZ3VpbGQudW5hdmFpbGFibGUmJnRoaXMuc3BsYXNoPT09Z3VpbGQuc3BsYXNoJiZ0aGlzLnJlZ2lvbj09PWd1aWxkLnJlZ2lvbiYmdGhpcy5uYW1lPT09Z3VpbGQubmFtZSYmdGhpcy5tZW1iZXJDb3VudD09PWd1aWxkLm1lbWJlcl9jb3VudCYmdGhpcy5sYXJnZT09PWd1aWxkLmxhcmdlJiZ0aGlzLmljb249PT1ndWlsZC5pY29uJiZhcnJheXNFcXVhbCh0aGlzLmZlYXR1cmVzLGd1aWxkLmZlYXR1cmVzKSYmdGhpcy5vd25lcklEPT09Z3VpbGQub3duZXJfaWQmJnRoaXMudmVyaWZpY2F0aW9uTGV2ZWw9PT1ndWlsZC52ZXJpZmljYXRpb25fbGV2ZWwmJnRoaXMuZW1iZWRFbmFibGVkPT09Z3VpbGQuZW1iZWRfZW5hYmxlZDtpZihlcXVhbCl7aWYodGhpcy5lbWJlZENoYW5uZWwpe2lmKHRoaXMuZW1iZWRDaGFubmVsLmlkIT09Z3VpbGQuZW1iZWRfY2hhbm5lbF9pZCllcXVhbD1mYWxzZX1lbHNlIGlmKGd1aWxkLmVtYmVkX2NoYW5uZWxfaWQpe2VxdWFsPWZhbHNlfX1yZXR1cm4gZXF1YWx9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfV9hZGRNZW1iZXIoZ3VpbGRVc2VyLGVtaXRFdmVudD10cnVlKXtjb25zdCBleGlzdGluZz10aGlzLm1lbWJlcnMuaGFzKGd1aWxkVXNlci51c2VyLmlkKTtpZighKGd1aWxkVXNlci51c2VyIGluc3RhbmNlb2YgVXNlcikpZ3VpbGRVc2VyLnVzZXI9dGhpcy5jbGllbnQuZGF0YU1hbmFnZXIubmV3VXNlcihndWlsZFVzZXIudXNlcik7Z3VpbGRVc2VyLmpvaW5lZF9hdD1ndWlsZFVzZXIuam9pbmVkX2F0fHwwO2NvbnN0IG1lbWJlcj1uZXcgR3VpbGRNZW1iZXIodGhpcyxndWlsZFVzZXIpO3RoaXMubWVtYmVycy5zZXQobWVtYmVyLmlkLG1lbWJlcik7aWYodGhpcy5fcmF3Vm9pY2VTdGF0ZXMmJnRoaXMuX3Jhd1ZvaWNlU3RhdGVzLmhhcyhtZW1iZXIudXNlci5pZCkpe2NvbnN0IHZvaWNlU3RhdGU9dGhpcy5fcmF3Vm9pY2VTdGF0ZXMuZ2V0KG1lbWJlci51c2VyLmlkKTttZW1iZXIuc2VydmVyTXV0ZT12b2ljZVN0YXRlLm11dGU7bWVtYmVyLnNlcnZlckRlYWY9dm9pY2VTdGF0ZS5kZWFmO21lbWJlci5zZWxmTXV0ZT12b2ljZVN0YXRlLnNlbGZfbXV0ZTttZW1iZXIuc2VsZkRlYWY9dm9pY2VTdGF0ZS5zZWxmX2RlYWY7bWVtYmVyLnZvaWNlU2Vzc2lvbklEPXZvaWNlU3RhdGUuc2Vzc2lvbl9pZDttZW1iZXIudm9pY2VDaGFubmVsSUQ9dm9pY2VTdGF0ZS5jaGFubmVsX2lkO2lmKHRoaXMuY2xpZW50LmNoYW5uZWxzLmhhcyh2b2ljZVN0YXRlLmNoYW5uZWxfaWQpKXt0aGlzLmNsaWVudC5jaGFubmVscy5nZXQodm9pY2VTdGF0ZS5jaGFubmVsX2lkKS5tZW1iZXJzLnNldChtZW1iZXIudXNlci5pZCxtZW1iZXIpfWVsc2V7dGhpcy5jbGllbnQuZW1pdCgid2FybiIsYE1lbWJlciAke21lbWJlci5pZH0gYWRkZWQgaW4gZ3VpbGQgJHt0aGlzLmlkfSB3aXRoIGFuIHVuY2FjaGVkIHZvaWNlIGNoYW5uZWxgKX19aWYodGhpcy5jbGllbnQud3Muc3RhdHVzPT09Q29uc3RhbnRzLlN0YXR1cy5SRUFEWSYmZW1pdEV2ZW50JiYhZXhpc3Rpbmcpe3RoaXMuY2xpZW50LmVtaXQoQ29uc3RhbnRzLkV2ZW50cy5HVUlMRF9NRU1CRVJfQURELG1lbWJlcil9dGhpcy5fY2hlY2tDaHVua3MoKTtyZXR1cm4gbWVtYmVyfV91cGRhdGVNZW1iZXIobWVtYmVyLGRhdGEpe2NvbnN0IG9sZE1lbWJlcj1jbG9uZU9iamVjdChtZW1iZXIpO2lmKGRhdGEucm9sZXMpbWVtYmVyLl9yb2xlcz1kYXRhLnJvbGVzO2lmKHR5cGVvZiBkYXRhLm5pY2shPT0idW5kZWZpbmVkIiltZW1iZXIubmlja25hbWU9ZGF0YS5uaWNrO2NvbnN0IG5vdFNhbWU9bWVtYmVyLm5pY2tuYW1lIT09b2xkTWVtYmVyLm5pY2tuYW1lfHwhYXJyYXlzRXF1YWwobWVtYmVyLl9yb2xlcyxvbGRNZW1iZXIuX3JvbGVzKTtpZih0aGlzLmNsaWVudC53cy5zdGF0dXM9PT1Db25zdGFudHMuU3RhdHVzLlJFQURZJiZub3RTYW1lKXt0aGlzLmNsaWVudC5lbWl0KENvbnN0YW50cy5FdmVudHMuR1VJTERfTUVNQkVSX1VQREFURSxvbGRNZW1iZXIsbWVtYmVyKX1yZXR1cm57b2xkOm9sZE1lbWJlcixtZW06bWVtYmVyfX1fcmVtb3ZlTWVtYmVyKGd1aWxkTWVtYmVyKXt0aGlzLm1lbWJlcnMuZGVsZXRlKGd1aWxkTWVtYmVyLmlkKTt0aGlzLl9jaGVja0NodW5rcygpfV9tZW1iZXJTcGVha1VwZGF0ZSh1c2VyLHNwZWFraW5nKXtjb25zdCBtZW1iZXI9dGhpcy5tZW1iZXJzLmdldCh1c2VyKTtpZihtZW1iZXImJm1lbWJlci5zcGVha2luZyE9PXNwZWFraW5nKXttZW1iZXIuc3BlYWtpbmc9c3BlYWtpbmc7dGhpcy5jbGllbnQuZW1pdChDb25zdGFudHMuRXZlbnRzLkdVSUxEX01FTUJFUl9TUEVBS0lORyxtZW1iZXIsc3BlYWtpbmcpfX1fc2V0UHJlc2VuY2UoaWQscHJlc2VuY2Upe2lmKHRoaXMucHJlc2VuY2VzLmdldChpZCkpe3RoaXMucHJlc2VuY2VzLmdldChpZCkudXBkYXRlKHByZXNlbmNlKTtyZXR1cm59dGhpcy5wcmVzZW5jZXMuc2V0KGlkLG5ldyBQcmVzZW5jZShwcmVzZW5jZSkpfV9jaGVja0NodW5rcygpe2lmKHRoaXMuX2ZldGNoV2FpdGVyKXtpZih0aGlzLm1lbWJlcnMuc2l6ZT09PXRoaXMubWVtYmVyQ291bnQpe3RoaXMuX2ZldGNoV2FpdGVyKHRoaXMpO3RoaXMuX2ZldGNoV2FpdGVyPW51bGx9fX19bW9kdWxlLmV4cG9ydHM9R3VpbGR9LHsiLi4vdXRpbC9BcnJheXNFcXVhbCI6MTMxLCIuLi91dGlsL0Nsb25lT2JqZWN0IjoxMzIsIi4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0Vtb2ppIjoxMDQsIi4vR3VpbGRNZW1iZXIiOjEwOSwiLi9QcmVzZW5jZSI6MTIwLCIuL1JvbGUiOjEyMywiLi9Vc2VyIjoxMjV9XSwxMDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENoYW5uZWw9cmVxdWlyZSgiLi9DaGFubmVsIik7Y29uc3QgUm9sZT1yZXF1aXJlKCIuL1JvbGUiKTtjb25zdCBQZXJtaXNzaW9uT3ZlcndyaXRlcz1yZXF1aXJlKCIuL1Blcm1pc3Npb25PdmVyd3JpdGVzIik7Y29uc3QgRXZhbHVhdGVkUGVybWlzc2lvbnM9cmVxdWlyZSgiLi9FdmFsdWF0ZWRQZXJtaXNzaW9ucyIpO2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y2xhc3MgR3VpbGRDaGFubmVsIGV4dGVuZHMgQ2hhbm5lbHtjb25zdHJ1Y3RvcihndWlsZCxkYXRhKXtzdXBlcihndWlsZC5jbGllbnQsZGF0YSk7dGhpcy5ndWlsZD1ndWlsZH1zZXR1cChkYXRhKXtzdXBlci5zZXR1cChkYXRhKTt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMucG9zaXRpb249ZGF0YS5wb3NpdGlvbjt0aGlzLnBlcm1pc3Npb25PdmVyd3JpdGVzPW5ldyBDb2xsZWN0aW9uO2lmKGRhdGEucGVybWlzc2lvbl9vdmVyd3JpdGVzKXtmb3IoY29uc3Qgb3ZlcndyaXRlIG9mIGRhdGEucGVybWlzc2lvbl9vdmVyd3JpdGVzKXt0aGlzLnBlcm1pc3Npb25PdmVyd3JpdGVzLnNldChvdmVyd3JpdGUuaWQsbmV3IFBlcm1pc3Npb25PdmVyd3JpdGVzKHRoaXMsb3ZlcndyaXRlKSl9fX1wZXJtaXNzaW9uc0ZvcihtZW1iZXIpe21lbWJlcj10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlR3VpbGRNZW1iZXIodGhpcy5ndWlsZCxtZW1iZXIpO2lmKCFtZW1iZXIpcmV0dXJuIG51bGw7aWYobWVtYmVyLmlkPT09dGhpcy5ndWlsZC5vd25lcklEKXJldHVybiBuZXcgRXZhbHVhdGVkUGVybWlzc2lvbnMobWVtYmVyLENvbnN0YW50cy5BTExfUEVSTUlTU0lPTlMpO2xldCBwZXJtaXNzaW9ucz0wO2NvbnN0IHJvbGVzPW1lbWJlci5yb2xlcztmb3IoY29uc3Qgcm9sZSBvZiByb2xlcy52YWx1ZXMoKSlwZXJtaXNzaW9uc3w9cm9sZS5wZXJtaXNzaW9ucztjb25zdCBvdmVyd3JpdGVzPXRoaXMub3ZlcndyaXRlc0ZvcihtZW1iZXIsdHJ1ZSxyb2xlcyk7Zm9yKGNvbnN0IG92ZXJ3cml0ZSBvZiBvdmVyd3JpdGVzLnJvbGUuY29uY2F0KG92ZXJ3cml0ZXMubWVtYmVyKSl7cGVybWlzc2lvbnMmPX5vdmVyd3JpdGUuZGVueTtwZXJtaXNzaW9uc3w9b3ZlcndyaXRlLmFsbG93fWNvbnN0IGFkbWluPUJvb2xlYW4ocGVybWlzc2lvbnMmQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFncy5BRE1JTklTVFJBVE9SKTtpZihhZG1pbilwZXJtaXNzaW9ucz1Db25zdGFudHMuQUxMX1BFUk1JU1NJT05TO3JldHVybiBuZXcgRXZhbHVhdGVkUGVybWlzc2lvbnMobWVtYmVyLHBlcm1pc3Npb25zKX1vdmVyd3JpdGVzRm9yKG1lbWJlcix2ZXJpZmllZD1mYWxzZSxyb2xlcz1udWxsKXtpZighdmVyaWZpZWQpbWVtYmVyPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVHdWlsZE1lbWJlcih0aGlzLmd1aWxkLG1lbWJlcik7aWYoIW1lbWJlcilyZXR1cm5bXTtyb2xlcz1yb2xlc3x8bWVtYmVyLnJvbGVzO2NvbnN0IHJvbGVPdmVyd3JpdGVzPVtdO2NvbnN0IG1lbWJlck92ZXJ3cml0ZXM9W107Zm9yKGNvbnN0IG92ZXJ3cml0ZSBvZiB0aGlzLnBlcm1pc3Npb25PdmVyd3JpdGVzLnZhbHVlcygpKXtpZihvdmVyd3JpdGUuaWQ9PT1tZW1iZXIuaWQpe21lbWJlck92ZXJ3cml0ZXMucHVzaChvdmVyd3JpdGUpfWVsc2UgaWYocm9sZXMuaGFzKG92ZXJ3cml0ZS5pZCkpe3JvbGVPdmVyd3JpdGVzLnB1c2gob3ZlcndyaXRlKX19cmV0dXJue3JvbGU6cm9sZU92ZXJ3cml0ZXMsbWVtYmVyOm1lbWJlck92ZXJ3cml0ZXN9fW92ZXJ3cml0ZVBlcm1pc3Npb25zKHVzZXJPclJvbGUsb3B0aW9ucyl7Y29uc3QgcGF5bG9hZD17YWxsb3c6MCxkZW55OjB9O2lmKHVzZXJPclJvbGUgaW5zdGFuY2VvZiBSb2xlKXtwYXlsb2FkLnR5cGU9InJvbGUifWVsc2UgaWYodGhpcy5ndWlsZC5yb2xlcy5oYXModXNlck9yUm9sZSkpe3VzZXJPclJvbGU9dGhpcy5ndWlsZC5yb2xlcy5nZXQodXNlck9yUm9sZSk7cGF5bG9hZC50eXBlPSJyb2xlIn1lbHNle3VzZXJPclJvbGU9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVVzZXIodXNlck9yUm9sZSk7cGF5bG9hZC50eXBlPSJtZW1iZXIiO2lmKCF1c2VyT3JSb2xlKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCJTdXBwbGllZCBwYXJhbWV0ZXIgd2FzIG5laXRoZXIgYSBVc2VyIG5vciBhIFJvbGUuIikpfXBheWxvYWQuaWQ9dXNlck9yUm9sZS5pZDtjb25zdCBwcmV2T3ZlcndyaXRlPXRoaXMucGVybWlzc2lvbk92ZXJ3cml0ZXMuZ2V0KHVzZXJPclJvbGUuaWQpO2lmKHByZXZPdmVyd3JpdGUpe3BheWxvYWQuYWxsb3c9cHJldk92ZXJ3cml0ZS5hbGxvdztwYXlsb2FkLmRlbnk9cHJldk92ZXJ3cml0ZS5kZW55fWZvcihjb25zdCBwZXJtIGluIG9wdGlvbnMpe2lmKG9wdGlvbnNbcGVybV09PT10cnVlKXtwYXlsb2FkLmFsbG93fD1Db25zdGFudHMuUGVybWlzc2lvbkZsYWdzW3Blcm1dfHwwO3BheWxvYWQuZGVueSY9fihDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzW3Blcm1dfHwwKX1lbHNlIGlmKG9wdGlvbnNbcGVybV09PT1mYWxzZSl7cGF5bG9hZC5hbGxvdyY9fihDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzW3Blcm1dfHwwKTtwYXlsb2FkLmRlbnl8PUNvbnN0YW50cy5QZXJtaXNzaW9uRmxhZ3NbcGVybV18fDB9ZWxzZSBpZihvcHRpb25zW3Blcm1dPT09bnVsbCl7cGF5bG9hZC5hbGxvdyY9fihDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzW3Blcm1dfHwwKTtwYXlsb2FkLmRlbnkmPX4oQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFnc1twZXJtXXx8MCl9fXJldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuc2V0Q2hhbm5lbE92ZXJ3cml0ZSh0aGlzLHBheWxvYWQpfWVkaXQoZGF0YSl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy51cGRhdGVDaGFubmVsKHRoaXMsZGF0YSl9c2V0TmFtZShuYW1lKXtyZXR1cm4gdGhpcy5lZGl0KHtuYW1lOm5hbWV9KX1zZXRQb3NpdGlvbihwb3NpdGlvbil7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy51cGRhdGVDaGFubmVsKHRoaXMse3Bvc2l0aW9uOnBvc2l0aW9ufSl9c2V0VG9waWModG9waWMpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlQ2hhbm5lbCh0aGlzLHt0b3BpYzp0b3BpY30pfWNyZWF0ZUludml0ZShvcHRpb25zPXt9KXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmNyZWF0ZUNoYW5uZWxJbnZpdGUodGhpcyxvcHRpb25zKX1jbG9uZShuYW1lPXRoaXMubmFtZSx3aXRoUGVybWlzc2lvbnM9dHJ1ZSl7cmV0dXJuIHRoaXMuZ3VpbGQuY3JlYXRlQ2hhbm5lbChuYW1lLHRoaXMudHlwZSx3aXRoUGVybWlzc2lvbnM/dGhpcy5wZXJtaXNzaW9uT3ZlcndyaXRlczpbXSl9ZXF1YWxzKGNoYW5uZWwpe2xldCBlcXVhbD1jaGFubmVsJiZ0aGlzLmlkPT09Y2hhbm5lbC5pZCYmdGhpcy50eXBlPT09Y2hhbm5lbC50eXBlJiZ0aGlzLnRvcGljPT09Y2hhbm5lbC50b3BpYyYmdGhpcy5wb3NpdGlvbj09PWNoYW5uZWwucG9zaXRpb24mJnRoaXMubmFtZT09PWNoYW5uZWwubmFtZTtpZihlcXVhbCl7aWYodGhpcy5wZXJtaXNzaW9uT3ZlcndyaXRlcyYmY2hhbm5lbC5wZXJtaXNzaW9uT3ZlcndyaXRlcyl7ZXF1YWw9dGhpcy5wZXJtaXNzaW9uT3ZlcndyaXRlcy5lcXVhbHMoY2hhbm5lbC5wZXJtaXNzaW9uT3ZlcndyaXRlcyl9ZWxzZXtlcXVhbD0hdGhpcy5wZXJtaXNzaW9uT3ZlcndyaXRlcyYmIWNoYW5uZWwucGVybWlzc2lvbk92ZXJ3cml0ZXN9fXJldHVybiBlcXVhbH10b1N0cmluZygpe3JldHVybmA8IyR7dGhpcy5pZH0+YH19bW9kdWxlLmV4cG9ydHM9R3VpbGRDaGFubmVsfSx7Ii4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuL0NoYW5uZWwiOjEwMCwiLi9FdmFsdWF0ZWRQZXJtaXNzaW9ucyI6MTA1LCIuL1Blcm1pc3Npb25PdmVyd3JpdGVzIjoxMTksIi4vUm9sZSI6MTIzfV0sMTA5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBUZXh0QmFzZWRDaGFubmVsPXJlcXVpcmUoIi4vaW50ZXJmYWNlL1RleHRCYXNlZENoYW5uZWwiKTtjb25zdCBSb2xlPXJlcXVpcmUoIi4vUm9sZSIpO2NvbnN0IEV2YWx1YXRlZFBlcm1pc3Npb25zPXJlcXVpcmUoIi4vRXZhbHVhdGVkUGVybWlzc2lvbnMiKTtjb25zdCBDb25zdGFudHM9cmVxdWlyZSgiLi4vdXRpbC9Db25zdGFudHMiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NvbnN0IFByZXNlbmNlPXJlcXVpcmUoIi4vUHJlc2VuY2UiKS5QcmVzZW5jZTtjbGFzcyBHdWlsZE1lbWJlcntjb25zdHJ1Y3RvcihndWlsZCxkYXRhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6Z3VpbGQuY2xpZW50fSk7dGhpcy5ndWlsZD1ndWlsZDt0aGlzLnVzZXI9e307dGhpcy5fcm9sZXM9W107aWYoZGF0YSl0aGlzLnNldHVwKGRhdGEpO3RoaXMubGFzdE1lc3NhZ2VJRD1udWxsfXNldHVwKGRhdGEpe3RoaXMuc2VydmVyRGVhZj1kYXRhLmRlYWY7dGhpcy5zZXJ2ZXJNdXRlPWRhdGEubXV0ZTt0aGlzLnNlbGZNdXRlPWRhdGEuc2VsZl9tdXRlO3RoaXMuc2VsZkRlYWY9ZGF0YS5zZWxmX2RlYWY7dGhpcy52b2ljZVNlc3Npb25JRD1kYXRhLnNlc3Npb25faWQ7dGhpcy52b2ljZUNoYW5uZWxJRD1kYXRhLmNoYW5uZWxfaWQ7dGhpcy5zcGVha2luZz1mYWxzZTt0aGlzLm5pY2tuYW1lPWRhdGEubmlja3x8bnVsbDt0aGlzLmpvaW5lZFRpbWVzdGFtcD1uZXcgRGF0ZShkYXRhLmpvaW5lZF9hdCkuZ2V0VGltZSgpO3RoaXMudXNlcj1kYXRhLnVzZXI7dGhpcy5fcm9sZXM9ZGF0YS5yb2xlc31nZXQgam9pbmVkQXQoKXtyZXR1cm4gbmV3IERhdGUodGhpcy5qb2luZWRUaW1lc3RhbXApfWdldCBwcmVzZW5jZSgpe3JldHVybiB0aGlzLmZyb3plblByZXNlbmNlfHx0aGlzLmd1aWxkLnByZXNlbmNlcy5nZXQodGhpcy5pZCl8fG5ldyBQcmVzZW5jZX1nZXQgcm9sZXMoKXtjb25zdCBsaXN0PW5ldyBDb2xsZWN0aW9uO2NvbnN0IGV2ZXJ5b25lUm9sZT10aGlzLmd1aWxkLnJvbGVzLmdldCh0aGlzLmd1aWxkLmlkKTtpZihldmVyeW9uZVJvbGUpbGlzdC5zZXQoZXZlcnlvbmVSb2xlLmlkLGV2ZXJ5b25lUm9sZSk7Zm9yKGNvbnN0IHJvbGVJRCBvZiB0aGlzLl9yb2xlcyl7Y29uc3Qgcm9sZT10aGlzLmd1aWxkLnJvbGVzLmdldChyb2xlSUQpO2lmKHJvbGUpbGlzdC5zZXQocm9sZS5pZCxyb2xlKX1yZXR1cm4gbGlzdH1nZXQgaGlnaGVzdFJvbGUoKXtyZXR1cm4gdGhpcy5yb2xlcy5yZWR1Y2UoKHByZXYscm9sZSk9PiFwcmV2fHxyb2xlLmNvbXBhcmVQb3NpdGlvblRvKHByZXYpPjA/cm9sZTpwcmV2KX1nZXQgbXV0ZSgpe3JldHVybiB0aGlzLnNlbGZNdXRlfHx0aGlzLnNlcnZlck11dGV9Z2V0IGRlYWYoKXtyZXR1cm4gdGhpcy5zZWxmRGVhZnx8dGhpcy5zZXJ2ZXJEZWFmfWdldCB2b2ljZUNoYW5uZWwoKXtyZXR1cm4gdGhpcy5ndWlsZC5jaGFubmVscy5nZXQodGhpcy52b2ljZUNoYW5uZWxJRCl9Z2V0IGlkKCl7cmV0dXJuIHRoaXMudXNlci5pZH1nZXQgZGlzcGxheU5hbWUoKXtyZXR1cm4gdGhpcy5uaWNrbmFtZXx8dGhpcy51c2VyLnVzZXJuYW1lfWdldCBwZXJtaXNzaW9ucygpe2lmKHRoaXMudXNlci5pZD09PXRoaXMuZ3VpbGQub3duZXJJRClyZXR1cm4gbmV3IEV2YWx1YXRlZFBlcm1pc3Npb25zKHRoaXMsQ29uc3RhbnRzLkFMTF9QRVJNSVNTSU9OUyk7bGV0IHBlcm1pc3Npb25zPTA7Y29uc3Qgcm9sZXM9dGhpcy5yb2xlcztmb3IoY29uc3Qgcm9sZSBvZiByb2xlcy52YWx1ZXMoKSlwZXJtaXNzaW9uc3w9cm9sZS5wZXJtaXNzaW9ucztjb25zdCBhZG1pbj1Cb29sZWFuKHBlcm1pc3Npb25zJkNvbnN0YW50cy5QZXJtaXNzaW9uRmxhZ3MuQURNSU5JU1RSQVRPUik7aWYoYWRtaW4pcGVybWlzc2lvbnM9Q29uc3RhbnRzLkFMTF9QRVJNSVNTSU9OUztyZXR1cm4gbmV3IEV2YWx1YXRlZFBlcm1pc3Npb25zKHRoaXMscGVybWlzc2lvbnMpfWdldCBraWNrYWJsZSgpe2lmKHRoaXMudXNlci5pZD09PXRoaXMuZ3VpbGQub3duZXJJRClyZXR1cm4gZmFsc2U7aWYodGhpcy51c2VyLmlkPT09dGhpcy5jbGllbnQudXNlci5pZClyZXR1cm4gZmFsc2U7Y29uc3QgY2xpZW50TWVtYmVyPXRoaXMuZ3VpbGQubWVtYmVyKHRoaXMuY2xpZW50LnVzZXIpO2lmKCFjbGllbnRNZW1iZXIuaGFzUGVybWlzc2lvbihDb25zdGFudHMuUGVybWlzc2lvbkZsYWdzLktJQ0tfTUVNQkVSUykpcmV0dXJuIGZhbHNlO3JldHVybiBjbGllbnRNZW1iZXIuaGlnaGVzdFJvbGUuY29tcGFyZVBvc2l0aW9uVG8odGhpcy5oaWdoZXN0Um9sZSk+MH1nZXQgYmFubmFibGUoKXtpZih0aGlzLnVzZXIuaWQ9PT10aGlzLmd1aWxkLm93bmVySUQpcmV0dXJuIGZhbHNlO2lmKHRoaXMudXNlci5pZD09PXRoaXMuY2xpZW50LnVzZXIuaWQpcmV0dXJuIGZhbHNlO2NvbnN0IGNsaWVudE1lbWJlcj10aGlzLmd1aWxkLm1lbWJlcih0aGlzLmNsaWVudC51c2VyKTtpZighY2xpZW50TWVtYmVyLmhhc1Blcm1pc3Npb24oQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFncy5CQU5fTUVNQkVSUykpcmV0dXJuIGZhbHNlO3JldHVybiBjbGllbnRNZW1iZXIuaGlnaGVzdFJvbGUuY29tcGFyZVBvc2l0aW9uVG8odGhpcy5oaWdoZXN0Um9sZSk+MH1wZXJtaXNzaW9uc0luKGNoYW5uZWwpe2NoYW5uZWw9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUNoYW5uZWwoY2hhbm5lbCk7aWYoIWNoYW5uZWx8fCFjaGFubmVsLmd1aWxkKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IHJlc29sdmUgY2hhbm5lbCB0byBhIGd1aWxkIGNoYW5uZWwuIik7cmV0dXJuIGNoYW5uZWwucGVybWlzc2lvbnNGb3IodGhpcyl9aGFzUGVybWlzc2lvbihwZXJtaXNzaW9uLGV4cGxpY2l0PWZhbHNlKXtpZighZXhwbGljaXQmJnRoaXMudXNlci5pZD09PXRoaXMuZ3VpbGQub3duZXJJRClyZXR1cm4gdHJ1ZTtyZXR1cm4gdGhpcy5yb2xlcy5zb21lKHI9PnIuaGFzUGVybWlzc2lvbihwZXJtaXNzaW9uLGV4cGxpY2l0KSl9aGFzUGVybWlzc2lvbnMocGVybWlzc2lvbnMsZXhwbGljaXQ9ZmFsc2Upe2lmKCFleHBsaWNpdCYmdGhpcy51c2VyLmlkPT09dGhpcy5ndWlsZC5vd25lcklEKXJldHVybiB0cnVlO3JldHVybiBwZXJtaXNzaW9ucy5ldmVyeShwPT50aGlzLmhhc1Blcm1pc3Npb24ocCxleHBsaWNpdCkpfW1pc3NpbmdQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucyxleHBsaWNpdD1mYWxzZSl7cmV0dXJuIHBlcm1pc3Npb25zLmZpbHRlcihwPT4hdGhpcy5oYXNQZXJtaXNzaW9uKHAsZXhwbGljaXQpKX1lZGl0KGRhdGEpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlR3VpbGRNZW1iZXIodGhpcyxkYXRhKX1zZXRNdXRlKG11dGUpe3JldHVybiB0aGlzLmVkaXQoe211dGU6bXV0ZX0pfXNldERlYWYoZGVhZil7cmV0dXJuIHRoaXMuZWRpdCh7ZGVhZjpkZWFmfSl9c2V0Vm9pY2VDaGFubmVsKGNoYW5uZWwpe3JldHVybiB0aGlzLmVkaXQoe2NoYW5uZWw6Y2hhbm5lbH0pfXNldFJvbGVzKHJvbGVzKXtyZXR1cm4gdGhpcy5lZGl0KHtyb2xlczpyb2xlc30pfWFkZFJvbGUocm9sZSl7aWYoIShyb2xlIGluc3RhbmNlb2YgUm9sZSkpcm9sZT10aGlzLmd1aWxkLnJvbGVzLmdldChyb2xlKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmFkZE1lbWJlclJvbGUodGhpcyxyb2xlKX1hZGRSb2xlcyhyb2xlcyl7bGV0IGFsbFJvbGVzO2lmKHJvbGVzIGluc3RhbmNlb2YgQ29sbGVjdGlvbil7YWxsUm9sZXM9dGhpcy5fcm9sZXMuc2xpY2UoKTtmb3IoY29uc3Qgcm9sZSBvZiByb2xlcy52YWx1ZXMoKSlhbGxSb2xlcy5wdXNoKHJvbGUuaWQpfWVsc2V7YWxsUm9sZXM9dGhpcy5fcm9sZXMuY29uY2F0KHJvbGVzKX1yZXR1cm4gdGhpcy5lZGl0KHtyb2xlczphbGxSb2xlc30pfXJlbW92ZVJvbGUocm9sZSl7aWYoIShyb2xlIGluc3RhbmNlb2YgUm9sZSkpcm9sZT10aGlzLmd1aWxkLnJvbGVzLmdldChyb2xlKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnJlbW92ZU1lbWJlclJvbGUodGhpcyxyb2xlKX1yZW1vdmVSb2xlcyhyb2xlcyl7Y29uc3QgYWxsUm9sZXM9dGhpcy5fcm9sZXMuc2xpY2UoKTtpZihyb2xlcyBpbnN0YW5jZW9mIENvbGxlY3Rpb24pe2Zvcihjb25zdCByb2xlIG9mIHJvbGVzLnZhbHVlcygpKXtjb25zdCBpbmRleD1hbGxSb2xlcy5pbmRleE9mKHJvbGUuaWQpO2lmKGluZGV4Pj0wKWFsbFJvbGVzLnNwbGljZShpbmRleCwxKX19ZWxzZXtmb3IoY29uc3Qgcm9sZSBvZiByb2xlcyl7Y29uc3QgaW5kZXg9YWxsUm9sZXMuaW5kZXhPZihyb2xlIGluc3RhbmNlb2YgUm9sZT9yb2xlLmlkOnJvbGUpO2lmKGluZGV4Pj0wKWFsbFJvbGVzLnNwbGljZShpbmRleCwxKX19cmV0dXJuIHRoaXMuZWRpdCh7cm9sZXM6YWxsUm9sZXN9KX1zZXROaWNrbmFtZShuaWNrKXtyZXR1cm4gdGhpcy5lZGl0KHtuaWNrOm5pY2t9KX1kZWxldGVETSgpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZGVsZXRlQ2hhbm5lbCh0aGlzKX1raWNrKCl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5raWNrR3VpbGRNZW1iZXIodGhpcy5ndWlsZCx0aGlzKX1iYW4oZGVsZXRlRGF5cz0wKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmJhbkd1aWxkTWVtYmVyKHRoaXMuZ3VpbGQsdGhpcyxkZWxldGVEYXlzKX10b1N0cmluZygpe3JldHVybmA8QCR7dGhpcy5uaWNrbmFtZT8iISI6IiJ9JHt0aGlzLnVzZXIuaWR9PmB9c2VuZCgpe3JldHVybn1zZW5kTWVzc2FnZSgpe3JldHVybn1zZW5kRW1iZWQoKXtyZXR1cm59c2VuZEZpbGUoKXtyZXR1cm59c2VuZENvZGUoKXtyZXR1cm59fVRleHRCYXNlZENoYW5uZWwuYXBwbHlUb0NsYXNzKEd1aWxkTWVtYmVyKTttb2R1bGUuZXhwb3J0cz1HdWlsZE1lbWJlcn0seyIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi4vdXRpbC9Db25zdGFudHMiOjEzNCwiLi9FdmFsdWF0ZWRQZXJtaXNzaW9ucyI6MTA1LCIuL1ByZXNlbmNlIjoxMjAsIi4vUm9sZSI6MTIzLCIuL2ludGVyZmFjZS9UZXh0QmFzZWRDaGFubmVsIjoxMzB9XSwxMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IFBhcnRpYWxHdWlsZD1yZXF1aXJlKCIuL1BhcnRpYWxHdWlsZCIpO2NvbnN0IFBhcnRpYWxHdWlsZENoYW5uZWw9cmVxdWlyZSgiLi9QYXJ0aWFsR3VpbGRDaGFubmVsIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y2xhc3MgSW52aXRle2NvbnN0cnVjdG9yKGNsaWVudCxkYXRhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6Y2xpZW50fSk7dGhpcy5zZXR1cChkYXRhKX1zZXR1cChkYXRhKXt0aGlzLmd1aWxkPXRoaXMuY2xpZW50Lmd1aWxkcy5nZXQoZGF0YS5ndWlsZC5pZCl8fG5ldyBQYXJ0aWFsR3VpbGQodGhpcy5jbGllbnQsZGF0YS5ndWlsZCk7dGhpcy5jb2RlPWRhdGEuY29kZTt0aGlzLnRlbXBvcmFyeT1kYXRhLnRlbXBvcmFyeTt0aGlzLm1heEFnZT1kYXRhLm1heF9hZ2U7dGhpcy51c2VzPWRhdGEudXNlczt0aGlzLm1heFVzZXM9ZGF0YS5tYXhfdXNlcztpZihkYXRhLmludml0ZXIpe3RoaXMuaW52aXRlcj10aGlzLmNsaWVudC5kYXRhTWFuYWdlci5uZXdVc2VyKGRhdGEuaW52aXRlcil9dGhpcy5jaGFubmVsPXRoaXMuY2xpZW50LmNoYW5uZWxzLmdldChkYXRhLmNoYW5uZWwuaWQpfHxuZXcgUGFydGlhbEd1aWxkQ2hhbm5lbCh0aGlzLmNsaWVudCxkYXRhLmNoYW5uZWwpO3RoaXMuY3JlYXRlZFRpbWVzdGFtcD1uZXcgRGF0ZShkYXRhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKX1nZXQgY3JlYXRlZEF0KCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuY3JlYXRlZFRpbWVzdGFtcCl9Z2V0IGV4cGlyZXNUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5jcmVhdGVkVGltZXN0YW1wK3RoaXMubWF4QWdlKjFlM31nZXQgZXhwaXJlc0F0KCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuZXhwaXJlc1RpbWVzdGFtcCl9Z2V0IHVybCgpe3JldHVybiBDb25zdGFudHMuRW5kcG9pbnRzLmludml0ZUxpbmsodGhpcy5jb2RlKX1kZWxldGUoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmRlbGV0ZUludml0ZSh0aGlzKX10b1N0cmluZygpe3JldHVybiB0aGlzLnVybH19bW9kdWxlLmV4cG9ydHM9SW52aXRlfSx7Ii4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vUGFydGlhbEd1aWxkIjoxMTcsIi4vUGFydGlhbEd1aWxkQ2hhbm5lbCI6MTE4fV0sMTExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBBdHRhY2htZW50PXJlcXVpcmUoIi4vTWVzc2FnZUF0dGFjaG1lbnQiKTtjb25zdCBFbWJlZD1yZXF1aXJlKCIuL01lc3NhZ2VFbWJlZCIpO2NvbnN0IE1lc3NhZ2VSZWFjdGlvbj1yZXF1aXJlKCIuL01lc3NhZ2VSZWFjdGlvbiIpO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgZXNjYXBlTWFya2Rvd249cmVxdWlyZSgiLi4vdXRpbC9Fc2NhcGVNYXJrZG93biIpO2NvbnN0IERpc2NvcmQ9cmVxdWlyZSgiLi4iKTtjbGFzcyBNZXNzYWdle2NvbnN0cnVjdG9yKGNoYW5uZWwsZGF0YSxjbGllbnQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjbGllbnQiLHt2YWx1ZTpjbGllbnR9KTt0aGlzLmNoYW5uZWw9Y2hhbm5lbDtpZihkYXRhKXRoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy5pZD1kYXRhLmlkO3RoaXMudHlwZT1Db25zdGFudHMuTWVzc2FnZVR5cGVzW2RhdGEudHlwZV07dGhpcy5jb250ZW50PWRhdGEuY29udGVudDt0aGlzLmF1dGhvcj10aGlzLmNsaWVudC5kYXRhTWFuYWdlci5uZXdVc2VyKGRhdGEuYXV0aG9yKTt0aGlzLm1lbWJlcj10aGlzLmd1aWxkP3RoaXMuZ3VpbGQubWVtYmVyKHRoaXMuYXV0aG9yKXx8bnVsbDpudWxsO3RoaXMucGlubmVkPWRhdGEucGlubmVkO3RoaXMudHRzPWRhdGEudHRzO3RoaXMubm9uY2U9ZGF0YS5ub25jZTt0aGlzLnN5c3RlbT1kYXRhLnR5cGU9PT02O3RoaXMuZW1iZWRzPWRhdGEuZW1iZWRzLm1hcChlPT5uZXcgRW1iZWQodGhpcyxlKSk7dGhpcy5hdHRhY2htZW50cz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgYXR0YWNobWVudCBvZiBkYXRhLmF0dGFjaG1lbnRzKXRoaXMuYXR0YWNobWVudHMuc2V0KGF0dGFjaG1lbnQuaWQsbmV3IEF0dGFjaG1lbnQodGhpcyxhdHRhY2htZW50KSk7dGhpcy5jcmVhdGVkVGltZXN0YW1wPW5ldyBEYXRlKGRhdGEudGltZXN0YW1wKS5nZXRUaW1lKCk7dGhpcy5lZGl0ZWRUaW1lc3RhbXA9ZGF0YS5lZGl0ZWRfdGltZXN0YW1wP25ldyBEYXRlKGRhdGEuZWRpdGVkX3RpbWVzdGFtcCkuZ2V0VGltZSgpOm51bGw7dGhpcy5tZW50aW9ucz17dXNlcnM6bmV3IENvbGxlY3Rpb24scm9sZXM6bmV3IENvbGxlY3Rpb24sY2hhbm5lbHM6bmV3IENvbGxlY3Rpb24sZXZlcnlvbmU6ZGF0YS5tZW50aW9uX2V2ZXJ5b25lfTtmb3IoY29uc3QgbWVudGlvbiBvZiBkYXRhLm1lbnRpb25zKXtsZXQgdXNlcj10aGlzLmNsaWVudC51c2Vycy5nZXQobWVudGlvbi5pZCk7aWYodXNlcil7dGhpcy5tZW50aW9ucy51c2Vycy5zZXQodXNlci5pZCx1c2VyKX1lbHNle3VzZXI9dGhpcy5jbGllbnQuZGF0YU1hbmFnZXIubmV3VXNlcihtZW50aW9uKTt0aGlzLm1lbnRpb25zLnVzZXJzLnNldCh1c2VyLmlkLHVzZXIpfX1pZihkYXRhLm1lbnRpb25fcm9sZXMpe2Zvcihjb25zdCBtZW50aW9uIG9mIGRhdGEubWVudGlvbl9yb2xlcyl7Y29uc3Qgcm9sZT10aGlzLmNoYW5uZWwuZ3VpbGQucm9sZXMuZ2V0KG1lbnRpb24pO2lmKHJvbGUpdGhpcy5tZW50aW9ucy5yb2xlcy5zZXQocm9sZS5pZCxyb2xlKX19aWYodGhpcy5jaGFubmVsLmd1aWxkKXtjb25zdCBjaGFubk1lbnRpb25zUmF3PWRhdGEuY29udGVudC5tYXRjaCgvPCMoWzAtOV17MTQsMjB9KT4vZyl8fFtdO2Zvcihjb25zdCByYXcgb2YgY2hhbm5NZW50aW9uc1Jhdyl7Y29uc3QgY2hhbj10aGlzLmNoYW5uZWwuZ3VpbGQuY2hhbm5lbHMuZ2V0KHJhdy5tYXRjaCgvKFswLTldezE0LDIwfSkvZylbMF0pO2lmKGNoYW4pdGhpcy5tZW50aW9ucy5jaGFubmVscy5zZXQoY2hhbi5pZCxjaGFuKX19dGhpcy5fZWRpdHM9W107dGhpcy5yZWFjdGlvbnM9bmV3IENvbGxlY3Rpb247aWYoZGF0YS5yZWFjdGlvbnMmJmRhdGEucmVhY3Rpb25zLmxlbmd0aD4wKXtmb3IoY29uc3QgcmVhY3Rpb24gb2YgZGF0YS5yZWFjdGlvbnMpe2NvbnN0IGlkPXJlYWN0aW9uLmVtb2ppLmlkP2Ake3JlYWN0aW9uLmVtb2ppLm5hbWV9OiR7cmVhY3Rpb24uZW1vamkuaWR9YDpyZWFjdGlvbi5lbW9qaS5uYW1lO3RoaXMucmVhY3Rpb25zLnNldChpZCxuZXcgTWVzc2FnZVJlYWN0aW9uKHRoaXMscmVhY3Rpb24uZW1vamkscmVhY3Rpb24uY291bnQscmVhY3Rpb24ubWUpKX19dGhpcy53ZWJob29rSUQ9ZGF0YS53ZWJob29rX2lkfHxudWxsfXBhdGNoKGRhdGEpe2lmKGRhdGEuYXV0aG9yKXt0aGlzLmF1dGhvcj10aGlzLmNsaWVudC51c2Vycy5nZXQoZGF0YS5hdXRob3IuaWQpO2lmKHRoaXMuZ3VpbGQpdGhpcy5tZW1iZXI9dGhpcy5ndWlsZC5tZW1iZXIodGhpcy5hdXRob3IpfWlmKGRhdGEuY29udGVudCl0aGlzLmNvbnRlbnQ9ZGF0YS5jb250ZW50O2lmKGRhdGEudGltZXN0YW1wKXRoaXMuY3JlYXRlZFRpbWVzdGFtcD1uZXcgRGF0ZShkYXRhLnRpbWVzdGFtcCkuZ2V0VGltZSgpO2lmKGRhdGEuZWRpdGVkX3RpbWVzdGFtcCl7dGhpcy5lZGl0ZWRUaW1lc3RhbXA9ZGF0YS5lZGl0ZWRfdGltZXN0YW1wP25ldyBEYXRlKGRhdGEuZWRpdGVkX3RpbWVzdGFtcCkuZ2V0VGltZSgpOm51bGx9aWYoInR0cyJpbiBkYXRhKXRoaXMudHRzPWRhdGEudHRzO2lmKCJtZW50aW9uX2V2ZXJ5b25lImluIGRhdGEpdGhpcy5tZW50aW9ucy5ldmVyeW9uZT1kYXRhLm1lbnRpb25fZXZlcnlvbmU7aWYoZGF0YS5ub25jZSl0aGlzLm5vbmNlPWRhdGEubm9uY2U7aWYoZGF0YS5lbWJlZHMpdGhpcy5lbWJlZHM9ZGF0YS5lbWJlZHMubWFwKGU9Pm5ldyBFbWJlZCh0aGlzLGUpKTtpZihkYXRhLnR5cGU+LTEpe3RoaXMuc3lzdGVtPWZhbHNlO2lmKGRhdGEudHlwZT09PTYpdGhpcy5zeXN0ZW09dHJ1ZX1pZihkYXRhLmF0dGFjaG1lbnRzKXt0aGlzLmF0dGFjaG1lbnRzPW5ldyBDb2xsZWN0aW9uO2Zvcihjb25zdCBhdHRhY2htZW50IG9mIGRhdGEuYXR0YWNobWVudHMpe3RoaXMuYXR0YWNobWVudHMuc2V0KGF0dGFjaG1lbnQuaWQsbmV3IEF0dGFjaG1lbnQodGhpcyxhdHRhY2htZW50KSl9fWlmKGRhdGEubWVudGlvbnMpe2Zvcihjb25zdCBtZW50aW9uIG9mIGRhdGEubWVudGlvbnMpe2xldCB1c2VyPXRoaXMuY2xpZW50LnVzZXJzLmdldChtZW50aW9uLmlkKTtpZih1c2VyKXt0aGlzLm1lbnRpb25zLnVzZXJzLnNldCh1c2VyLmlkLHVzZXIpfWVsc2V7dXNlcj10aGlzLmNsaWVudC5kYXRhTWFuYWdlci5uZXdVc2VyKG1lbnRpb24pO3RoaXMubWVudGlvbnMudXNlcnMuc2V0KHVzZXIuaWQsdXNlcil9fX1pZihkYXRhLm1lbnRpb25fcm9sZXMpe2Zvcihjb25zdCBtZW50aW9uIG9mIGRhdGEubWVudGlvbl9yb2xlcyl7Y29uc3Qgcm9sZT10aGlzLmNoYW5uZWwuZ3VpbGQucm9sZXMuZ2V0KG1lbnRpb24pO2lmKHJvbGUpdGhpcy5tZW50aW9ucy5yb2xlcy5zZXQocm9sZS5pZCxyb2xlKX19aWYoZGF0YS5pZCl0aGlzLmlkPWRhdGEuaWQ7aWYodGhpcy5jaGFubmVsLmd1aWxkJiZkYXRhLmNvbnRlbnQpe2NvbnN0IGNoYW5uTWVudGlvbnNSYXc9ZGF0YS5jb250ZW50Lm1hdGNoKC88IyhbMC05XXsxNCwyMH0pPi9nKXx8W107Zm9yKGNvbnN0IHJhdyBvZiBjaGFubk1lbnRpb25zUmF3KXtjb25zdCBjaGFuPXRoaXMuY2hhbm5lbC5ndWlsZC5jaGFubmVscy5nZXQocmF3Lm1hdGNoKC8oWzAtOV17MTQsMjB9KS9nKVswXSk7aWYoY2hhbil0aGlzLm1lbnRpb25zLmNoYW5uZWxzLnNldChjaGFuLmlkLGNoYW4pfX1pZihkYXRhLnJlYWN0aW9ucyl7dGhpcy5yZWFjdGlvbnM9bmV3IENvbGxlY3Rpb247aWYoZGF0YS5yZWFjdGlvbnMubGVuZ3RoPjApe2Zvcihjb25zdCByZWFjdGlvbiBvZiBkYXRhLnJlYWN0aW9ucyl7Y29uc3QgaWQ9cmVhY3Rpb24uZW1vamkuaWQ/YCR7cmVhY3Rpb24uZW1vamkubmFtZX06JHtyZWFjdGlvbi5lbW9qaS5pZH1gOnJlYWN0aW9uLmVtb2ppLm5hbWU7dGhpcy5yZWFjdGlvbnMuc2V0KGlkLG5ldyBNZXNzYWdlUmVhY3Rpb24odGhpcyxkYXRhLmVtb2ppLGRhdGEuY291bnQsZGF0YS5tZSkpfX19fWdldCBjcmVhdGVkQXQoKXtyZXR1cm4gbmV3IERhdGUodGhpcy5jcmVhdGVkVGltZXN0YW1wKX1nZXQgZWRpdGVkQXQoKXtyZXR1cm4gdGhpcy5lZGl0ZWRUaW1lc3RhbXA/bmV3IERhdGUodGhpcy5lZGl0ZWRUaW1lc3RhbXApOm51bGx9Z2V0IGd1aWxkKCl7cmV0dXJuIHRoaXMuY2hhbm5lbC5ndWlsZHx8bnVsbH1nZXQgY2xlYW5Db250ZW50KCl7cmV0dXJuIHRoaXMuY29udGVudC5yZXBsYWNlKC9AKGV2ZXJ5b25lfGhlcmUpL2csIkLJDEiKS5yZXBsYWNlKC88QCE/WzAtOV0rPi9nLGlucHV0PT57Y29uc3QgaWQ9aW5wdXQucmVwbGFjZSgvPHwhfD58QC9nLCIiKTtpZih0aGlzLmNoYW5uZWwudHlwZT09PSJkbSJ8fHRoaXMuY2hhbm5lbC50eXBlPT09Imdyb3VwIil7cmV0dXJuIHRoaXMuY2xpZW50LnVzZXJzLmhhcyhpZCk/YEAke3RoaXMuY2xpZW50LnVzZXJzLmdldChpZCkudXNlcm5hbWV9YDppbnB1dH1jb25zdCBtZW1iZXI9dGhpcy5jaGFubmVsLmd1aWxkLm1lbWJlcnMuZ2V0KGlkKTtpZihtZW1iZXIpe2lmKG1lbWJlci5uaWNrbmFtZSlyZXR1cm5gQCR7bWVtYmVyLm5pY2tuYW1lfWA7cmV0dXJuYEAke21lbWJlci51c2VyLnVzZXJuYW1lfWB9ZWxzZXtjb25zdCB1c2VyPXRoaXMuY2xpZW50LnVzZXJzLmdldChpZCk7aWYodXNlcilyZXR1cm5gQCR7dXNlci51c2VybmFtZX1gO3JldHVybiBpbnB1dH19KS5yZXBsYWNlKC88I1swLTldKz4vZyxpbnB1dD0+e2NvbnN0IGNoYW5uZWw9dGhpcy5jbGllbnQuY2hhbm5lbHMuZ2V0KGlucHV0LnJlcGxhY2UoLzx8I3w+L2csIiIpKTtpZihjaGFubmVsKXJldHVybmAjJHtjaGFubmVsLm5hbWV9YDtyZXR1cm4gaW5wdXR9KS5yZXBsYWNlKC88QCZbMC05XSs+L2csaW5wdXQ9PntpZih0aGlzLmNoYW5uZWwudHlwZT09PSJkbSJ8fHRoaXMuY2hhbm5lbC50eXBlPT09Imdyb3VwIilyZXR1cm4gaW5wdXQ7Y29uc3Qgcm9sZT10aGlzLmd1aWxkLnJvbGVzLmdldChpbnB1dC5yZXBsYWNlKC88fEB8PnwmL2csIiIpKTtpZihyb2xlKXJldHVybmBAJHtyb2xlLm5hbWV9YDtyZXR1cm4gaW5wdXR9KX1nZXQgZWRpdHMoKXtjb25zdCBjb3B5PXRoaXMuX2VkaXRzLnNsaWNlKCk7Y29weS51bnNoaWZ0KHRoaXMpO3JldHVybiBjb3B5fWdldCBlZGl0YWJsZSgpe3JldHVybiB0aGlzLmF1dGhvci5pZD09PXRoaXMuY2xpZW50LnVzZXIuaWR9Z2V0IGRlbGV0YWJsZSgpe3JldHVybiB0aGlzLmF1dGhvci5pZD09PXRoaXMuY2xpZW50LnVzZXIuaWR8fHRoaXMuZ3VpbGQmJnRoaXMuY2hhbm5lbC5wZXJtaXNzaW9uc0Zvcih0aGlzLmNsaWVudC51c2VyKS5oYXNQZXJtaXNzaW9uKENvbnN0YW50cy5QZXJtaXNzaW9uRmxhZ3MuTUFOQUdFX01FU1NBR0VTKX1nZXQgcGlubmFibGUoKXtyZXR1cm4hdGhpcy5ndWlsZHx8dGhpcy5jaGFubmVsLnBlcm1pc3Npb25zRm9yKHRoaXMuY2xpZW50LnVzZXIpLmhhc1Blcm1pc3Npb24oQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFncy5NQU5BR0VfTUVTU0FHRVMpfWlzTWVudGlvbmVkKGRhdGEpe2RhdGE9ZGF0YSYmZGF0YS5pZD9kYXRhLmlkOmRhdGE7cmV0dXJuIHRoaXMubWVudGlvbnMudXNlcnMuaGFzKGRhdGEpfHx0aGlzLm1lbnRpb25zLmNoYW5uZWxzLmhhcyhkYXRhKXx8dGhpcy5tZW50aW9ucy5yb2xlcy5oYXMoZGF0YSl9aXNNZW1iZXJNZW50aW9uZWQobWVtYmVyKXtpZih0aGlzLm1lbnRpb25zLmV2ZXJ5b25lKXJldHVybiB0cnVlO2lmKHRoaXMubWVudGlvbnMudXNlcnMuaGFzKG1lbWJlci5pZCkpcmV0dXJuIHRydWU7aWYobWVtYmVyIGluc3RhbmNlb2YgRGlzY29yZC5HdWlsZE1lbWJlciYmbWVtYmVyLnJvbGVzLnNvbWUocj0+dGhpcy5tZW50aW9ucy5yb2xlcy5oYXMoci5pZCkpKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX1lZGl0KGNvbnRlbnQsb3B0aW9ucyl7aWYoIW9wdGlvbnMmJnR5cGVvZiBjb250ZW50PT09Im9iamVjdCIpe29wdGlvbnM9Y29udGVudDtjb250ZW50PSIifWVsc2UgaWYoIW9wdGlvbnMpe29wdGlvbnM9e319cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy51cGRhdGVNZXNzYWdlKHRoaXMsY29udGVudCxvcHRpb25zKX1lZGl0Q29kZShsYW5nLGNvbnRlbnQpe2NvbnRlbnQ9ZXNjYXBlTWFya2Rvd24odGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVN0cmluZyhjb250ZW50KSx0cnVlKTtyZXR1cm4gdGhpcy5lZGl0KGBcYFxgXGAke2xhbmd8fCIifQoke2NvbnRlbnR9ClxgXGBcYGApfXBpbigpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMucGluTWVzc2FnZSh0aGlzKX11bnBpbigpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudW5waW5NZXNzYWdlKHRoaXMpfXJlYWN0KGVtb2ppKXtlbW9qaT10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlRW1vamlJZGVudGlmaWVyKGVtb2ppKTtpZighZW1vamkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRW1vamkgbXVzdCBiZSBhIHN0cmluZyBvciBFbW9qaS9SZWFjdGlvbkVtb2ppIik7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5hZGRNZXNzYWdlUmVhY3Rpb24odGhpcyxlbW9qaSl9Y2xlYXJSZWFjdGlvbnMoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnJlbW92ZU1lc3NhZ2VSZWFjdGlvbnModGhpcyl9ZGVsZXRlKHRpbWVvdXQ9MCl7aWYodGltZW91dDw9MCl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5kZWxldGVNZXNzYWdlKHRoaXMpfWVsc2V7cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmU9Pnt0aGlzLmNsaWVudC5zZXRUaW1lb3V0KCgpPT57cmVzb2x2ZSh0aGlzLmRlbGV0ZSgpKX0sdGltZW91dCl9KX19cmVwbHkoY29udGVudCxvcHRpb25zPXt9KXtjb250ZW50PWAke3RoaXMuZ3VpbGR8fHRoaXMuY2hhbm5lbC50eXBlPT09Imdyb3VwIj9gJHt0aGlzLmF1dGhvcn0sIGA6IiJ9JHtjb250ZW50fWA7cmV0dXJuIHRoaXMuY2hhbm5lbC5zZW5kKGNvbnRlbnQsb3B0aW9ucyl9ZmV0Y2hXZWJob29rKCl7aWYoIXRoaXMud2ViaG9va0lEKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIlRoZSBtZXNzYWdlIHdhcyBub3Qgc2VudCBieSBhIHdlYmhvb2suIikpO3JldHVybiB0aGlzLmNsaWVudC5mZXRjaFdlYmhvb2sodGhpcy53ZWJob29rSUQpfWVxdWFscyhtZXNzYWdlLHJhd0RhdGEpe2lmKCFtZXNzYWdlKXJldHVybiBmYWxzZTtjb25zdCBlbWJlZFVwZGF0ZT0hbWVzc2FnZS5hdXRob3ImJiFtZXNzYWdlLmF0dGFjaG1lbnRzO2lmKGVtYmVkVXBkYXRlKXJldHVybiB0aGlzLmlkPT09bWVzc2FnZS5pZCYmdGhpcy5lbWJlZHMubGVuZ3RoPT09bWVzc2FnZS5lbWJlZHMubGVuZ3RoO2xldCBlcXVhbD10aGlzLmlkPT09bWVzc2FnZS5pZCYmdGhpcy5hdXRob3IuaWQ9PT1tZXNzYWdlLmF1dGhvci5pZCYmdGhpcy5jb250ZW50PT09bWVzc2FnZS5jb250ZW50JiZ0aGlzLnR0cz09PW1lc3NhZ2UudHRzJiZ0aGlzLm5vbmNlPT09bWVzc2FnZS5ub25jZSYmdGhpcy5lbWJlZHMubGVuZ3RoPT09bWVzc2FnZS5lbWJlZHMubGVuZ3RoJiZ0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aD09PW1lc3NhZ2UuYXR0YWNobWVudHMubGVuZ3RoO2lmKGVxdWFsJiZyYXdEYXRhKXtlcXVhbD10aGlzLm1lbnRpb25zLmV2ZXJ5b25lPT09bWVzc2FnZS5tZW50aW9ucy5ldmVyeW9uZSYmdGhpcy5jcmVhdGVkVGltZXN0YW1wPT09bmV3IERhdGUocmF3RGF0YS50aW1lc3RhbXApLmdldFRpbWUoKSYmdGhpcy5lZGl0ZWRUaW1lc3RhbXA9PT1uZXcgRGF0ZShyYXdEYXRhLmVkaXRlZF90aW1lc3RhbXApLmdldFRpbWUoKX1yZXR1cm4gZXF1YWx9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5jb250ZW50fV9hZGRSZWFjdGlvbihlbW9qaSx1c2VyKXtjb25zdCBlbW9qaUlEPWVtb2ppLmlkP2Ake2Vtb2ppLm5hbWV9OiR7ZW1vamkuaWR9YDplbW9qaS5uYW1lO2xldCByZWFjdGlvbjtpZih0aGlzLnJlYWN0aW9ucy5oYXMoZW1vamlJRCkpe3JlYWN0aW9uPXRoaXMucmVhY3Rpb25zLmdldChlbW9qaUlEKTtpZighcmVhY3Rpb24ubWUpcmVhY3Rpb24ubWU9dXNlci5pZD09PXRoaXMuY2xpZW50LnVzZXIuaWR9ZWxzZXtyZWFjdGlvbj1uZXcgTWVzc2FnZVJlYWN0aW9uKHRoaXMsZW1vamksMCx1c2VyLmlkPT09dGhpcy5jbGllbnQudXNlci5pZCk7dGhpcy5yZWFjdGlvbnMuc2V0KGVtb2ppSUQscmVhY3Rpb24pfWlmKCFyZWFjdGlvbi51c2Vycy5oYXModXNlci5pZCkpe3JlYWN0aW9uLnVzZXJzLnNldCh1c2VyLmlkLHVzZXIpO3JlYWN0aW9uLmNvdW50Kys7cmV0dXJuIHJlYWN0aW9ufXJldHVybiBudWxsfV9yZW1vdmVSZWFjdGlvbihlbW9qaSx1c2VyKXtjb25zdCBlbW9qaUlEPWVtb2ppLmlkfHxlbW9qaTtpZih0aGlzLnJlYWN0aW9ucy5oYXMoZW1vamlJRCkpe2NvbnN0IHJlYWN0aW9uPXRoaXMucmVhY3Rpb25zLmdldChlbW9qaUlEKTtpZihyZWFjdGlvbi51c2Vycy5oYXModXNlci5pZCkpe3JlYWN0aW9uLnVzZXJzLmRlbGV0ZSh1c2VyLmlkKTtyZWFjdGlvbi5jb3VudC0tO2lmKHVzZXIuaWQ9PT10aGlzLmNsaWVudC51c2VyLmlkKXJlYWN0aW9uLm1lPWZhbHNlO3JldHVybiByZWFjdGlvbn19cmV0dXJuIG51bGx9X2NsZWFyUmVhY3Rpb25zKCl7dGhpcy5yZWFjdGlvbnMuY2xlYXIoKX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZX0seyIuLiI6OTYsIi4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuLi91dGlsL0NvbnN0YW50cyI6MTM0LCIuLi91dGlsL0VzY2FwZU1hcmtkb3duIjoxMzYsIi4vTWVzc2FnZUF0dGFjaG1lbnQiOjExMiwiLi9NZXNzYWdlRW1iZWQiOjExNCwiLi9NZXNzYWdlUmVhY3Rpb24iOjExNX1dLDExMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgTWVzc2FnZUF0dGFjaG1lbnR7Y29uc3RydWN0b3IobWVzc2FnZSxkYXRhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6bWVzc2FnZS5jbGllbnR9KTt0aGlzLm1lc3NhZ2U9bWVzc2FnZTt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLmZpbGVuYW1lPWRhdGEuZmlsZW5hbWU7dGhpcy5maWxlc2l6ZT1kYXRhLnNpemU7dGhpcy51cmw9ZGF0YS51cmw7dGhpcy5wcm94eVVSTD1kYXRhLnByb3h5X3VybDt0aGlzLmhlaWdodD1kYXRhLmhlaWdodDt0aGlzLndpZHRoPWRhdGEud2lkdGh9fW1vZHVsZS5leHBvcnRzPU1lc3NhZ2VBdHRhY2htZW50fSx7fV0sMTEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBFdmVudEVtaXR0ZXI9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y2xhc3MgTWVzc2FnZUNvbGxlY3RvciBleHRlbmRzIEV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihjaGFubmVsLGZpbHRlcixvcHRpb25zPXt9KXtzdXBlcigpO3RoaXMuY2hhbm5lbD1jaGFubmVsO3RoaXMuZmlsdGVyPWZpbHRlcjt0aGlzLm9wdGlvbnM9b3B0aW9uczt0aGlzLmVuZGVkPWZhbHNlO3RoaXMuY29sbGVjdGVkPW5ldyBDb2xsZWN0aW9uO3RoaXMubGlzdGVuZXI9KG1lc3NhZ2U9PnRoaXMudmVyaWZ5KG1lc3NhZ2UpKTt0aGlzLmNoYW5uZWwuY2xpZW50Lm9uKCJtZXNzYWdlIix0aGlzLmxpc3RlbmVyKTtpZihvcHRpb25zLnRpbWUpdGhpcy5jaGFubmVsLmNsaWVudC5zZXRUaW1lb3V0KCgpPT50aGlzLnN0b3AoInRpbWUiKSxvcHRpb25zLnRpbWUpfXZlcmlmeShtZXNzYWdlKXtpZih0aGlzLmNoYW5uZWw/dGhpcy5jaGFubmVsLmlkIT09bWVzc2FnZS5jaGFubmVsLmlkOmZhbHNlKXJldHVybiBmYWxzZTtpZih0aGlzLmZpbHRlcihtZXNzYWdlLHRoaXMpKXt0aGlzLmNvbGxlY3RlZC5zZXQobWVzc2FnZS5pZCxtZXNzYWdlKTt0aGlzLmVtaXQoIm1lc3NhZ2UiLG1lc3NhZ2UsdGhpcyk7aWYodGhpcy5jb2xsZWN0ZWQuc2l6ZT49dGhpcy5vcHRpb25zLm1heE1hdGNoZXMpdGhpcy5zdG9wKCJtYXRjaGVzTGltaXQiKTtlbHNlIGlmKHRoaXMub3B0aW9ucy5tYXgmJnRoaXMuY29sbGVjdGVkLnNpemU9PT10aGlzLm9wdGlvbnMubWF4KXRoaXMuc3RvcCgibGltaXQiKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9Z2V0IG5leHQoKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2lmKHRoaXMuZW5kZWQpe3JlamVjdCh0aGlzLmNvbGxlY3RlZCk7cmV0dXJufWNvbnN0IGNsZWFudXA9KCk9Pnt0aGlzLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixvbk1lc3NhZ2UpO3RoaXMucmVtb3ZlTGlzdGVuZXIoImVuZCIsb25FbmQpfTtjb25zdCBvbk1lc3NhZ2U9KC4uLmFyZ3MpPT57Y2xlYW51cCgpO3Jlc29sdmUoLi4uYXJncyl9O2NvbnN0IG9uRW5kPSguLi5hcmdzKT0+e2NsZWFudXAoKTtyZWplY3QoLi4uYXJncyl9O3RoaXMub25jZSgibWVzc2FnZSIsb25NZXNzYWdlKTt0aGlzLm9uY2UoImVuZCIsb25FbmQpfSl9c3RvcChyZWFzb249InVzZXIiKXtpZih0aGlzLmVuZGVkKXJldHVybjt0aGlzLmVuZGVkPXRydWU7dGhpcy5jaGFubmVsLmNsaWVudC5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5saXN0ZW5lcik7dGhpcy5lbWl0KCJlbmQiLHRoaXMuY29sbGVjdGVkLHJlYXNvbil9fW1vZHVsZS5leHBvcnRzPU1lc3NhZ2VDb2xsZWN0b3J9LHsiLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsZXZlbnRzOjE3NX1dLDExNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgTWVzc2FnZUVtYmVke2NvbnN0cnVjdG9yKG1lc3NhZ2UsZGF0YSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNsaWVudCIse3ZhbHVlOm1lc3NhZ2UuY2xpZW50fSk7dGhpcy5tZXNzYWdlPW1lc3NhZ2U7dGhpcy5zZXR1cChkYXRhKX1zZXR1cChkYXRhKXt0aGlzLnR5cGU9ZGF0YS50eXBlO3RoaXMudGl0bGU9ZGF0YS50aXRsZTt0aGlzLmRlc2NyaXB0aW9uPWRhdGEuZGVzY3JpcHRpb247dGhpcy51cmw9ZGF0YS51cmw7dGhpcy5jb2xvcj1kYXRhLmNvbG9yO3RoaXMuZmllbGRzPVtdO2lmKGRhdGEuZmllbGRzKWZvcihjb25zdCBmaWVsZCBvZiBkYXRhLmZpZWxkcyl0aGlzLmZpZWxkcy5wdXNoKG5ldyBNZXNzYWdlRW1iZWRGaWVsZCh0aGlzLGZpZWxkKSk7dGhpcy5jcmVhdGVkVGltZXN0YW1wPWRhdGEudGltZXN0YW1wO3RoaXMudGh1bWJuYWlsPWRhdGEudGh1bWJuYWlsP25ldyBNZXNzYWdlRW1iZWRUaHVtYm5haWwodGhpcyxkYXRhLnRodW1ibmFpbCk6bnVsbDt0aGlzLmF1dGhvcj1kYXRhLmF1dGhvcj9uZXcgTWVzc2FnZUVtYmVkQXV0aG9yKHRoaXMsZGF0YS5hdXRob3IpOm51bGw7dGhpcy5wcm92aWRlcj1kYXRhLnByb3ZpZGVyP25ldyBNZXNzYWdlRW1iZWRQcm92aWRlcih0aGlzLGRhdGEucHJvdmlkZXIpOm51bGw7dGhpcy5mb290ZXI9ZGF0YS5mb290ZXI/bmV3IE1lc3NhZ2VFbWJlZEZvb3Rlcih0aGlzLGRhdGEuZm9vdGVyKTpudWxsfWdldCBjcmVhdGVkQXQoKXtyZXR1cm4gbmV3IERhdGUodGhpcy5jcmVhdGVkVGltZXN0YW1wKX1nZXQgaGV4Q29sb3IoKXtsZXQgY29sPXRoaXMuY29sb3IudG9TdHJpbmcoMTYpO3doaWxlKGNvbC5sZW5ndGg8Niljb2w9YDAke2NvbH1gO3JldHVybmAjJHtjb2x9YH19Y2xhc3MgTWVzc2FnZUVtYmVkVGh1bWJuYWlse2NvbnN0cnVjdG9yKGVtYmVkLGRhdGEpe3RoaXMuZW1iZWQ9ZW1iZWQ7dGhpcy5zZXR1cChkYXRhKX1zZXR1cChkYXRhKXt0aGlzLnVybD1kYXRhLnVybDt0aGlzLnByb3h5VVJMPWRhdGEucHJveHlfdXJsO3RoaXMuaGVpZ2h0PWRhdGEuaGVpZ2h0O3RoaXMud2lkdGg9ZGF0YS53aWR0aH19Y2xhc3MgTWVzc2FnZUVtYmVkUHJvdmlkZXJ7Y29uc3RydWN0b3IoZW1iZWQsZGF0YSl7dGhpcy5lbWJlZD1lbWJlZDt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMubmFtZT1kYXRhLm5hbWU7dGhpcy51cmw9ZGF0YS51cmx9fWNsYXNzIE1lc3NhZ2VFbWJlZEF1dGhvcntjb25zdHJ1Y3RvcihlbWJlZCxkYXRhKXt0aGlzLmVtYmVkPWVtYmVkO3RoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy5uYW1lPWRhdGEubmFtZTt0aGlzLnVybD1kYXRhLnVybDt0aGlzLmljb25VUkw9ZGF0YS5pY29uX3VybH19Y2xhc3MgTWVzc2FnZUVtYmVkRmllbGR7Y29uc3RydWN0b3IoZW1iZWQsZGF0YSl7dGhpcy5lbWJlZD1lbWJlZDt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMubmFtZT1kYXRhLm5hbWU7dGhpcy52YWx1ZT1kYXRhLnZhbHVlO3RoaXMuaW5saW5lPWRhdGEuaW5saW5lfX1jbGFzcyBNZXNzYWdlRW1iZWRGb290ZXJ7Y29uc3RydWN0b3IoZW1iZWQsZGF0YSl7dGhpcy5lbWJlZD1lbWJlZDt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMudGV4dD1kYXRhLnRleHQ7dGhpcy5pY29uVVJMPWRhdGEuaWNvbl91cmw7dGhpcy5wcm94eUljb25Vcmw9ZGF0YS5wcm94eV9pY29uX3VybH19TWVzc2FnZUVtYmVkLlRodW1ibmFpbD1NZXNzYWdlRW1iZWRUaHVtYm5haWw7TWVzc2FnZUVtYmVkLlByb3ZpZGVyPU1lc3NhZ2VFbWJlZFByb3ZpZGVyO01lc3NhZ2VFbWJlZC5BdXRob3I9TWVzc2FnZUVtYmVkQXV0aG9yO01lc3NhZ2VFbWJlZC5GaWVsZD1NZXNzYWdlRW1iZWRGaWVsZDtNZXNzYWdlRW1iZWQuRm9vdGVyPU1lc3NhZ2VFbWJlZEZvb3Rlcjttb2R1bGUuZXhwb3J0cz1NZXNzYWdlRW1iZWR9LHt9XSwxMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENvbGxlY3Rpb249cmVxdWlyZSgiLi4vdXRpbC9Db2xsZWN0aW9uIik7Y29uc3QgRW1vamk9cmVxdWlyZSgiLi9FbW9qaSIpO2NvbnN0IFJlYWN0aW9uRW1vamk9cmVxdWlyZSgiLi9SZWFjdGlvbkVtb2ppIik7Y2xhc3MgTWVzc2FnZVJlYWN0aW9ue2NvbnN0cnVjdG9yKG1lc3NhZ2UsZW1vamksY291bnQsbWUpe3RoaXMubWVzc2FnZT1tZXNzYWdlO3RoaXMubWU9bWU7dGhpcy5jb3VudD1jb3VudHx8MDt0aGlzLnVzZXJzPW5ldyBDb2xsZWN0aW9uO3RoaXMuX2Vtb2ppPW5ldyBSZWFjdGlvbkVtb2ppKHRoaXMsZW1vamkubmFtZSxlbW9qaS5pZCl9Z2V0IGVtb2ppKCl7aWYodGhpcy5fZW1vamkgaW5zdGFuY2VvZiBFbW9qaSlyZXR1cm4gdGhpcy5fZW1vamk7aWYodGhpcy5fZW1vamkuaWQpe2NvbnN0IGVtb2ppcz10aGlzLm1lc3NhZ2UuY2xpZW50LmVtb2ppcztpZihlbW9qaXMuaGFzKHRoaXMuX2Vtb2ppLmlkKSl7Y29uc3QgZW1vamk9ZW1vamlzLmdldCh0aGlzLl9lbW9qaS5pZCk7dGhpcy5fZW1vamk9ZW1vamk7cmV0dXJuIGVtb2ppfX1yZXR1cm4gdGhpcy5fZW1vaml9cmVtb3ZlKHVzZXI9dGhpcy5tZXNzYWdlLmNsaWVudC51c2VyKXtjb25zdCBtZXNzYWdlPXRoaXMubWVzc2FnZTt1c2VyPXRoaXMubWVzc2FnZS5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVVzZXJJRCh1c2VyKTtpZighdXNlcilyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNvdWxkbid0IHJlc29sdmUgdGhlIHVzZXIgSUQgdG8gcmVtb3ZlIGZyb20gdGhlIHJlYWN0aW9uLiIpO3JldHVybiBtZXNzYWdlLmNsaWVudC5yZXN0Lm1ldGhvZHMucmVtb3ZlTWVzc2FnZVJlYWN0aW9uKG1lc3NhZ2UsdGhpcy5lbW9qaS5pZGVudGlmaWVyLHVzZXIpfWZldGNoVXNlcnMobGltaXQ9MTAwKXtjb25zdCBtZXNzYWdlPXRoaXMubWVzc2FnZTtyZXR1cm4gbWVzc2FnZS5jbGllbnQucmVzdC5tZXRob2RzLmdldE1lc3NhZ2VSZWFjdGlvblVzZXJzKG1lc3NhZ2UsdGhpcy5lbW9qaS5pZGVudGlmaWVyLGxpbWl0KS50aGVuKHVzZXJzPT57dGhpcy51c2Vycz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgcmF3VXNlciBvZiB1c2Vycyl7Y29uc3QgdXNlcj10aGlzLm1lc3NhZ2UuY2xpZW50LmRhdGFNYW5hZ2VyLm5ld1VzZXIocmF3VXNlcik7dGhpcy51c2Vycy5zZXQodXNlci5pZCx1c2VyKX10aGlzLmNvdW50PXRoaXMudXNlcnMuc2l6ZTtyZXR1cm4gdXNlcnN9KX19bW9kdWxlLmV4cG9ydHM9TWVzc2FnZVJlYWN0aW9ufSx7Ii4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuL0Vtb2ppIjoxMDQsIi4vUmVhY3Rpb25FbW9qaSI6MTIxfV0sMTE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBPQXV0aDJBcHBsaWNhdGlvbntjb25zdHJ1Y3RvcihjbGllbnQsZGF0YSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNsaWVudCIse3ZhbHVlOmNsaWVudH0pO3RoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy5pZD1kYXRhLmlkO3RoaXMubmFtZT1kYXRhLm5hbWU7dGhpcy5kZXNjcmlwdGlvbj1kYXRhLmRlc2NyaXB0aW9uO3RoaXMuaWNvbj1kYXRhLmljb247dGhpcy5pY29uVVJMPWBodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hcHAtaWNvbnMvJHt0aGlzLmlkfS8ke3RoaXMuaWNvbn0uanBnYDt0aGlzLnJwY09yaWdpbnM9ZGF0YS5ycGNfb3JpZ2luc31nZXQgY3JlYXRlZFRpbWVzdGFtcCgpe3JldHVybiB0aGlzLmlkLzQxOTQzMDQrMTQyMDA3MDRlNX1nZXQgY3JlYXRlZEF0KCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuY3JlYXRlZFRpbWVzdGFtcCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfX1tb2R1bGUuZXhwb3J0cz1PQXV0aDJBcHBsaWNhdGlvbn0se31dLDExNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgUGFydGlhbEd1aWxke2NvbnN0cnVjdG9yKGNsaWVudCxkYXRhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6Y2xpZW50fSk7dGhpcy5zZXR1cChkYXRhKX1zZXR1cChkYXRhKXt0aGlzLmlkPWRhdGEuaWQ7dGhpcy5uYW1lPWRhdGEubmFtZTt0aGlzLmljb249ZGF0YS5pY29uO3RoaXMuc3BsYXNoPWRhdGEuc3BsYXNofX1tb2R1bGUuZXhwb3J0cz1QYXJ0aWFsR3VpbGR9LHt9XSwxMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIFBhcnRpYWxHdWlsZENoYW5uZWx7Y29uc3RydWN0b3IoY2xpZW50LGRhdGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjbGllbnQiLHt2YWx1ZTpjbGllbnR9KTt0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMudHlwZT1Db25zdGFudHMuQ2hhbm5lbFR5cGVzLnRleHQ9PT1kYXRhLnR5cGU/InRleHQiOiJ2b2ljZSJ9fW1vZHVsZS5leHBvcnRzPVBhcnRpYWxHdWlsZENoYW5uZWx9LHsiLi4vdXRpbC9Db25zdGFudHMiOjEzNH1dLDExOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgUGVybWlzc2lvbk92ZXJ3cml0ZXN7Y29uc3RydWN0b3IoZ3VpbGRDaGFubmVsLGRhdGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjaGFubmVsIix7dmFsdWU6Z3VpbGRDaGFubmVsfSk7aWYoZGF0YSl0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLnR5cGU9ZGF0YS50eXBlO3RoaXMuZGVueT1kYXRhLmRlbnk7dGhpcy5hbGxvdz1kYXRhLmFsbG93fWRlbGV0ZSgpe3JldHVybiB0aGlzLmNoYW5uZWwuY2xpZW50LnJlc3QubWV0aG9kcy5kZWxldGVQZXJtaXNzaW9uT3ZlcndyaXRlcyh0aGlzKX19bW9kdWxlLmV4cG9ydHM9UGVybWlzc2lvbk92ZXJ3cml0ZXN9LHt9XSwxMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NsYXNzIFByZXNlbmNle2NvbnN0cnVjdG9yKGRhdGE9e30pe3RoaXMuc3RhdHVzPWRhdGEuc3RhdHVzfHwib2ZmbGluZSI7dGhpcy5nYW1lPWRhdGEuZ2FtZT9uZXcgR2FtZShkYXRhLmdhbWUpOm51bGx9dXBkYXRlKGRhdGEpe3RoaXMuc3RhdHVzPWRhdGEuc3RhdHVzfHx0aGlzLnN0YXR1czt0aGlzLmdhbWU9ZGF0YS5nYW1lP25ldyBHYW1lKGRhdGEuZ2FtZSk6bnVsbH1lcXVhbHMocHJlc2VuY2Upe3JldHVybiB0aGlzPT09cHJlc2VuY2V8fChwcmVzZW5jZSYmdGhpcy5zdGF0dXM9PT1wcmVzZW5jZS5zdGF0dXMmJnRoaXMuZ2FtZT90aGlzLmdhbWUuZXF1YWxzKHByZXNlbmNlLmdhbWUpOiFwcmVzZW5jZS5nYW1lKX19Y2xhc3MgR2FtZXtjb25zdHJ1Y3RvcihkYXRhKXt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMudHlwZT1kYXRhLnR5cGU7dGhpcy51cmw9ZGF0YS51cmx8fG51bGx9Z2V0IHN0cmVhbWluZygpe3JldHVybiB0aGlzLnR5cGU9PT0xfWVxdWFscyhnYW1lKXtyZXR1cm4gdGhpcz09PWdhbWV8fGdhbWUmJnRoaXMubmFtZT09PWdhbWUubmFtZSYmdGhpcy50eXBlPT09Z2FtZS50eXBlJiZ0aGlzLnVybD09PWdhbWUudXJsfX1leHBvcnRzLlByZXNlbmNlPVByZXNlbmNlO2V4cG9ydHMuR2FtZT1HYW1lfSx7fV0sMTIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBSZWFjdGlvbkVtb2ppe2NvbnN0cnVjdG9yKHJlYWN0aW9uLG5hbWUsaWQpe3RoaXMucmVhY3Rpb249cmVhY3Rpb247dGhpcy5uYW1lPW5hbWU7dGhpcy5pZD1pZH1nZXQgaWRlbnRpZmllcigpe2lmKHRoaXMuaWQpcmV0dXJuYCR7dGhpcy5uYW1lfToke3RoaXMuaWR9YDtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubmFtZSl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5pZD9gPDoke3RoaXMubmFtZX06JHt0aGlzLmlkfT5gOnRoaXMubmFtZX19bW9kdWxlLmV4cG9ydHM9UmVhY3Rpb25FbW9qaX0se31dLDEyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y2xhc3MgUmljaEVtYmVke2NvbnN0cnVjdG9yKGRhdGE9e30pe3RoaXMudGl0bGU9ZGF0YS50aXRsZTt0aGlzLmRlc2NyaXB0aW9uPWRhdGEuZGVzY3JpcHRpb247dGhpcy51cmw9ZGF0YS51cmw7dGhpcy5jb2xvcj1kYXRhLmNvbG9yO3RoaXMuYXV0aG9yPWRhdGEuYXV0aG9yO3RoaXMudGltZXN0YW1wPWRhdGEudGltZXN0YW1wO3RoaXMuZmllbGRzPWRhdGEuZmllbGRzfHxbXTt0aGlzLnRodW1ibmFpbD1kYXRhLnRodW1ibmFpbDt0aGlzLmltYWdlPWRhdGEuaW1hZ2U7dGhpcy5mb290ZXI9ZGF0YS5mb290ZXJ9c2V0VGl0bGUodGl0bGUpe3RpdGxlPXJlc29sdmVTdHJpbmcodGl0bGUpO2lmKHRpdGxlLmxlbmd0aD4yNTYpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJpY2hFbWJlZCB0aXRsZXMgbWF5IG5vdCBleGNlZWQgMjU2IGNoYXJhY3RlcnMuIik7dGhpcy50aXRsZT10aXRsZTtyZXR1cm4gdGhpc31zZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbil7ZGVzY3JpcHRpb249cmVzb2x2ZVN0cmluZyhkZXNjcmlwdGlvbik7aWYoZGVzY3JpcHRpb24ubGVuZ3RoPjIwNDgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJpY2hFbWJlZCBkZXNjcmlwdGlvbnMgbWF5IG5vdCBleGNlZWQgMjA0OCBjaGFyYWN0ZXJzLiIpO3RoaXMuZGVzY3JpcHRpb249ZGVzY3JpcHRpb247cmV0dXJuIHRoaXN9c2V0VVJMKHVybCl7dGhpcy51cmw9dXJsO3JldHVybiB0aGlzfXNldENvbG9yKGNvbG9yKXtsZXQgcmFkaXg9MTA7aWYoY29sb3IgaW5zdGFuY2VvZiBBcnJheSl7Y29sb3I9KGNvbG9yWzBdPDwxNikrKGNvbG9yWzFdPDw4KStjb2xvclsyXX1lbHNlIGlmKHR5cGVvZiBjb2xvcj09PSJzdHJpbmciJiZjb2xvci5zdGFydHNXaXRoKCIjIikpe3JhZGl4PTE2O2NvbG9yPWNvbG9yLnJlcGxhY2UoIiMiLCIiKX1jb2xvcj1wYXJzZUludChjb2xvcixyYWRpeCk7aWYoY29sb3I8MHx8Y29sb3I+MTY3NzcyMTUpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJSaWNoRW1iZWQgY29sb3IgbXVzdCBiZSB3aXRoaW4gdGhlIHJhbmdlIDAgLSAxNjc3NzIxNSAoMHhGRkZGRkYpLiIpfWVsc2UgaWYoY29sb3ImJmlzTmFOKGNvbG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5hYmxlIHRvIGNvbnZlcnQgUmljaEVtYmVkIGNvbG9yIHRvIGEgbnVtYmVyLiIpfXRoaXMuY29sb3I9Y29sb3I7cmV0dXJuIHRoaXN9c2V0QXV0aG9yKG5hbWUsaWNvbix1cmwpe3RoaXMuYXV0aG9yPXtuYW1lOnJlc29sdmVTdHJpbmcobmFtZSksaWNvbl91cmw6aWNvbix1cmw6dXJsfTtyZXR1cm4gdGhpc31zZXRUaW1lc3RhbXAodGltZXN0YW1wPW5ldyBEYXRlKXt0aGlzLnRpbWVzdGFtcD10aW1lc3RhbXA7cmV0dXJuIHRoaXN9YWRkRmllbGQobmFtZSx2YWx1ZSxpbmxpbmU9ZmFsc2Upe2lmKHRoaXMuZmllbGRzLmxlbmd0aD49MjUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJpY2hFbWJlZHMgbWF5IG5vdCBleGNlZWQgMjUgZmllbGRzLiIpO25hbWU9cmVzb2x2ZVN0cmluZyhuYW1lKTtpZihuYW1lLmxlbmd0aD4yNTYpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlJpY2hFbWJlZCBmaWVsZCBuYW1lcyBtYXkgbm90IGV4Y2VlZCAyNTYgY2hhcmFjdGVycy4iKTt2YWx1ZT1yZXNvbHZlU3RyaW5nKHZhbHVlKTtpZih2YWx1ZS5sZW5ndGg+MTAyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiUmljaEVtYmVkIGZpZWxkIHZhbHVlcyBtYXkgbm90IGV4Y2VlZCAxMDI0IGNoYXJhY3RlcnMuIik7dGhpcy5maWVsZHMucHVzaCh7bmFtZTpTdHJpbmcobmFtZSksdmFsdWU6dmFsdWUsaW5saW5lOmlubGluZX0pO3JldHVybiB0aGlzfXNldFRodW1ibmFpbCh1cmwpe3RoaXMudGh1bWJuYWlsPXt1cmw6dXJsfTtyZXR1cm4gdGhpc31zZXRJbWFnZSh1cmwpe3RoaXMuaW1hZ2U9e3VybDp1cmx9O3JldHVybiB0aGlzfXNldEZvb3Rlcih0ZXh0LGljb24pe3RleHQ9cmVzb2x2ZVN0cmluZyh0ZXh0KTtpZih0ZXh0Lmxlbmd0aD4yMDQ4KXRocm93IG5ldyBSYW5nZUVycm9yKCJSaWNoRW1iZWQgZm9vdGVyIHRleHQgbWF5IG5vdCBleGNlZWQgMjA0OCBjaGFyYWN0ZXJzLiIpO3RoaXMuZm9vdGVyPXt0ZXh0OnRleHQsaWNvbl91cmw6aWNvbn07cmV0dXJuIHRoaXN9fW1vZHVsZS5leHBvcnRzPVJpY2hFbWJlZDtmdW5jdGlvbiByZXNvbHZlU3RyaW5nKGRhdGEpe2lmKHR5cGVvZiBkYXRhPT09InN0cmluZyIpcmV0dXJuIGRhdGE7aWYoZGF0YSBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBkYXRhLmpvaW4oIlxuIik7cmV0dXJuIFN0cmluZyhkYXRhKX19LHt9XSwxMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IENvbnN0YW50cz1yZXF1aXJlKCIuLi91dGlsL0NvbnN0YW50cyIpO2NsYXNzIFJvbGV7Y29uc3RydWN0b3IoZ3VpbGQsZGF0YSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNsaWVudCIse3ZhbHVlOmd1aWxkLmNsaWVudH0pO3RoaXMuZ3VpbGQ9Z3VpbGQ7aWYoZGF0YSl0aGlzLnNldHVwKGRhdGEpfXNldHVwKGRhdGEpe3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMuY29sb3I9ZGF0YS5jb2xvcjt0aGlzLmhvaXN0PWRhdGEuaG9pc3Q7dGhpcy5wb3NpdGlvbj1kYXRhLnBvc2l0aW9uO3RoaXMucGVybWlzc2lvbnM9ZGF0YS5wZXJtaXNzaW9uczt0aGlzLm1hbmFnZWQ9ZGF0YS5tYW5hZ2VkO3RoaXMubWVudGlvbmFibGU9ZGF0YS5tZW50aW9uYWJsZX1nZXQgY3JlYXRlZFRpbWVzdGFtcCgpe3JldHVybiB0aGlzLmlkLzQxOTQzMDQrMTQyMDA3MDRlNX1nZXQgY3JlYXRlZEF0KCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuY3JlYXRlZFRpbWVzdGFtcCl9Z2V0IGhleENvbG9yKCl7bGV0IGNvbD10aGlzLmNvbG9yLnRvU3RyaW5nKDE2KTt3aGlsZShjb2wubGVuZ3RoPDYpY29sPWAwJHtjb2x9YDtyZXR1cm5gIyR7Y29sfWB9Z2V0IG1lbWJlcnMoKXtyZXR1cm4gdGhpcy5ndWlsZC5tZW1iZXJzLmZpbHRlcihtPT5tLnJvbGVzLmhhcyh0aGlzLmlkKSl9Z2V0IGVkaXRhYmxlKCl7aWYodGhpcy5tYW5hZ2VkKXJldHVybiBmYWxzZTtjb25zdCBjbGllbnRNZW1iZXI9dGhpcy5ndWlsZC5tZW1iZXIodGhpcy5jbGllbnQudXNlcik7aWYoIWNsaWVudE1lbWJlci5oYXNQZXJtaXNzaW9uKENvbnN0YW50cy5QZXJtaXNzaW9uRmxhZ3MuTUFOQUdFX1JPTEVTX09SX1BFUk1JU1NJT05TKSlyZXR1cm4gZmFsc2U7cmV0dXJuIGNsaWVudE1lbWJlci5oaWdoZXN0Um9sZS5jb21wYXJlUG9zaXRpb25Ubyh0aGlzKT4wfXNlcmlhbGl6ZSgpe2NvbnN0IHNlcmlhbGl6ZWRQZXJtaXNzaW9ucz17fTtmb3IoY29uc3QgcGVybWlzc2lvbk5hbWUgaW4gQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFncyl7c2VyaWFsaXplZFBlcm1pc3Npb25zW3Blcm1pc3Npb25OYW1lXT10aGlzLmhhc1Blcm1pc3Npb24ocGVybWlzc2lvbk5hbWUpfXJldHVybiBzZXJpYWxpemVkUGVybWlzc2lvbnN9aGFzUGVybWlzc2lvbihwZXJtaXNzaW9uLGV4cGxpY2l0PWZhbHNlKXtwZXJtaXNzaW9uPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVQZXJtaXNzaW9uKHBlcm1pc3Npb24pO2lmKCFleHBsaWNpdCYmKHRoaXMucGVybWlzc2lvbnMmQ29uc3RhbnRzLlBlcm1pc3Npb25GbGFncy5BRE1JTklTVFJBVE9SKT4wKXJldHVybiB0cnVlO3JldHVybih0aGlzLnBlcm1pc3Npb25zJnBlcm1pc3Npb24pPjB9aGFzUGVybWlzc2lvbnMocGVybWlzc2lvbnMsZXhwbGljaXQ9ZmFsc2Upe3JldHVybiBwZXJtaXNzaW9ucy5ldmVyeShwPT50aGlzLmhhc1Blcm1pc3Npb24ocCxleHBsaWNpdCkpfWNvbXBhcmVQb3NpdGlvblRvKHJvbGUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbXBhcmVQb3NpdGlvbnModGhpcyxyb2xlKX1lZGl0KGRhdGEpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMudXBkYXRlR3VpbGRSb2xlKHRoaXMsZGF0YSl9c2V0TmFtZShuYW1lKXtyZXR1cm4gdGhpcy5lZGl0KHtuYW1lOm5hbWV9KX1zZXRDb2xvcihjb2xvcil7cmV0dXJuIHRoaXMuZWRpdCh7Y29sb3I6Y29sb3J9KX1zZXRIb2lzdChob2lzdCl7cmV0dXJuIHRoaXMuZWRpdCh7aG9pc3Q6aG9pc3R9KX1zZXRQb3NpdGlvbihwb3NpdGlvbil7cmV0dXJuIHRoaXMuZ3VpbGQuc2V0Um9sZVBvc2l0aW9uKHRoaXMscG9zaXRpb24pLnRoZW4oKCk9PnRoaXMpfXNldFBlcm1pc3Npb25zKHBlcm1pc3Npb25zKXtyZXR1cm4gdGhpcy5lZGl0KHtwZXJtaXNzaW9uczpwZXJtaXNzaW9uc30pfXNldE1lbnRpb25hYmxlKG1lbnRpb25hYmxlKXtyZXR1cm4gdGhpcy5lZGl0KHttZW50aW9uYWJsZTptZW50aW9uYWJsZX0pfWRlbGV0ZSgpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZGVsZXRlR3VpbGRSb2xlKHRoaXMpfWVxdWFscyhyb2xlKXtyZXR1cm4gcm9sZSYmdGhpcy5pZD09PXJvbGUuaWQmJnRoaXMubmFtZT09PXJvbGUubmFtZSYmdGhpcy5jb2xvcj09PXJvbGUuY29sb3ImJnRoaXMuaG9pc3Q9PT1yb2xlLmhvaXN0JiZ0aGlzLnBvc2l0aW9uPT09cm9sZS5wb3NpdGlvbiYmdGhpcy5wZXJtaXNzaW9ucz09PXJvbGUucGVybWlzc2lvbnMmJnRoaXMubWFuYWdlZD09PXJvbGUubWFuYWdlZH10b1N0cmluZygpe2lmKHRoaXMuaWQ9PT10aGlzLmd1aWxkLmlkKXJldHVybiJAZXZlcnlvbmUiO3JldHVybmA8QCYke3RoaXMuaWR9PmB9c3RhdGljIGNvbXBhcmVQb3NpdGlvbnMocm9sZTEscm9sZTIpe2lmKHJvbGUxLnBvc2l0aW9uPT09cm9sZTIucG9zaXRpb24pcmV0dXJuIHJvbGUyLmlkLXJvbGUxLmlkO3JldHVybiByb2xlMS5wb3NpdGlvbi1yb2xlMi5wb3NpdGlvbn19bW9kdWxlLmV4cG9ydHM9Um9sZX0seyIuLi91dGlsL0NvbnN0YW50cyI6MTM0fV0sMTI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBHdWlsZENoYW5uZWw9cmVxdWlyZSgiLi9HdWlsZENoYW5uZWwiKTtjb25zdCBUZXh0QmFzZWRDaGFubmVsPXJlcXVpcmUoIi4vaW50ZXJmYWNlL1RleHRCYXNlZENoYW5uZWwiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NsYXNzIFRleHRDaGFubmVsIGV4dGVuZHMgR3VpbGRDaGFubmVse2NvbnN0cnVjdG9yKGd1aWxkLGRhdGEpe3N1cGVyKGd1aWxkLGRhdGEpO3RoaXMudHlwZT0idGV4dCI7dGhpcy5tZXNzYWdlcz1uZXcgQ29sbGVjdGlvbjt0aGlzLl90eXBpbmc9bmV3IE1hcH1zZXR1cChkYXRhKXtzdXBlci5zZXR1cChkYXRhKTt0aGlzLnRvcGljPWRhdGEudG9waWM7dGhpcy5sYXN0TWVzc2FnZUlEPWRhdGEubGFzdF9tZXNzYWdlX2lkfWdldCBtZW1iZXJzKCl7Y29uc3QgbWVtYmVycz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgbWVtYmVyIG9mIHRoaXMuZ3VpbGQubWVtYmVycy52YWx1ZXMoKSl7aWYodGhpcy5wZXJtaXNzaW9uc0ZvcihtZW1iZXIpLmhhc1Blcm1pc3Npb24oIlJFQURfTUVTU0FHRVMiKSl7bWVtYmVycy5zZXQobWVtYmVyLmlkLG1lbWJlcil9fXJldHVybiBtZW1iZXJzfWZldGNoV2ViaG9va3MoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmdldENoYW5uZWxXZWJob29rcyh0aGlzKX1jcmVhdGVXZWJob29rKG5hbWUsYXZhdGFyKXtyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e2lmKGF2YXRhci5zdGFydHNXaXRoKCJkYXRhOiIpKXtyZXNvbHZlKHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5jcmVhdGVXZWJob29rKHRoaXMsbmFtZSxhdmF0YXIpKX1lbHNle3RoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVCdWZmZXIoYXZhdGFyKS50aGVuKGRhdGE9PnJlc29sdmUodGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmNyZWF0ZVdlYmhvb2sodGhpcyxuYW1lLGRhdGEpKSl9fSl9c2VuZCgpe3JldHVybn1zZW5kTWVzc2FnZSgpe3JldHVybn1zZW5kRW1iZWQoKXtyZXR1cm59c2VuZEZpbGUoKXtyZXR1cm59c2VuZENvZGUoKXtyZXR1cm59ZmV0Y2hNZXNzYWdlKCl7cmV0dXJufWZldGNoTWVzc2FnZXMoKXtyZXR1cm59ZmV0Y2hQaW5uZWRNZXNzYWdlcygpe3JldHVybn1zdGFydFR5cGluZygpe3JldHVybn1zdG9wVHlwaW5nKCl7cmV0dXJufWdldCB0eXBpbmcoKXtyZXR1cm59Z2V0IHR5cGluZ0NvdW50KCl7cmV0dXJufWNyZWF0ZUNvbGxlY3Rvcigpe3JldHVybn1hd2FpdE1lc3NhZ2VzKCl7cmV0dXJufWJ1bGtEZWxldGUoKXtyZXR1cm59X2NhY2hlTWVzc2FnZSgpe3JldHVybn19VGV4dEJhc2VkQ2hhbm5lbC5hcHBseVRvQ2xhc3MoVGV4dENoYW5uZWwsdHJ1ZSk7bW9kdWxlLmV4cG9ydHM9VGV4dENoYW5uZWx9LHsiLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4vR3VpbGRDaGFubmVsIjoxMDgsIi4vaW50ZXJmYWNlL1RleHRCYXNlZENoYW5uZWwiOjEzMH1dLDEyNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgVGV4dEJhc2VkQ2hhbm5lbD1yZXF1aXJlKCIuL2ludGVyZmFjZS9UZXh0QmFzZWRDaGFubmVsIik7Y29uc3QgQ29uc3RhbnRzPXJlcXVpcmUoIi4uL3V0aWwvQ29uc3RhbnRzIik7Y29uc3QgUHJlc2VuY2U9cmVxdWlyZSgiLi9QcmVzZW5jZSIpLlByZXNlbmNlO2NsYXNzIFVzZXJ7Y29uc3RydWN0b3IoY2xpZW50LGRhdGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjbGllbnQiLHt2YWx1ZTpjbGllbnR9KTtpZihkYXRhKXRoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy5pZD1kYXRhLmlkO3RoaXMudXNlcm5hbWU9ZGF0YS51c2VybmFtZTt0aGlzLmRpc2NyaW1pbmF0b3I9ZGF0YS5kaXNjcmltaW5hdG9yO3RoaXMuYXZhdGFyPWRhdGEuYXZhdGFyO3RoaXMuYm90PUJvb2xlYW4oZGF0YS5ib3QpO3RoaXMubGFzdE1lc3NhZ2VJRD1udWxsfXBhdGNoKGRhdGEpe2Zvcihjb25zdCBwcm9wIG9mWyJpZCIsInVzZXJuYW1lIiwiZGlzY3JpbWluYXRvciIsImF2YXRhciIsImJvdCJdKXtpZih0eXBlb2YgZGF0YVtwcm9wXSE9PSJ1bmRlZmluZWQiKXRoaXNbcHJvcF09ZGF0YVtwcm9wXX1pZihkYXRhLnRva2VuKXRoaXMuY2xpZW50LnRva2VuPWRhdGEudG9rZW59Z2V0IGNyZWF0ZWRUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5pZC80MTk0MzA0KzE0MjAwNzA0ZTV9Z2V0IGNyZWF0ZWRBdCgpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmNyZWF0ZWRUaW1lc3RhbXApfWdldCBwcmVzZW5jZSgpe2lmKHRoaXMuY2xpZW50LnByZXNlbmNlcy5oYXModGhpcy5pZCkpcmV0dXJuIHRoaXMuY2xpZW50LnByZXNlbmNlcy5nZXQodGhpcy5pZCk7Zm9yKGNvbnN0IGd1aWxkIG9mIHRoaXMuY2xpZW50Lmd1aWxkcy52YWx1ZXMoKSl7aWYoZ3VpbGQucHJlc2VuY2VzLmhhcyh0aGlzLmlkKSlyZXR1cm4gZ3VpbGQucHJlc2VuY2VzLmdldCh0aGlzLmlkKX1yZXR1cm4gbmV3IFByZXNlbmNlfWdldCBhdmF0YXJVUkwoKXtpZighdGhpcy5hdmF0YXIpcmV0dXJuIG51bGw7cmV0dXJuIENvbnN0YW50cy5FbmRwb2ludHMuYXZhdGFyKHRoaXMuaWQsdGhpcy5hdmF0YXIpfWdldCBkZWZhdWx0QXZhdGFyVVJMKCl7bGV0IGRlZmF1bHRBdmF0YXJzPU9iamVjdC52YWx1ZXMoQ29uc3RhbnRzLkRlZmF1bHRBdmF0YXJzKTtsZXQgZGVmYXVsdEF2YXRhcj10aGlzLmRpc2NyaW1pbmF0b3IlZGVmYXVsdEF2YXRhcnMubGVuZ3RoO3JldHVybiBDb25zdGFudHMuRW5kcG9pbnRzLmFzc2V0cyhgJHtkZWZhdWx0QXZhdGFyc1tkZWZhdWx0QXZhdGFyXX0ucG5nYCl9Z2V0IGRpc3BsYXlBdmF0YXJVUkwoKXtyZXR1cm4gdGhpcy5hdmF0YXJVUkx8fHRoaXMuZGVmYXVsdEF2YXRhclVSTH1nZXQgbm90ZSgpe3JldHVybiB0aGlzLmNsaWVudC51c2VyLm5vdGVzLmdldCh0aGlzLmlkKXx8bnVsbH10eXBpbmdJbihjaGFubmVsKXtjaGFubmVsPXRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVDaGFubmVsKGNoYW5uZWwpO3JldHVybiBjaGFubmVsLl90eXBpbmcuaGFzKHRoaXMuaWQpfXR5cGluZ1NpbmNlSW4oY2hhbm5lbCl7Y2hhbm5lbD10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlQ2hhbm5lbChjaGFubmVsKTtyZXR1cm4gY2hhbm5lbC5fdHlwaW5nLmhhcyh0aGlzLmlkKT9uZXcgRGF0ZShjaGFubmVsLl90eXBpbmcuZ2V0KHRoaXMuaWQpLnNpbmNlKTpudWxsfXR5cGluZ0R1cmF0aW9uSW4oY2hhbm5lbCl7Y2hhbm5lbD10aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlQ2hhbm5lbChjaGFubmVsKTtyZXR1cm4gY2hhbm5lbC5fdHlwaW5nLmhhcyh0aGlzLmlkKT9jaGFubmVsLl90eXBpbmcuZ2V0KHRoaXMuaWQpLmVsYXBzZWRUaW1lOi0xfWdldCBkbUNoYW5uZWwoKXtyZXR1cm4gdGhpcy5jbGllbnQuY2hhbm5lbHMuZmlsdGVyKGM9PmMudHlwZT09PSJkbSIpLmZpbmQoYz0+Yy5yZWNpcGllbnQuaWQ9PT10aGlzLmlkKX1kZWxldGVETSgpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZGVsZXRlQ2hhbm5lbCh0aGlzKX1hZGRGcmllbmQoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmFkZEZyaWVuZCh0aGlzKX1yZW1vdmVGcmllbmQoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnJlbW92ZUZyaWVuZCh0aGlzKX1ibG9jaygpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuYmxvY2tVc2VyKHRoaXMpfXVuYmxvY2soKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnVuYmxvY2tVc2VyKHRoaXMpfWZldGNoUHJvZmlsZSgpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZmV0Y2hVc2VyUHJvZmlsZSh0aGlzKX1zZXROb3RlKG5vdGUpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuc2V0Tm90ZSh0aGlzLG5vdGUpfWVxdWFscyh1c2VyKXtsZXQgZXF1YWw9dXNlciYmdGhpcy5pZD09PXVzZXIuaWQmJnRoaXMudXNlcm5hbWU9PT11c2VyLnVzZXJuYW1lJiZ0aGlzLmRpc2NyaW1pbmF0b3I9PT11c2VyLmRpc2NyaW1pbmF0b3ImJnRoaXMuYXZhdGFyPT09dXNlci5hdmF0YXImJnRoaXMuYm90PT09Qm9vbGVhbih1c2VyLmJvdCk7cmV0dXJuIGVxdWFsfXRvU3RyaW5nKCl7cmV0dXJuYDxAJHt0aGlzLmlkfT5gfXNlbmQoKXtyZXR1cm59c2VuZE1lc3NhZ2UoKXtyZXR1cm59c2VuZEVtYmVkKCl7cmV0dXJufXNlbmRGaWxlKCl7cmV0dXJufXNlbmRDb2RlKCl7cmV0dXJufX1UZXh0QmFzZWRDaGFubmVsLmFwcGx5VG9DbGFzcyhVc2VyKTttb2R1bGUuZXhwb3J0cz1Vc2VyfSx7Ii4uL3V0aWwvQ29uc3RhbnRzIjoxMzQsIi4vUHJlc2VuY2UiOjEyMCwiLi9pbnRlcmZhY2UvVGV4dEJhc2VkQ2hhbm5lbCI6MTMwfV0sMTI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBVc2VyQ29ubmVjdGlvbntjb25zdHJ1Y3Rvcih1c2VyLGRhdGEpe3RoaXMudXNlcj11c2VyO3RoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy50eXBlPWRhdGEudHlwZTt0aGlzLm5hbWU9ZGF0YS5uYW1lO3RoaXMuaWQ9ZGF0YS5pZDt0aGlzLnJldm9rZWQ9ZGF0YS5yZXZva2VkO3RoaXMuaW50ZWdyYXRpb25zPWRhdGEuaW50ZWdyYXRpb25zfX1tb2R1bGUuZXhwb3J0cz1Vc2VyQ29ubmVjdGlvbn0se31dLDEyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgQ29sbGVjdGlvbj1yZXF1aXJlKCIuLi91dGlsL0NvbGxlY3Rpb24iKTtjb25zdCBVc2VyQ29ubmVjdGlvbj1yZXF1aXJlKCIuL1VzZXJDb25uZWN0aW9uIik7Y2xhc3MgVXNlclByb2ZpbGV7Y29uc3RydWN0b3IodXNlcixkYXRhKXt0aGlzLnVzZXI9dXNlcjtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6dXNlci5jbGllbnR9KTt0aGlzLm11dHVhbEd1aWxkcz1uZXcgQ29sbGVjdGlvbjt0aGlzLmNvbm5lY3Rpb25zPW5ldyBDb2xsZWN0aW9uO3RoaXMuc2V0dXAoZGF0YSl9c2V0dXAoZGF0YSl7dGhpcy5wcmVtaXVtPWRhdGEucHJlbWl1bTtmb3IoY29uc3QgZ3VpbGQgb2YgZGF0YS5tdXR1YWxfZ3VpbGRzKXtpZih0aGlzLmNsaWVudC5ndWlsZHMuaGFzKGd1aWxkLmlkKSl7dGhpcy5tdXR1YWxHdWlsZHMuc2V0KGd1aWxkLmlkLHRoaXMuY2xpZW50Lmd1aWxkcy5nZXQoZ3VpbGQuaWQpKX19Zm9yKGNvbnN0IGNvbm5lY3Rpb24gb2YgZGF0YS5jb25uZWN0ZWRfYWNjb3VudHMpe3RoaXMuY29ubmVjdGlvbnMuc2V0KGNvbm5lY3Rpb24uaWQsbmV3IFVzZXJDb25uZWN0aW9uKHRoaXMudXNlcixjb25uZWN0aW9uKSl9fX1tb2R1bGUuZXhwb3J0cz1Vc2VyUHJvZmlsZX0seyIuLi91dGlsL0NvbGxlY3Rpb24iOjEzMywiLi9Vc2VyQ29ubmVjdGlvbiI6MTI2fV0sMTI4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjb25zdCBHdWlsZENoYW5uZWw9cmVxdWlyZSgiLi9HdWlsZENoYW5uZWwiKTtjb25zdCBDb2xsZWN0aW9uPXJlcXVpcmUoIi4uL3V0aWwvQ29sbGVjdGlvbiIpO2NsYXNzIFZvaWNlQ2hhbm5lbCBleHRlbmRzIEd1aWxkQ2hhbm5lbHtjb25zdHJ1Y3RvcihndWlsZCxkYXRhKXtzdXBlcihndWlsZCxkYXRhKTt0aGlzLm1lbWJlcnM9bmV3IENvbGxlY3Rpb247dGhpcy50eXBlPSJ2b2ljZSJ9c2V0dXAoZGF0YSl7c3VwZXIuc2V0dXAoZGF0YSk7dGhpcy5iaXRyYXRlPWRhdGEuYml0cmF0ZTt0aGlzLnVzZXJMaW1pdD1kYXRhLnVzZXJfbGltaXR9Z2V0IGNvbm5lY3Rpb24oKXtjb25zdCBjb25uZWN0aW9uPXRoaXMuZ3VpbGQudm9pY2VDb25uZWN0aW9uO2lmKGNvbm5lY3Rpb24mJmNvbm5lY3Rpb24uY2hhbm5lbC5pZD09PXRoaXMuaWQpcmV0dXJuIGNvbm5lY3Rpb247cmV0dXJuIG51bGx9Z2V0IGpvaW5hYmxlKCl7aWYodGhpcy5jbGllbnQuYnJvd3NlcilyZXR1cm4gZmFsc2U7cmV0dXJuIHRoaXMucGVybWlzc2lvbnNGb3IodGhpcy5jbGllbnQudXNlcikuaGFzUGVybWlzc2lvbigiQ09OTkVDVCIpfWdldCBzcGVha2FibGUoKXtyZXR1cm4gdGhpcy5wZXJtaXNzaW9uc0Zvcih0aGlzLmNsaWVudC51c2VyKS5oYXNQZXJtaXNzaW9uKCJTUEVBSyIpfXNldEJpdHJhdGUoYml0cmF0ZSl7cmV0dXJuIHRoaXMuZWRpdCh7Yml0cmF0ZTpiaXRyYXRlfSl9c2V0VXNlckxpbWl0KHVzZXJMaW1pdCl7cmV0dXJuIHRoaXMuZWRpdCh7dXNlckxpbWl0OnVzZXJMaW1pdH0pfWpvaW4oKXtpZih0aGlzLmNsaWVudC5icm93c2VyKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIlZvaWNlIGNvbm5lY3Rpb25zIGFyZSBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXJzLiIpKTtyZXR1cm4gdGhpcy5jbGllbnQudm9pY2Uuam9pbkNoYW5uZWwodGhpcyl9bGVhdmUoKXtpZih0aGlzLmNsaWVudC5icm93c2VyKXJldHVybjtjb25zdCBjb25uZWN0aW9uPXRoaXMuY2xpZW50LnZvaWNlLmNvbm5lY3Rpb25zLmdldCh0aGlzLmd1aWxkLmlkKTtpZihjb25uZWN0aW9uJiZjb25uZWN0aW9uLmNoYW5uZWwuaWQ9PT10aGlzLmlkKWNvbm5lY3Rpb24uZGlzY29ubmVjdCgpfX1tb2R1bGUuZXhwb3J0cz1Wb2ljZUNoYW5uZWx9LHsiLi4vdXRpbC9Db2xsZWN0aW9uIjoxMzMsIi4vR3VpbGRDaGFubmVsIjoxMDh9XSwxMjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IHBhdGg9cmVxdWlyZSgicGF0aCIpO2NvbnN0IGVzY2FwZU1hcmtkb3duPXJlcXVpcmUoIi4uL3V0aWwvRXNjYXBlTWFya2Rvd24iKTtjbGFzcyBXZWJob29re2NvbnN0cnVjdG9yKGNsaWVudCxkYXRhT3JJRCx0b2tlbil7aWYoY2xpZW50KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2xpZW50Iix7dmFsdWU6Y2xpZW50fSk7aWYoZGF0YU9ySUQpdGhpcy5zZXR1cChkYXRhT3JJRCl9ZWxzZXt0aGlzLmlkPWRhdGFPcklEO3RoaXMudG9rZW49dG9rZW47T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNsaWVudCIse3ZhbHVlOnRoaXN9KX19c2V0dXAoZGF0YSl7dGhpcy5uYW1lPWRhdGEubmFtZTt0aGlzLnRva2VuPWRhdGEudG9rZW47dGhpcy5hdmF0YXI9ZGF0YS5hdmF0YXI7dGhpcy5pZD1kYXRhLmlkO3RoaXMuZ3VpbGRJRD1kYXRhLmd1aWxkX2lkO3RoaXMuY2hhbm5lbElEPWRhdGEuY2hhbm5lbF9pZDtpZihkYXRhLnVzZXIpdGhpcy5vd25lcj1kYXRhLnVzZXJ9c2VuZE1lc3NhZ2UoY29udGVudCxvcHRpb25zPXt9KXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRXZWJob29rTWVzc2FnZSh0aGlzLGNvbnRlbnQsb3B0aW9ucyl9c2VuZFNsYWNrTWVzc2FnZShib2R5KXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRTbGFja1dlYmhvb2tNZXNzYWdlKHRoaXMsYm9keSl9c2VuZFRUU01lc3NhZ2UoY29udGVudCxvcHRpb25zPXt9KXtPYmplY3QuYXNzaWduKG9wdGlvbnMse3R0czp0cnVlfSk7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5zZW5kV2ViaG9va01lc3NhZ2UodGhpcyxjb250ZW50LG9wdGlvbnMpfXNlbmRGaWxlKGF0dGFjaG1lbnQsZmlsZU5hbWUsY29udGVudCxvcHRpb25zPXt9KXtpZighZmlsZU5hbWUpe2lmKHR5cGVvZiBhdHRhY2htZW50PT09InN0cmluZyIpe2ZpbGVOYW1lPXBhdGguYmFzZW5hbWUoYXR0YWNobWVudCl9ZWxzZSBpZihhdHRhY2htZW50JiZhdHRhY2htZW50LnBhdGgpe2ZpbGVOYW1lPXBhdGguYmFzZW5hbWUoYXR0YWNobWVudC5wYXRoKX1lbHNle2ZpbGVOYW1lPSJmaWxlLmpwZyJ9fXJldHVybiB0aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlQnVmZmVyKGF0dGFjaG1lbnQpLnRoZW4oZmlsZT0+dGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRXZWJob29rTWVzc2FnZSh0aGlzLGNvbnRlbnQsb3B0aW9ucyx7ZmlsZTpmaWxlLG5hbWU6ZmlsZU5hbWV9KSl9c2VuZENvZGUobGFuZyxjb250ZW50LG9wdGlvbnM9e30pe2lmKG9wdGlvbnMuc3BsaXQpe2lmKHR5cGVvZiBvcHRpb25zLnNwbGl0IT09Im9iamVjdCIpb3B0aW9ucy5zcGxpdD17fTtpZighb3B0aW9ucy5zcGxpdC5wcmVwZW5kKW9wdGlvbnMuc3BsaXQucHJlcGVuZD1gXGBcYFxgJHtsYW5nfHwiIn0KYDtpZighb3B0aW9ucy5zcGxpdC5hcHBlbmQpb3B0aW9ucy5zcGxpdC5hcHBlbmQ9IlxuYGBgIn1jb250ZW50PWVzY2FwZU1hcmtkb3duKHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVTdHJpbmcoY29udGVudCksdHJ1ZSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2UoYFxgXGBcYCR7bGFuZ3x8IiJ9CiR7Y29udGVudH0KXGBcYFxgYCxvcHRpb25zKX1lZGl0KG5hbWU9dGhpcy5uYW1lLGF2YXRhcil7aWYoYXZhdGFyKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJ1ZmZlcihhdmF0YXIpLnRoZW4oZmlsZT0+e2NvbnN0IGRhdGFVUkk9dGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUJhc2U2NChmaWxlKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmVkaXRXZWJob29rKHRoaXMsbmFtZSxkYXRhVVJJKX0pfXJldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZWRpdFdlYmhvb2sodGhpcyxuYW1lKS50aGVuKGRhdGE9Pnt0aGlzLnNldHVwKGRhdGEpO3JldHVybiB0aGlzfSl9ZGVsZXRlKCl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5kZWxldGVXZWJob29rKHRoaXMpfX1tb2R1bGUuZXhwb3J0cz1XZWJob29rfSx7Ii4uL3V0aWwvRXNjYXBlTWFya2Rvd24iOjEzNixwYXRoOjE5MX1dLDEzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Y29uc3QgcGF0aD1yZXF1aXJlKCJwYXRoIik7Y29uc3QgTWVzc2FnZT1yZXF1aXJlKCIuLi9NZXNzYWdlIik7Y29uc3QgTWVzc2FnZUNvbGxlY3Rvcj1yZXF1aXJlKCIuLi9NZXNzYWdlQ29sbGVjdG9yIik7Y29uc3QgQ29sbGVjdGlvbj1yZXF1aXJlKCIuLi8uLi91dGlsL0NvbGxlY3Rpb24iKTtjbGFzcyBUZXh0QmFzZWRDaGFubmVse2NvbnN0cnVjdG9yKCl7dGhpcy5tZXNzYWdlcz1uZXcgQ29sbGVjdGlvbjt0aGlzLmxhc3RNZXNzYWdlSUQ9bnVsbH1zZW5kKGNvbnRlbnQsb3B0aW9ucyl7aWYoIW9wdGlvbnMmJnR5cGVvZiBjb250ZW50PT09Im9iamVjdCImJiEoY29udGVudCBpbnN0YW5jZW9mIEFycmF5KSl7b3B0aW9ucz1jb250ZW50O2NvbnRlbnQ9IiJ9ZWxzZSBpZighb3B0aW9ucyl7b3B0aW9ucz17fX1pZihvcHRpb25zLmZpbGUpe2lmKHR5cGVvZiBvcHRpb25zLmZpbGU9PT0ic3RyaW5nIilvcHRpb25zLmZpbGU9e2F0dGFjaG1lbnQ6b3B0aW9ucy5maWxlfTtpZighb3B0aW9ucy5maWxlLm5hbWUpe2lmKHR5cGVvZiBvcHRpb25zLmZpbGUuYXR0YWNobWVudD09PSJzdHJpbmciKXtvcHRpb25zLmZpbGUubmFtZT1wYXRoLmJhc2VuYW1lKG9wdGlvbnMuZmlsZS5hdHRhY2htZW50KX1lbHNlIGlmKG9wdGlvbnMuZmlsZS5hdHRhY2htZW50JiZvcHRpb25zLmZpbGUuYXR0YWNobWVudC5wYXRoKXtvcHRpb25zLmZpbGUubmFtZT1wYXRoLmJhc2VuYW1lKG9wdGlvbnMuZmlsZS5hdHRhY2htZW50LnBhdGgpfWVsc2V7b3B0aW9ucy5maWxlLm5hbWU9ImZpbGUuanBnIn19cmV0dXJuIHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVCdWZmZXIob3B0aW9ucy5maWxlLmF0dGFjaG1lbnQpLnRoZW4oZmlsZT0+dGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRNZXNzYWdlKHRoaXMsY29udGVudCxvcHRpb25zLHtmaWxlOmZpbGUsbmFtZTpvcHRpb25zLmZpbGUubmFtZX0pKX1yZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRNZXNzYWdlKHRoaXMsY29udGVudCxvcHRpb25zKX1zZW5kTWVzc2FnZShjb250ZW50LG9wdGlvbnMpe3JldHVybiB0aGlzLnNlbmQoY29udGVudCxvcHRpb25zKX1zZW5kRW1iZWQoZW1iZWQsY29udGVudCxvcHRpb25zKXtpZighb3B0aW9ucyYmdHlwZW9mIGNvbnRlbnQ9PT0ib2JqZWN0Iil7b3B0aW9ucz1jb250ZW50O2NvbnRlbnQ9IiJ9ZWxzZSBpZighb3B0aW9ucyl7b3B0aW9ucz17fX1yZXR1cm4gdGhpcy5zZW5kKGNvbnRlbnQsT2JqZWN0LmFzc2lnbihvcHRpb25zLHtlbWJlZDplbWJlZH0pKX1zZW5kRmlsZShhdHRhY2htZW50LG5hbWUsY29udGVudCxvcHRpb25zPXt9KXtyZXR1cm4gdGhpcy5zZW5kKGNvbnRlbnQsT2JqZWN0LmFzc2lnbihvcHRpb25zLHtmaWxlOnthdHRhY2htZW50OmF0dGFjaG1lbnQsbmFtZTpuYW1lfX0pKX1zZW5kQ29kZShsYW5nLGNvbnRlbnQsb3B0aW9ucz17fSl7cmV0dXJuIHRoaXMuc2VuZChjb250ZW50LE9iamVjdC5hc3NpZ24ob3B0aW9ucyx7Y29kZTpsYW5nfSkpfWZldGNoTWVzc2FnZShtZXNzYWdlSUQpe3JldHVybiB0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuZ2V0Q2hhbm5lbE1lc3NhZ2UodGhpcyxtZXNzYWdlSUQpLnRoZW4oZGF0YT0+e2NvbnN0IG1zZz1kYXRhIGluc3RhbmNlb2YgTWVzc2FnZT9kYXRhOm5ldyBNZXNzYWdlKHRoaXMsZGF0YSx0aGlzLmNsaWVudCk7dGhpcy5fY2FjaGVNZXNzYWdlKG1zZyk7cmV0dXJuIG1zZ30pfWZldGNoTWVzc2FnZXMob3B0aW9ucz17fSl7cmV0dXJuIHRoaXMuY2xpZW50LnJlc3QubWV0aG9kcy5nZXRDaGFubmVsTWVzc2FnZXModGhpcyxvcHRpb25zKS50aGVuKGRhdGE9Pntjb25zdCBtZXNzYWdlcz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgbWVzc2FnZSBvZiBkYXRhKXtjb25zdCBtc2c9bmV3IE1lc3NhZ2UodGhpcyxtZXNzYWdlLHRoaXMuY2xpZW50KTttZXNzYWdlcy5zZXQobWVzc2FnZS5pZCxtc2cpO3RoaXMuX2NhY2hlTWVzc2FnZShtc2cpfXJldHVybiBtZXNzYWdlc30pfWZldGNoUGlubmVkTWVzc2FnZXMoKXtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmdldENoYW5uZWxQaW5uZWRNZXNzYWdlcyh0aGlzKS50aGVuKGRhdGE9Pntjb25zdCBtZXNzYWdlcz1uZXcgQ29sbGVjdGlvbjtmb3IoY29uc3QgbWVzc2FnZSBvZiBkYXRhKXtjb25zdCBtc2c9bmV3IE1lc3NhZ2UodGhpcyxtZXNzYWdlLHRoaXMuY2xpZW50KTttZXNzYWdlcy5zZXQobWVzc2FnZS5pZCxtc2cpO3RoaXMuX2NhY2hlTWVzc2FnZShtc2cpfXJldHVybiBtZXNzYWdlc30pfXN0YXJ0VHlwaW5nKGNvdW50KXtpZih0eXBlb2YgY291bnQhPT0idW5kZWZpbmVkIiYmY291bnQ8MSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQ291bnQgbXVzdCBiZSBhdCBsZWFzdCAxLiIpO2lmKCF0aGlzLmNsaWVudC51c2VyLl90eXBpbmcuaGFzKHRoaXMuaWQpKXt0aGlzLmNsaWVudC51c2VyLl90eXBpbmcuc2V0KHRoaXMuaWQse2NvdW50OmNvdW50fHwxLGludGVydmFsOnRoaXMuY2xpZW50LnNldEludGVydmFsKCgpPT57dGhpcy5jbGllbnQucmVzdC5tZXRob2RzLnNlbmRUeXBpbmcodGhpcy5pZCl9LDRlMyl9KTt0aGlzLmNsaWVudC5yZXN0Lm1ldGhvZHMuc2VuZFR5cGluZyh0aGlzLmlkKX1lbHNle2NvbnN0IGVudHJ5PXRoaXMuY2xpZW50LnVzZXIuX3R5cGluZy5nZXQodGhpcy5pZCk7ZW50cnkuY291bnQ9Y291bnR8fGVudHJ5LmNvdW50KzF9fXN0b3BUeXBpbmcoZm9yY2U9ZmFsc2Upe2lmKHRoaXMuY2xpZW50LnVzZXIuX3R5cGluZy5oYXModGhpcy5pZCkpe2NvbnN0IGVudHJ5PXRoaXMuY2xpZW50LnVzZXIuX3R5cGluZy5nZXQodGhpcy5pZCk7ZW50cnkuY291bnQtLTtpZihlbnRyeS5jb3VudDw9MHx8Zm9yY2Upe3RoaXMuY2xpZW50LmNsZWFySW50ZXJ2YWwoZW50cnkuaW50ZXJ2YWwpO3RoaXMuY2xpZW50LnVzZXIuX3R5cGluZy5kZWxldGUodGhpcy5pZCl9fX1nZXQgdHlwaW5nKCl7cmV0dXJuIHRoaXMuY2xpZW50LnVzZXIuX3R5cGluZy5oYXModGhpcy5pZCl9Z2V0IHR5cGluZ0NvdW50KCl7aWYodGhpcy5jbGllbnQudXNlci5fdHlwaW5nLmhhcyh0aGlzLmlkKSlyZXR1cm4gdGhpcy5jbGllbnQudXNlci5fdHlwaW5nLmdldCh0aGlzLmlkKS5jb3VudDtyZXR1cm4gMH1jcmVhdGVDb2xsZWN0b3IoZmlsdGVyLG9wdGlvbnM9e30pe3JldHVybiBuZXcgTWVzc2FnZUNvbGxlY3Rvcih0aGlzLGZpbHRlcixvcHRpb25zKX1hd2FpdE1lc3NhZ2VzKGZpbHRlcixvcHRpb25zPXt9KXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2NvbnN0IGNvbGxlY3Rvcj10aGlzLmNyZWF0ZUNvbGxlY3RvcihmaWx0ZXIsb3B0aW9ucyk7Y29sbGVjdG9yLm9uKCJlbmQiLChjb2xsZWN0aW9uLHJlYXNvbik9PntpZihvcHRpb25zLmVycm9ycyYmb3B0aW9ucy5lcnJvcnMuaW5jbHVkZXMocmVhc29uKSl7cmVqZWN0KGNvbGxlY3Rpb24pfWVsc2V7cmVzb2x2ZShjb2xsZWN0aW9uKX19KX0pfWJ1bGtEZWxldGUobWVzc2FnZXMpe2lmKCFpc05hTihtZXNzYWdlcykpcmV0dXJuIHRoaXMuZmV0Y2hNZXNzYWdlcyh7bGltaXQ6bWVzc2FnZXN9KS50aGVuKG1zZ3M9PnRoaXMuYnVsa0RlbGV0ZShtc2dzKSk7aWYobWVzc2FnZXMgaW5zdGFuY2VvZiBBcnJheXx8bWVzc2FnZXMgaW5zdGFuY2VvZiBDb2xsZWN0aW9uKXtjb25zdCBtZXNzYWdlSURzPW1lc3NhZ2VzIGluc3RhbmNlb2YgQ29sbGVjdGlvbj9tZXNzYWdlcy5rZXlBcnJheSgpOm1lc3NhZ2VzLm1hcChtPT5tLmlkKTtyZXR1cm4gdGhpcy5jbGllbnQucmVzdC5tZXRob2RzLmJ1bGtEZWxldGVNZXNzYWdlcyh0aGlzLG1lc3NhZ2VJRHMpfXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBtZXNzYWdlcyBtdXN0IGJlIGFuIEFycmF5LCBDb2xsZWN0aW9uLCBvciBudW1iZXIuIil9X2NhY2hlTWVzc2FnZShtZXNzYWdlKXtjb25zdCBtYXhTaXplPXRoaXMuY2xpZW50Lm9wdGlvbnMubWVzc2FnZUNhY2hlTWF4U2l6ZTtpZihtYXhTaXplPT09MClyZXR1cm4gbnVsbDtpZih0aGlzLm1lc3NhZ2VzLnNpemU+PW1heFNpemUmJm1heFNpemU+MCl0aGlzLm1lc3NhZ2VzLmRlbGV0ZSh0aGlzLm1lc3NhZ2VzLmZpcnN0S2V5KCkpO3RoaXMubWVzc2FnZXMuc2V0KG1lc3NhZ2UuaWQsbWVzc2FnZSk7cmV0dXJuIG1lc3NhZ2V9fWV4cG9ydHMuYXBwbHlUb0NsYXNzPSgoc3RydWN0dXJlLGZ1bGw9ZmFsc2UpPT57Y29uc3QgcHJvcHM9WyJzZW5kIiwic2VuZE1lc3NhZ2UiLCJzZW5kRW1iZWQiLCJzZW5kRmlsZSIsInNlbmRDb2RlIl07aWYoZnVsbCl7cHJvcHMucHVzaCgiX2NhY2hlTWVzc2FnZSIsImZldGNoTWVzc2FnZXMiLCJmZXRjaE1lc3NhZ2UiLCJidWxrRGVsZXRlIiwic3RhcnRUeXBpbmciLCJzdG9wVHlwaW5nIiwidHlwaW5nIiwidHlwaW5nQ291bnQiLCJmZXRjaFBpbm5lZE1lc3NhZ2VzIiwiY3JlYXRlQ29sbGVjdG9yIiwiYXdhaXRNZXNzYWdlcyIpfWZvcihjb25zdCBwcm9wIG9mIHByb3BzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RydWN0dXJlLnByb3RvdHlwZSxwcm9wLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVGV4dEJhc2VkQ2hhbm5lbC5wcm90b3R5cGUscHJvcCkpfX0pfSx7Ii4uLy4uL3V0aWwvQ29sbGVjdGlvbiI6MTMzLCIuLi9NZXNzYWdlIjoxMTEsIi4uL01lc3NhZ2VDb2xsZWN0b3IiOjExMyxwYXRoOjE5MX1dLDEzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gYXJyYXlzRXF1YWwoYSxiKXtpZihhPT09YilyZXR1cm4gdHJ1ZTtpZihhLmxlbmd0aCE9PWIubGVuZ3RoKXJldHVybiBmYWxzZTtmb3IoY29uc3QgaXRlbUluZCBpbiBhKXtjb25zdCBpdGVtPWFbaXRlbUluZF07Y29uc3QgaW5kPWIuaW5kZXhPZihpdGVtKTtpZihpbmQpe2Iuc3BsaWNlKGluZCwxKX19cmV0dXJuIGIubGVuZ3RoPT09MH19LHt9XSwxMzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGNsb25lT2JqZWN0KG9iail7Y29uc3QgY2xvbmVkPU9iamVjdC5jcmVhdGUob2JqKTtPYmplY3QuYXNzaWduKGNsb25lZCxvYmopO3JldHVybiBjbG9uZWR9fSx7fV0sMTMzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtjbGFzcyBDb2xsZWN0aW9uIGV4dGVuZHMgTWFwe2NvbnN0cnVjdG9yKGl0ZXJhYmxlKXtzdXBlcihpdGVyYWJsZSk7dGhpcy5fYXJyYXk9bnVsbDt0aGlzLl9rZXlBcnJheT1udWxsfXNldChrZXksdmFsKXt0aGlzLl9hcnJheT1udWxsO3RoaXMuX2tleUFycmF5PW51bGw7cmV0dXJuIHN1cGVyLnNldChrZXksdmFsKX1kZWxldGUoa2V5KXt0aGlzLl9hcnJheT1udWxsO3RoaXMuX2tleUFycmF5PW51bGw7cmV0dXJuIHN1cGVyLmRlbGV0ZShrZXkpfWFycmF5KCl7aWYoIXRoaXMuX2FycmF5fHx0aGlzLl9hcnJheS5sZW5ndGghPT10aGlzLnNpemUpdGhpcy5fYXJyYXk9QXJyYXkuZnJvbSh0aGlzLnZhbHVlcygpKTtyZXR1cm4gdGhpcy5fYXJyYXl9a2V5QXJyYXkoKXtpZighdGhpcy5fa2V5QXJyYXl8fHRoaXMuX2tleUFycmF5Lmxlbmd0aCE9PXRoaXMuc2l6ZSl0aGlzLl9rZXlBcnJheT1BcnJheS5mcm9tKHRoaXMua2V5cygpKTtyZXR1cm4gdGhpcy5fa2V5QXJyYXl9Zmlyc3QoKXtyZXR1cm4gdGhpcy52YWx1ZXMoKS5uZXh0KCkudmFsdWV9Zmlyc3RLZXkoKXtyZXR1cm4gdGhpcy5rZXlzKCkubmV4dCgpLnZhbHVlfWxhc3QoKXtjb25zdCBhcnI9dGhpcy5hcnJheSgpO3JldHVybiBhcnJbYXJyLmxlbmd0aC0xXX1sYXN0S2V5KCl7Y29uc3QgYXJyPXRoaXMua2V5QXJyYXkoKTtyZXR1cm4gYXJyW2Fyci5sZW5ndGgtMV19cmFuZG9tKCl7Y29uc3QgYXJyPXRoaXMuYXJyYXkoKTtyZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSphcnIubGVuZ3RoKV19cmFuZG9tS2V5KCl7Y29uc3QgYXJyPXRoaXMua2V5QXJyYXkoKTtyZXR1cm4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSphcnIubGVuZ3RoKV19ZmluZEFsbChwcm9wLHZhbHVlKXtpZih0eXBlb2YgcHJvcCE9PSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoIktleSBtdXN0IGJlIGEgc3RyaW5nLiIpO2lmKHR5cGVvZiB2YWx1ZT09PSJ1bmRlZmluZWQiKXRocm93IG5ldyBFcnJvcigiVmFsdWUgbXVzdCBiZSBzcGVjaWZpZWQuIik7Y29uc3QgcmVzdWx0cz1bXTtmb3IoY29uc3QgaXRlbSBvZiB0aGlzLnZhbHVlcygpKXtpZihpdGVtW3Byb3BdPT09dmFsdWUpcmVzdWx0cy5wdXNoKGl0ZW0pfXJldHVybiByZXN1bHRzfWZpbmQocHJvcE9yRm4sdmFsdWUpe2lmKHR5cGVvZiBwcm9wT3JGbj09PSJzdHJpbmciKXtpZih0eXBlb2YgdmFsdWU9PT0idW5kZWZpbmVkIil0aHJvdyBuZXcgRXJyb3IoIlZhbHVlIG11c3QgYmUgc3BlY2lmaWVkLiIpO2lmKHByb3BPckZuPT09ImlkIil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRG9uJ3QgdXNlIC5maW5kKCkgd2l0aCBJRHMuIEluc3RlYWQsIHVzZSAuZ2V0KGlkKS4iKTtmb3IoY29uc3QgaXRlbSBvZiB0aGlzLnZhbHVlcygpKXtpZihpdGVtW3Byb3BPckZuXT09PXZhbHVlKXJldHVybiBpdGVtfXJldHVybiBudWxsfWVsc2UgaWYodHlwZW9mIHByb3BPckZuPT09ImZ1bmN0aW9uIil7Zm9yKGNvbnN0W2tleSx2YWxdb2YgdGhpcyl7aWYocHJvcE9yRm4odmFsLGtleSx0aGlzKSlyZXR1cm4gdmFsfXJldHVybiBudWxsfWVsc2V7dGhyb3cgbmV3IEVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcHJvcGVydHkgc3RyaW5nIG9yIGEgZnVuY3Rpb24uIil9fWZpbmRLZXkocHJvcE9yRm4sdmFsdWUpe2lmKHR5cGVvZiBwcm9wT3JGbj09PSJzdHJpbmciKXtpZih0eXBlb2YgdmFsdWU9PT0idW5kZWZpbmVkIil0aHJvdyBuZXcgRXJyb3IoIlZhbHVlIG11c3QgYmUgc3BlY2lmaWVkLiIpO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpe2lmKHZhbFtwcm9wT3JGbl09PT12YWx1ZSlyZXR1cm4ga2V5fXJldHVybiBudWxsfWVsc2UgaWYodHlwZW9mIHByb3BPckZuPT09ImZ1bmN0aW9uIil7Zm9yKGNvbnN0W2tleSx2YWxdb2YgdGhpcyl7aWYocHJvcE9yRm4odmFsLGtleSx0aGlzKSlyZXR1cm4ga2V5fXJldHVybiBudWxsfWVsc2V7dGhyb3cgbmV3IEVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcHJvcGVydHkgc3RyaW5nIG9yIGEgZnVuY3Rpb24uIil9fWV4aXN0cyhwcm9wLHZhbHVlKXtpZihwcm9wPT09ImlkIil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRG9uJ3QgdXNlIC5leGlzdHMoKSB3aXRoIElEcy4gSW5zdGVhZCwgdXNlIC5oYXMoaWQpLiIpO3JldHVybiBCb29sZWFuKHRoaXMuZmluZChwcm9wLHZhbHVlKSl9ZmlsdGVyKGZuLHRoaXNBcmcpe2lmKHRoaXNBcmcpZm49Zm4uYmluZCh0aGlzQXJnKTtjb25zdCByZXN1bHRzPW5ldyBDb2xsZWN0aW9uO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpe2lmKGZuKHZhbCxrZXksdGhpcykpcmVzdWx0cy5zZXQoa2V5LHZhbCl9cmV0dXJuIHJlc3VsdHN9ZmlsdGVyQXJyYXkoZm4sdGhpc0FyZyl7aWYodGhpc0FyZylmbj1mbi5iaW5kKHRoaXNBcmcpO2NvbnN0IHJlc3VsdHM9W107Zm9yKGNvbnN0W2tleSx2YWxdb2YgdGhpcyl7aWYoZm4odmFsLGtleSx0aGlzKSlyZXN1bHRzLnB1c2godmFsKX1yZXR1cm4gcmVzdWx0c31tYXAoZm4sdGhpc0FyZyl7aWYodGhpc0FyZylmbj1mbi5iaW5kKHRoaXNBcmcpO2NvbnN0IGFycj1uZXcgQXJyYXkodGhpcy5zaXplKTtsZXQgaT0wO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpYXJyW2krK109Zm4odmFsLGtleSx0aGlzKTtyZXR1cm4gYXJyfXNvbWUoZm4sdGhpc0FyZyl7aWYodGhpc0FyZylmbj1mbi5iaW5kKHRoaXNBcmcpO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpe2lmKGZuKHZhbCxrZXksdGhpcykpcmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfWV2ZXJ5KGZuLHRoaXNBcmcpe2lmKHRoaXNBcmcpZm49Zm4uYmluZCh0aGlzQXJnKTtmb3IoY29uc3Rba2V5LHZhbF1vZiB0aGlzKXtpZighZm4odmFsLGtleSx0aGlzKSlyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9cmVkdWNlKGZuLGluaXRpYWxWYWx1ZSl7bGV0IGFjY3VtdWxhdG9yO2lmKHR5cGVvZiBpbml0aWFsVmFsdWUhPT0idW5kZWZpbmVkIil7YWNjdW11bGF0b3I9aW5pdGlhbFZhbHVlO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpYWNjdW11bGF0b3I9Zm4oYWNjdW11bGF0b3IsdmFsLGtleSx0aGlzKX1lbHNle2xldCBmaXJzdD10cnVlO2Zvcihjb25zdFtrZXksdmFsXW9mIHRoaXMpe2lmKGZpcnN0KXthY2N1bXVsYXRvcj12YWw7Zmlyc3Q9ZmFsc2U7Y29udGludWV9YWNjdW11bGF0b3I9Zm4oYWNjdW11bGF0b3IsdmFsLGtleSx0aGlzKX19cmV0dXJuIGFjY3VtdWxhdG9yfWNvbmNhdCguLi5jb2xsZWN0aW9ucyl7Y29uc3QgbmV3Q29sbD1uZXcgdGhpcy5jb25zdHJ1Y3Rvcjtmb3IoY29uc3Rba2V5LHZhbF1vZiB0aGlzKW5ld0NvbGwuc2V0KGtleSx2YWwpO2Zvcihjb25zdCBjb2xsIG9mIGNvbGxlY3Rpb25zKXtmb3IoY29uc3Rba2V5LHZhbF1vZiBjb2xsKW5ld0NvbGwuc2V0KGtleSx2YWwpfXJldHVybiBuZXdDb2xsfWRlbGV0ZUFsbCgpe2NvbnN0IHJldHVybnM9W107Zm9yKGNvbnN0IGl0ZW0gb2YgdGhpcy52YWx1ZXMoKSl7aWYoaXRlbS5kZWxldGUpcmV0dXJucy5wdXNoKGl0ZW0uZGVsZXRlKCkpfXJldHVybiByZXR1cm5zfWVxdWFscyhjb2xsZWN0aW9uKXtpZighY29sbGVjdGlvbilyZXR1cm4gZmFsc2U7aWYodGhpcz09PWNvbGxlY3Rpb24pcmV0dXJuIHRydWU7aWYodGhpcy5zaXplIT09Y29sbGVjdGlvbi5zaXplKXJldHVybiBmYWxzZTtyZXR1cm4hdGhpcy5maW5kKCh2YWx1ZSxrZXkpPT57Y29uc3QgdGVzdFZhbD1jb2xsZWN0aW9uLmdldChrZXkpO3JldHVybiB0ZXN0VmFsIT09dmFsdWV8fHRlc3RWYWw9PT11bmRlZmluZWQmJiFjb2xsZWN0aW9uLmhhcyhrZXkpfSl9fW1vZHVsZS5leHBvcnRzPUNvbGxlY3Rpb259LHt9XSwxMzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXtleHBvcnRzLlBhY2thZ2U9cmVxdWlyZSgiLi4vLi4vcGFja2FnZS5qc29uIik7ZXhwb3J0cy5EZWZhdWx0T3B0aW9ucz17YXBpUmVxdWVzdE1ldGhvZDoic2VxdWVudGlhbCIsc2hhcmRJZDowLHNoYXJkQ291bnQ6MCxtZXNzYWdlQ2FjaGVNYXhTaXplOjIwMCxtZXNzYWdlQ2FjaGVMaWZldGltZTowLG1lc3NhZ2VTd2VlcEludGVydmFsOjAsZmV0Y2hBbGxNZW1iZXJzOmZhbHNlLGRpc2FibGVFdmVyeW9uZTpmYWxzZSxzeW5jOmZhbHNlLHJlc3RXc0JyaWRnZVRpbWVvdXQ6NWUzLGRpc2FibGVkRXZlbnRzOltdLHJlc3RUaW1lT2Zmc2V0OjUwMCx3czp7bGFyZ2VfdGhyZXNob2xkOjI1MCxjb21wcmVzczp0eXBlb2Ygd2luZG93PT09InVuZGVmaW5lZCIscHJvcGVydGllczp7JG9zOnByb2Nlc3M/cHJvY2Vzcy5wbGF0Zm9ybToiZGlzY29yZC5qcyIsJGJyb3dzZXI6ImRpc2NvcmQuanMiLCRkZXZpY2U6ImRpc2NvcmQuanMiLCRyZWZlcnJlcjoiIiwkcmVmZXJyaW5nX2RvbWFpbjoiIn19fTtleHBvcnRzLkVycm9ycz17Tk9fVE9LRU46IlJlcXVlc3QgdG8gdXNlIHRva2VuLCBidXQgdG9rZW4gd2FzIHVuYXZhaWxhYmxlIHRvIHRoZSBjbGllbnQuIixOT19CT1RfQUNDT1VOVDoiT25seSBib3QgYWNjb3VudHMgYXJlIGFibGUgdG8gbWFrZSB1c2Ugb2YgdGhpcyBmZWF0dXJlLiIsTk9fVVNFUl9BQ0NPVU5UOiJPbmx5IHVzZXIgYWNjb3VudHMgYXJlIGFibGUgdG8gbWFrZSB1c2Ugb2YgdGhpcyBmZWF0dXJlLiIsQkFEX1dTX01FU1NBR0U6IkEgYmFkIG1lc3NhZ2Ugd2FzIHJlY2VpdmVkIGZyb20gdGhlIHdlYnNvY2tldDsgZWl0aGVyIGJhZCBjb21wcmVzc2lvbiwgb3Igbm90IEpTT04uIixUT09LX1RPT19MT05HOiJTb21ldGhpbmcgdG9vayB0b28gbG9uZyB0byBkby4iLE5PVF9BX1BFUk1JU1NJT046IkludmFsaWQgcGVybWlzc2lvbiBzdHJpbmcgb3IgbnVtYmVyLiIsSU5WQUxJRF9SQVRFX0xJTUlUX01FVEhPRDoiVW5rbm93biByYXRlIGxpbWl0aW5nIG1ldGhvZC4iLEJBRF9MT0dJTjoiSW5jb3JyZWN0IGxvZ2luIGRldGFpbHMgd2VyZSBwcm92aWRlZC4iLElOVkFMSURfU0hBUkQ6IkludmFsaWQgc2hhcmQgc2V0dGluZ3Mgd2VyZSBwcm92aWRlZC4iLElOVkFMSURfVE9LRU46IkFuIGludmFsaWQgdG9rZW4gd2FzIHByb3ZpZGVkLiJ9O2NvbnN0IFBST1RPQ09MX1ZFUlNJT049ZXhwb3J0cy5QUk9UT0NPTF9WRVJTSU9OPTY7Y29uc3QgSE9TVD1leHBvcnRzLkhPU1Q9YGh0dHBzOi8vZGlzY29yZGFwcC5jb21gO2NvbnN0IEFQST1leHBvcnRzLkFQST1gJHtIT1NUfS9hcGkvdiR7UFJPVE9DT0xfVkVSU0lPTn1gO2NvbnN0IEVuZHBvaW50cz1leHBvcnRzLkVuZHBvaW50cz17bG9naW46YCR7QVBJfS9hdXRoL2xvZ2luYCxsb2dvdXQ6YCR7QVBJfS9hdXRoL2xvZ291dGAsZ2F0ZXdheTpgJHtBUEl9L2dhdGV3YXlgLGJvdEdhdGV3YXk6YCR7QVBJfS9nYXRld2F5L2JvdGAsaW52aXRlOmlkPT5gJHtBUEl9L2ludml0ZS8ke2lkfWAsaW52aXRlTGluazppZD0+YGh0dHBzOi8vZGlzY29yZC5nZy8ke2lkfWAsYXNzZXRzOmFzc2V0PT5gJHtIT1NUfS9hc3NldHMvJHthc3NldH1gLENETjoiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20iLHVzZXI6dXNlcklEPT5gJHtBUEl9L3VzZXJzLyR7dXNlcklEfWAsdXNlckNoYW5uZWxzOnVzZXJJRD0+YCR7RW5kcG9pbnRzLnVzZXIodXNlcklEKX0vY2hhbm5lbHNgLHVzZXJQcm9maWxlOnVzZXJJRD0+YCR7RW5kcG9pbnRzLnVzZXIodXNlcklEKX0vcHJvZmlsZWAsYXZhdGFyOih1c2VySUQsYXZhdGFyKT0+e2lmKHVzZXJJRD09PSIxIilyZXR1cm4gYXZhdGFyO3JldHVybmAke0VuZHBvaW50cy5DRE59L2F2YXRhcnMvJHt1c2VySUR9LyR7YXZhdGFyfS4ke2F2YXRhci5zdGFydHNXaXRoKCJhXyIpPyJnaWYiOiJqcGcifT9zaXplPTEwMjRgfSxtZTpgJHtBUEl9L3VzZXJzL0BtZWAsbWVHdWlsZDpndWlsZElEPT5gJHtFbmRwb2ludHMubWV9L2d1aWxkcy8ke2d1aWxkSUR9YCxtZU1lbnRpb25zOihsaW1pdCxyb2xlcyxldmVyeW9uZSxndWlsZElEKT0+YHVzZXJzL0BtZS9tZW50aW9ucz9saW1pdD0ke2xpbWl0fSZyb2xlcz0ke3JvbGVzfSZldmVyeW9uZT0ke2V2ZXJ5b25lfSR7Z3VpbGRJRD9gJmd1aWxkX2lkPSR7Z3VpbGRJRH1gOiIifWAscmVsYXRpb25zaGlwczp1c2VySUQ9PmAke0VuZHBvaW50cy51c2VyKHVzZXJJRCl9L3JlbGF0aW9uc2hpcHNgLG5vdGU6dXNlcklEPT5gJHtFbmRwb2ludHMubWV9L25vdGVzLyR7dXNlcklEfWAsZ3VpbGRzOmAke0FQSX0vZ3VpbGRzYCxndWlsZDpndWlsZElEPT5gJHtFbmRwb2ludHMuZ3VpbGRzfS8ke2d1aWxkSUR9YCxndWlsZEljb246KGd1aWxkSUQsaGFzaCk9PmAke0VuZHBvaW50cy5DRE59L2ljb25zLyR7Z3VpbGRJRH0vJHtoYXNofS5qcGdgLGd1aWxkU3BsYXNoOihndWlsZElELGhhc2gpPT5gJHtFbmRwb2ludHMuQ0ROfS9zcGxhc2hlcy8ke2d1aWxkSUR9LyR7aGFzaH0uanBnYCxndWlsZFBydW5lOmd1aWxkSUQ9PmAke0VuZHBvaW50cy5ndWlsZChndWlsZElEKX0vcHJ1bmVgLGd1aWxkRW1iZWQ6Z3VpbGRJRD0+YCR7RW5kcG9pbnRzLmd1aWxkKGd1aWxkSUQpfS9lbWJlZGAsZ3VpbGRJbnZpdGVzOmd1aWxkSUQ9PmAke0VuZHBvaW50cy5ndWlsZChndWlsZElEKX0vaW52aXRlc2AsZ3VpbGRSb2xlczpndWlsZElEPT5gJHtFbmRwb2ludHMuZ3VpbGQoZ3VpbGRJRCl9L3JvbGVzYCxndWlsZFJvbGU6KGd1aWxkSUQscm9sZUlEKT0+YCR7RW5kcG9pbnRzLmd1aWxkUm9sZXMoZ3VpbGRJRCl9LyR7cm9sZUlEfWAsZ3VpbGRCYW5zOmd1aWxkSUQ9PmAke0VuZHBvaW50cy5ndWlsZChndWlsZElEKX0vYmFuc2AsZ3VpbGRJbnRlZ3JhdGlvbnM6Z3VpbGRJRD0+YCR7RW5kcG9pbnRzLmd1aWxkKGd1aWxkSUQpfS9pbnRlZ3JhdGlvbnNgLGd1aWxkTWVtYmVyczpndWlsZElEPT5gJHtFbmRwb2ludHMuZ3VpbGQoZ3VpbGRJRCl9L21lbWJlcnNgLGd1aWxkTWVtYmVyOihndWlsZElELG1lbWJlcklEKT0+YCR7RW5kcG9pbnRzLmd1aWxkTWVtYmVycyhndWlsZElEKX0vJHttZW1iZXJJRH1gLGd1aWxkTWVtYmVyUm9sZTooZ3VpbGRJRCxtZW1iZXJJRCxyb2xlSUQpPT5gJHtFbmRwb2ludHMuZ3VpbGRNZW1iZXIoZ3VpbGRJRCxtZW1iZXJJRCl9L3JvbGVzLyR7cm9sZUlEfWAsZ3VpbGRNZW1iZXJOaWNrbmFtZTpndWlsZElEPT5gJHtFbmRwb2ludHMuZ3VpbGRNZW1iZXIoZ3VpbGRJRCwiQG1lIil9L25pY2tgLGd1aWxkQ2hhbm5lbHM6Z3VpbGRJRD0+YCR7RW5kcG9pbnRzLmd1aWxkKGd1aWxkSUQpfS9jaGFubmVsc2AsZ3VpbGRFbW9qaXM6Z3VpbGRJRD0+YCR7RW5kcG9pbnRzLmd1aWxkKGd1aWxkSUQpfS9lbW9qaXNgLGNoYW5uZWxzOmAke0FQSX0vY2hhbm5lbHNgLGNoYW5uZWw6Y2hhbm5lbElEPT5gJHtFbmRwb2ludHMuY2hhbm5lbHN9LyR7Y2hhbm5lbElEfWAsY2hhbm5lbE1lc3NhZ2VzOmNoYW5uZWxJRD0+YCR7RW5kcG9pbnRzLmNoYW5uZWwoY2hhbm5lbElEKX0vbWVzc2FnZXNgLGNoYW5uZWxJbnZpdGVzOmNoYW5uZWxJRD0+YCR7RW5kcG9pbnRzLmNoYW5uZWwoY2hhbm5lbElEKX0vaW52aXRlc2AsY2hhbm5lbFR5cGluZzpjaGFubmVsSUQ9PmAke0VuZHBvaW50cy5jaGFubmVsKGNoYW5uZWxJRCl9L3R5cGluZ2AsY2hhbm5lbFBlcm1pc3Npb25zOmNoYW5uZWxJRD0+YCR7RW5kcG9pbnRzLmNoYW5uZWwoY2hhbm5lbElEKX0vcGVybWlzc2lvbnNgLGNoYW5uZWxNZXNzYWdlOihjaGFubmVsSUQsbWVzc2FnZUlEKT0+YCR7RW5kcG9pbnRzLmNoYW5uZWxNZXNzYWdlcyhjaGFubmVsSUQpfS8ke21lc3NhZ2VJRH1gLGNoYW5uZWxXZWJob29rczpjaGFubmVsSUQ9PmAke0VuZHBvaW50cy5jaGFubmVsKGNoYW5uZWxJRCl9L3dlYmhvb2tzYCxtZXNzYWdlUmVhY3Rpb25zOihjaGFubmVsSUQsbWVzc2FnZUlEKT0+YCR7RW5kcG9pbnRzLmNoYW5uZWxNZXNzYWdlKGNoYW5uZWxJRCxtZXNzYWdlSUQpfS9yZWFjdGlvbnNgLG1lc3NhZ2VSZWFjdGlvbjooY2hhbm5lbCxtc2csZW1vamksbGltaXQpPT5gJHtFbmRwb2ludHMubWVzc2FnZVJlYWN0aW9ucyhjaGFubmVsLG1zZyl9LyR7ZW1vaml9YCtgJHtsaW1pdD9gP2xpbWl0PSR7bGltaXR9YDoiIn1gLHNlbGZNZXNzYWdlUmVhY3Rpb246KGNoYW5uZWwsbXNnLGVtb2ppLGxpbWl0KT0+YCR7RW5kcG9pbnRzLm1lc3NhZ2VSZWFjdGlvbihjaGFubmVsLG1zZyxlbW9qaSxsaW1pdCl9L0BtZWAsdXNlck1lc3NhZ2VSZWFjdGlvbjooY2hhbm5lbCxtc2csZW1vamksbGltaXQsaWQpPT5gJHtFbmRwb2ludHMubWVzc2FnZVJlYWN0aW9uKGNoYW5uZWwsbXNnLGVtb2ppLGxpbWl0KX0vJHtpZH1gLHdlYmhvb2s6KHdlYmhvb2tJRCx0b2tlbik9PmAke0FQSX0vd2ViaG9va3MvJHt3ZWJob29rSUR9JHt0b2tlbj9gLyR7dG9rZW59YDoiIn1gLG15QXBwbGljYXRpb246YCR7QVBJfS9vYXV0aDIvYXBwbGljYXRpb25zL0BtZWAsZ2V0QXBwOmlkPT5gJHtBUEl9L29hdXRoMi9hdXRob3JpemU/Y2xpZW50X2lkPSR7aWR9YCxlbW9qaTplbW9qaUlEPT5gJHtFbmRwb2ludHMuQ0ROfS9lbW9qaXMvJHtlbW9qaUlEfS5wbmdgfTtleHBvcnRzLlN0YXR1cz17UkVBRFk6MCxDT05ORUNUSU5HOjEsUkVDT05ORUNUSU5HOjIsSURMRTozLE5FQVJMWTo0LERJU0NPTk5FQ1RFRDo1fTtleHBvcnRzLkNoYW5uZWxUeXBlcz17dGV4dDowLERNOjEsdm9pY2U6Mixncm91cERNOjN9O2V4cG9ydHMuT1BDb2Rlcz17RElTUEFUQ0g6MCxIRUFSVEJFQVQ6MSxJREVOVElGWToyLFNUQVRVU19VUERBVEU6MyxWT0lDRV9TVEFURV9VUERBVEU6NCxWT0lDRV9HVUlMRF9QSU5HOjUsUkVTVU1FOjYsUkVDT05ORUNUOjcsUkVRVUVTVF9HVUlMRF9NRU1CRVJTOjgsSU5WQUxJRF9TRVNTSU9OOjksSEVMTE86MTAsSEVBUlRCRUFUX0FDSzoxMX07ZXhwb3J0cy5Wb2ljZU9QQ29kZXM9e0lERU5USUZZOjAsU0VMRUNUX1BST1RPQ09MOjEsUkVBRFk6MixIRUFSVEJFQVQ6MyxTRVNTSU9OX0RFU0NSSVBUSU9OOjQsU1BFQUtJTkc6NX07ZXhwb3J0cy5FdmVudHM9e1JFQURZOiJyZWFkeSIsR1VJTERfQ1JFQVRFOiJndWlsZENyZWF0ZSIsR1VJTERfREVMRVRFOiJndWlsZERlbGV0ZSIsR1VJTERfVVBEQVRFOiJndWlsZFVwZGF0ZSIsR1VJTERfVU5BVkFJTEFCTEU6Imd1aWxkVW5hdmFpbGFibGUiLEdVSUxEX0FWQUlMQUJMRToiZ3VpbGRBdmFpbGFibGUiLEdVSUxEX01FTUJFUl9BREQ6Imd1aWxkTWVtYmVyQWRkIixHVUlMRF9NRU1CRVJfUkVNT1ZFOiJndWlsZE1lbWJlclJlbW92ZSIsR1VJTERfTUVNQkVSX1VQREFURToiZ3VpbGRNZW1iZXJVcGRhdGUiLEdVSUxEX01FTUJFUl9BVkFJTEFCTEU6Imd1aWxkTWVtYmVyQXZhaWxhYmxlIixHVUlMRF9NRU1CRVJfU1BFQUtJTkc6Imd1aWxkTWVtYmVyU3BlYWtpbmciLEdVSUxEX01FTUJFUlNfQ0hVTks6Imd1aWxkTWVtYmVyc0NodW5rIixHVUlMRF9ST0xFX0NSRUFURToicm9sZUNyZWF0ZSIsR1VJTERfUk9MRV9ERUxFVEU6InJvbGVEZWxldGUiLEdVSUxEX1JPTEVfVVBEQVRFOiJyb2xlVXBkYXRlIixHVUlMRF9FTU9KSV9DUkVBVEU6ImVtb2ppQ3JlYXRlIixHVUlMRF9FTU9KSV9ERUxFVEU6ImVtb2ppRGVsZXRlIixHVUlMRF9FTU9KSV9VUERBVEU6ImVtb2ppVXBkYXRlIixHVUlMRF9CQU5fQUREOiJndWlsZEJhbkFkZCIsR1VJTERfQkFOX1JFTU9WRToiZ3VpbGRCYW5SZW1vdmUiLENIQU5ORUxfQ1JFQVRFOiJjaGFubmVsQ3JlYXRlIixDSEFOTkVMX0RFTEVURToiY2hhbm5lbERlbGV0ZSIsQ0hBTk5FTF9VUERBVEU6ImNoYW5uZWxVcGRhdGUiLENIQU5ORUxfUElOU19VUERBVEU6ImNoYW5uZWxQaW5zVXBkYXRlIixNRVNTQUdFX0NSRUFURToibWVzc2FnZSIsTUVTU0FHRV9ERUxFVEU6Im1lc3NhZ2VEZWxldGUiLE1FU1NBR0VfVVBEQVRFOiJtZXNzYWdlVXBkYXRlIixNRVNTQUdFX0JVTEtfREVMRVRFOiJtZXNzYWdlRGVsZXRlQnVsayIsTUVTU0FHRV9SRUFDVElPTl9BREQ6Im1lc3NhZ2VSZWFjdGlvbkFkZCIsTUVTU0FHRV9SRUFDVElPTl9SRU1PVkU6Im1lc3NhZ2VSZWFjdGlvblJlbW92ZSIsTUVTU0FHRV9SRUFDVElPTl9SRU1PVkVfQUxMOiJtZXNzYWdlUmVhY3Rpb25SZW1vdmVBbGwiLFVTRVJfVVBEQVRFOiJ1c2VyVXBkYXRlIixVU0VSX05PVEVfVVBEQVRFOiJ1c2VyTm90ZVVwZGF0ZSIsUFJFU0VOQ0VfVVBEQVRFOiJwcmVzZW5jZVVwZGF0ZSIsVk9JQ0VfU1RBVEVfVVBEQVRFOiJ2b2ljZVN0YXRlVXBkYXRlIixUWVBJTkdfU1RBUlQ6InR5cGluZ1N0YXJ0IixUWVBJTkdfU1RPUDoidHlwaW5nU3RvcCIsRElTQ09OTkVDVDoiZGlzY29ubmVjdCIsUkVDT05ORUNUSU5HOiJyZWNvbm5lY3RpbmciLEVSUk9SOiJlcnJvciIsV0FSTjoid2FybiIsREVCVUc6ImRlYnVnIn07ZXhwb3J0cy5XU0V2ZW50cz17UkVBRFk6IlJFQURZIixHVUlMRF9TWU5DOiJHVUlMRF9TWU5DIixHVUlMRF9DUkVBVEU6IkdVSUxEX0NSRUFURSIsR1VJTERfREVMRVRFOiJHVUlMRF9ERUxFVEUiLEdVSUxEX1VQREFURToiR1VJTERfVVBEQVRFIixHVUlMRF9NRU1CRVJfQUREOiJHVUlMRF9NRU1CRVJfQUREIixHVUlMRF9NRU1CRVJfUkVNT1ZFOiJHVUlMRF9NRU1CRVJfUkVNT1ZFIixHVUlMRF9NRU1CRVJfVVBEQVRFOiJHVUlMRF9NRU1CRVJfVVBEQVRFIixHVUlMRF9NRU1CRVJTX0NIVU5LOiJHVUlMRF9NRU1CRVJTX0NIVU5LIixHVUlMRF9ST0xFX0NSRUFURToiR1VJTERfUk9MRV9DUkVBVEUiLEdVSUxEX1JPTEVfREVMRVRFOiJHVUlMRF9ST0xFX0RFTEVURSIsR1VJTERfUk9MRV9VUERBVEU6IkdVSUxEX1JPTEVfVVBEQVRFIixHVUlMRF9CQU5fQUREOiJHVUlMRF9CQU5fQUREIixHVUlMRF9CQU5fUkVNT1ZFOiJHVUlMRF9CQU5fUkVNT1ZFIixHVUlMRF9FTU9KSVNfVVBEQVRFOiJHVUlMRF9FTU9KSVNfVVBEQVRFIixDSEFOTkVMX0NSRUFURToiQ0hBTk5FTF9DUkVBVEUiLENIQU5ORUxfREVMRVRFOiJDSEFOTkVMX0RFTEVURSIsQ0hBTk5FTF9VUERBVEU6IkNIQU5ORUxfVVBEQVRFIixDSEFOTkVMX1BJTlNfVVBEQVRFOiJDSEFOTkVMX1BJTlNfVVBEQVRFIixNRVNTQUdFX0NSRUFURToiTUVTU0FHRV9DUkVBVEUiLE1FU1NBR0VfREVMRVRFOiJNRVNTQUdFX0RFTEVURSIsTUVTU0FHRV9VUERBVEU6Ik1FU1NBR0VfVVBEQVRFIixNRVNTQUdFX0RFTEVURV9CVUxLOiJNRVNTQUdFX0RFTEVURV9CVUxLIixNRVNTQUdFX1JFQUNUSU9OX0FERDoiTUVTU0FHRV9SRUFDVElPTl9BREQiLE1FU1NBR0VfUkVBQ1RJT05fUkVNT1ZFOiJNRVNTQUdFX1JFQUNUSU9OX1JFTU9WRSIsTUVTU0FHRV9SRUFDVElPTl9SRU1PVkVfQUxMOiJNRVNTQUdFX1JFQUNUSU9OX1JFTU9WRV9BTEwiLFVTRVJfVVBEQVRFOiJVU0VSX1VQREFURSIsVVNFUl9OT1RFX1VQREFURToiVVNFUl9OT1RFX1VQREFURSIsUFJFU0VOQ0VfVVBEQVRFOiJQUkVTRU5DRV9VUERBVEUiLFZPSUNFX1NUQVRFX1VQREFURToiVk9JQ0VfU1RBVEVfVVBEQVRFIixUWVBJTkdfU1RBUlQ6IlRZUElOR19TVEFSVCIsVk9JQ0VfU0VSVkVSX1VQREFURToiVk9JQ0VfU0VSVkVSX1VQREFURSIsUkVMQVRJT05TSElQX0FERDoiUkVMQVRJT05TSElQX0FERCIsUkVMQVRJT05TSElQX1JFTU9WRToiUkVMQVRJT05TSElQX1JFTU9WRSJ9O2V4cG9ydHMuTWVzc2FnZVR5cGVzPXswOiJERUZBVUxUIiwxOiJSRUNJUElFTlRfQUREIiwyOiJSRUNJUElFTlRfUkVNT1ZFIiwzOiJDQUxMIiw0OiJDSEFOTkVMX05BTUVfQ0hBTkdFIiw1OiJDSEFOTkVMX0lDT05fQ0hBTkdFIiw2OiJQSU5TX0FERCJ9O2V4cG9ydHMuRGVmYXVsdEF2YXRhcnM9e0JMVVJQTEU6IjZkZWJkNDdlZDEzNDgzNjQyY2YwOWU4MzJlZDBiYzFiIixHUkVZOiIzMjJjOTM2YThjOGJlMWI4MDNjZDk0ODYxYmRmYTg2OCIsR1JFRU46ImRkNGRiYzAwMTY3NzlkZjEzNzhlNzgxMmVhYmFhMDRkIixPUkFOR0U6IjBlMjkxZjY3YzkyNzRhMWFiZGRkZWIzZmQ5MTljYmFhIixSRUQ6IjFjYmQwOGM3NmY4YWY2ZGRkY2UwMmM1MTM4OTcxMTI5In07Y29uc3QgUGVybWlzc2lvbkZsYWdzPWV4cG9ydHMuUGVybWlzc2lvbkZsYWdzPXtDUkVBVEVfSU5TVEFOVF9JTlZJVEU6MTw8MCxLSUNLX01FTUJFUlM6MTw8MSxCQU5fTUVNQkVSUzoxPDwyLEFETUlOSVNUUkFUT1I6MTw8MyxNQU5BR0VfQ0hBTk5FTFM6MTw8NCxNQU5BR0VfR1VJTEQ6MTw8NSxBRERfUkVBQ1RJT05TOjE8PDYsUkVBRF9NRVNTQUdFUzoxPDwxMCxTRU5EX01FU1NBR0VTOjE8PDExLFNFTkRfVFRTX01FU1NBR0VTOjE8PDEyLE1BTkFHRV9NRVNTQUdFUzoxPDwxMyxFTUJFRF9MSU5LUzoxPDwxNCxBVFRBQ0hfRklMRVM6MTw8MTUsUkVBRF9NRVNTQUdFX0hJU1RPUlk6MTw8MTYsTUVOVElPTl9FVkVSWU9ORToxPDwxNyxFWFRFUk5BTF9FTU9KSVM6MTw8MTgsQ09OTkVDVDoxPDwyMCxTUEVBSzoxPDwyMSxNVVRFX01FTUJFUlM6MTw8MjIsREVBRkVOX01FTUJFUlM6MTw8MjMsTU9WRV9NRU1CRVJTOjE8PDI0LFVTRV9WQUQ6MTw8MjUsQ0hBTkdFX05JQ0tOQU1FOjE8PDI2LE1BTkFHRV9OSUNLTkFNRVM6MTw8MjcsTUFOQUdFX1JPTEVTX09SX1BFUk1JU1NJT05TOjE8PDI4LE1BTkFHRV9XRUJIT09LUzoxPDwyOSxNQU5BR0VfRU1PSklTOjE8PDMwfTtsZXQgX0FMTF9QRVJNSVNTSU9OUz0wO2Zvcihjb25zdCBrZXkgaW4gUGVybWlzc2lvbkZsYWdzKV9BTExfUEVSTUlTU0lPTlN8PVBlcm1pc3Npb25GbGFnc1trZXldO2V4cG9ydHMuQUxMX1BFUk1JU1NJT05TPV9BTExfUEVSTUlTU0lPTlM7ZXhwb3J0cy5ERUZBVUxUX1BFUk1JU1NJT05TPTEwNDMyNDA5N30pLmNhbGwodGhpcyxyZXF1aXJlKCJfcHJvY2VzcyIpKX0seyIuLi8uLi9wYWNrYWdlLmpzb24iOjIsX3Byb2Nlc3M6MTkzfV0sMTM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oQnVmZmVyKXtmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQnVmZmVyKGFiKXtjb25zdCBidWZmZXI9bmV3IEJ1ZmZlcihhYi5ieXRlTGVuZ3RoKTtjb25zdCB2aWV3PW5ldyBVaW50OEFycmF5KGFiKTtmb3IodmFyIGk9MDtpPGJ1ZmZlci5sZW5ndGg7KytpKWJ1ZmZlcltpXT12aWV3W2ldO3JldHVybiBidWZmZXJ9ZnVuY3Rpb24gc3RyMmFiKHN0cil7Y29uc3QgYnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKjIpO2NvbnN0IHZpZXc9bmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7Zm9yKHZhciBpPTAsc3RyTGVuPXN0ci5sZW5ndGg7aTxzdHJMZW47aSsrKXZpZXdbaV09c3RyLmNoYXJDb2RlQXQoaSk7cmV0dXJuIGJ1ZmZlcn1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbiBjb252ZXJ0QXJyYXlCdWZmZXIoeCl7aWYodHlwZW9mIHg9PT0ic3RyaW5nIil4PXN0cjJhYih4KTtyZXR1cm4gYXJyYXlCdWZmZXJUb0J1ZmZlcih4KX19KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKX0se2J1ZmZlcjoxNzN9XSwxMzY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGVzY2FwZU1hcmtkb3duKHRleHQsb25seUNvZGVCbG9jaz1mYWxzZSxvbmx5SW5saW5lQ29kZT1mYWxzZSl7aWYob25seUNvZGVCbG9jaylyZXR1cm4gdGV4dC5yZXBsYWNlKC9gYGAvZywiYtgYCIpO2lmKG9ubHlJbmxpbmVDb2RlKXJldHVybiB0ZXh0LnJlcGxhY2UoL1xcKGB8XFwpL2csIiQxIikucmVwbGFjZSgvKGB8XFwpL2csIlxcJDEiKTtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXChcKnxffGB8fnxcXCkvZywiJDEiKS5yZXBsYWNlKC8oXCp8X3xgfH58XFwpL2csIlxcJDEiKX19LHt9XSwxMzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2NvbnN0IHN1cGVyYWdlbnQ9cmVxdWlyZSgic3VwZXJhZ2VudCIpO2NvbnN0IGJvdEdhdGV3YXk9cmVxdWlyZSgiLi9Db25zdGFudHMiKS5FbmRwb2ludHMuYm90R2F0ZXdheTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbiBmZXRjaFJlY29tbWVuZGVkU2hhcmRzKHRva2VuKXtyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e2lmKCF0b2tlbil0aHJvdyBuZXcgRXJyb3IoIkEgdG9rZW4gbXVzdCBiZSBwcm92aWRlZC4iKTtzdXBlcmFnZW50LmdldChib3RHYXRld2F5KS5zZXQoIkF1dGhvcml6YXRpb24iLGBCb3QgJHt0b2tlbi5yZXBsYWNlKC9eQm90XHMqL2ksIiIpfWApLmVuZCgoZXJyLHJlcyk9PntpZihlcnIpcmVqZWN0KGVycik7cmVzb2x2ZShyZXMuYm9keS5zaGFyZHMpfSl9KX19LHsiLi9Db25zdGFudHMiOjEzNCxzdXBlcmFnZW50OjE1OX1dLDEzODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gbWFrZUVycm9yKG9iail7Y29uc3QgZXJyPW5ldyBFcnJvcihvYmoubWVzc2FnZSk7ZXJyLm5hbWU9b2JqLm5hbWU7ZXJyLnN0YWNrPW9iai5zdGFjaztyZXR1cm4gZXJyfX0se31dLDEzOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gbWFrZVBsYWluRXJyb3IoZXJyKXtjb25zdCBvYmo9e307b2JqLm5hbWU9ZXJyLm5hbWU7b2JqLm1lc3NhZ2U9ZXJyLm1lc3NhZ2U7b2JqLnN0YWNrPWVyci5zdGFjaztyZXR1cm4gb2JqfX0se31dLDE0MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gbWVyZ2UoZGVmLGdpdmVuKXtpZighZ2l2ZW4pcmV0dXJuIGRlZjtmb3IoY29uc3Qga2V5IGluIGRlZil7aWYoIXt9Lmhhc093blByb3BlcnR5LmNhbGwoZ2l2ZW4sa2V5KSl7Z2l2ZW5ba2V5XT1kZWZba2V5XX1lbHNlIGlmKGdpdmVuW2tleV09PT1PYmplY3QoZ2l2ZW5ba2V5XSkpe2dpdmVuW2tleV09bWVyZ2UoZGVmW2tleV0sZ2l2ZW5ba2V5XSl9fXJldHVybiBnaXZlbn19LHt9XSwxNDE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIHBhcnNlRW1vamkodGV4dCl7aWYodGV4dC5pbmNsdWRlcygiJSIpKXt0ZXh0PWRlY29kZVVSSUNvbXBvbmVudCh0ZXh0KX1pZih0ZXh0LmluY2x1ZGVzKCI6Iikpe2NvbnN0W25hbWUsaWRdPXRleHQuc3BsaXQoIjoiKTtyZXR1cm57bmFtZTpuYW1lLGlkOmlkfX1lbHNle3JldHVybntuYW1lOnRleHQsaWQ6bnVsbH19fX0se31dLDE0MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gc3BsaXRNZXNzYWdlKHRleHQse21heExlbmd0aDptYXhMZW5ndGg9MTk1MCxjaGFyOmNoYXI9IlxuIixwcmVwZW5kOnByZXBlbmQ9IiIsYXBwZW5kOmFwcGVuZD0iIn09e30pe2lmKHRleHQubGVuZ3RoPD1tYXhMZW5ndGgpcmV0dXJuIHRleHQ7Y29uc3Qgc3BsaXRUZXh0PXRleHQuc3BsaXQoY2hhcik7aWYoc3BsaXRUZXh0Lmxlbmd0aD09PTEpdGhyb3cgbmV3IEVycm9yKCJNZXNzYWdlIGV4Y2VlZHMgdGhlIG1heCBsZW5ndGggYW5kIGNvbnRhaW5zIG5vIHNwbGl0IGNoYXJhY3RlcnMuIik7Y29uc3QgbWVzc2FnZXM9WyIiXTtsZXQgbXNnPTA7Zm9yKGxldCBpPTA7aTxzcGxpdFRleHQubGVuZ3RoO2krKyl7aWYobWVzc2FnZXNbbXNnXS5sZW5ndGgrc3BsaXRUZXh0W2ldLmxlbmd0aCsxPm1heExlbmd0aCl7bWVzc2FnZXNbbXNnXSs9YXBwZW5kO21lc3NhZ2VzLnB1c2gocHJlcGVuZCk7bXNnKyt9bWVzc2FnZXNbbXNnXSs9KG1lc3NhZ2VzW21zZ10ubGVuZ3RoPjAmJm1lc3NhZ2VzW21zZ10hPT1wcmVwZW5kP2NoYXI6IiIpK3NwbGl0VGV4dFtpXX1yZXR1cm4gbWVzc2FnZXN9fSx7fV0sMTQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIGFzc2lnbj1yZXF1aXJlKCIuL2xpYi91dGlscy9jb21tb24iKS5hc3NpZ247dmFyIGRlZmxhdGU9cmVxdWlyZSgiLi9saWIvZGVmbGF0ZSIpO3ZhciBpbmZsYXRlPXJlcXVpcmUoIi4vbGliL2luZmxhdGUiKTt2YXIgY29uc3RhbnRzPXJlcXVpcmUoIi4vbGliL3psaWIvY29uc3RhbnRzIik7dmFyIHBha289e307YXNzaWduKHBha28sZGVmbGF0ZSxpbmZsYXRlLGNvbnN0YW50cyk7bW9kdWxlLmV4cG9ydHM9cGFrb30seyIuL2xpYi9kZWZsYXRlIjoxNDQsIi4vbGliL2luZmxhdGUiOjE0NSwiLi9saWIvdXRpbHMvY29tbW9uIjoxNDYsIi4vbGliL3psaWIvY29uc3RhbnRzIjoxNDl9XSwxNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgemxpYl9kZWZsYXRlPXJlcXVpcmUoIi4vemxpYi9kZWZsYXRlIik7dmFyIHV0aWxzPXJlcXVpcmUoIi4vdXRpbHMvY29tbW9uIik7dmFyIHN0cmluZ3M9cmVxdWlyZSgiLi91dGlscy9zdHJpbmdzIik7dmFyIG1zZz1yZXF1aXJlKCIuL3psaWIvbWVzc2FnZXMiKTt2YXIgWlN0cmVhbT1yZXF1aXJlKCIuL3psaWIvenN0cmVhbSIpO3ZhciB0b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3ZhciBaX05PX0ZMVVNIPTA7dmFyIFpfRklOSVNIPTQ7dmFyIFpfT0s9MDt2YXIgWl9TVFJFQU1fRU5EPTE7dmFyIFpfU1lOQ19GTFVTSD0yO3ZhciBaX0RFRkFVTFRfQ09NUFJFU1NJT049LTE7dmFyIFpfREVGQVVMVF9TVFJBVEVHWT0wO3ZhciBaX0RFRkxBVEVEPTg7ZnVuY3Rpb24gRGVmbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBEZWZsYXRlKSlyZXR1cm4gbmV3IERlZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7bGV2ZWw6Wl9ERUZBVUxUX0NPTVBSRVNTSU9OLG1ldGhvZDpaX0RFRkxBVEVELGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6Wl9ERUZBVUxUX1NUUkFURUdZLHRvOiIifSxvcHRpb25zfHx7fSk7dmFyIG9wdD10aGlzLm9wdGlvbnM7aWYob3B0LnJhdyYmb3B0LndpbmRvd0JpdHM+MCl7b3B0LndpbmRvd0JpdHM9LW9wdC53aW5kb3dCaXRzfWVsc2UgaWYob3B0Lmd6aXAmJm9wdC53aW5kb3dCaXRzPjAmJm9wdC53aW5kb3dCaXRzPDE2KXtvcHQud2luZG93Qml0cys9MTZ9dGhpcy5lcnI9MDt0aGlzLm1zZz0iIjt0aGlzLmVuZGVkPWZhbHNlO3RoaXMuY2h1bmtzPVtdO3RoaXMuc3RybT1uZXcgWlN0cmVhbTt0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQubGV2ZWwsb3B0Lm1ldGhvZCxvcHQud2luZG93Qml0cyxvcHQubWVtTGV2ZWwsb3B0LnN0cmF0ZWd5KTtpZihzdGF0dXMhPT1aX09LKXt0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pfWlmKG9wdC5oZWFkZXIpe3psaWJfZGVmbGF0ZS5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxvcHQuaGVhZGVyKX1pZihvcHQuZGljdGlvbmFyeSl7dmFyIGRpY3Q7aWYodHlwZW9mIG9wdC5kaWN0aW9uYXJ5PT09InN0cmluZyIpe2RpY3Q9c3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KX1lbHNlIGlmKHRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIil7ZGljdD1uZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSl9ZWxzZXtkaWN0PW9wdC5kaWN0aW9uYXJ5fXN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGRpY3QpO2lmKHN0YXR1cyE9PVpfT0spe3Rocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSl9dGhpcy5fZGljdF9zZXQ9dHJ1ZX19RGVmbGF0ZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihkYXRhLG1vZGUpe3ZhciBzdHJtPXRoaXMuc3RybTt2YXIgY2h1bmtTaXplPXRoaXMub3B0aW9ucy5jaHVua1NpemU7dmFyIHN0YXR1cyxfbW9kZTtpZih0aGlzLmVuZGVkKXtyZXR1cm4gZmFsc2V9X21vZGU9bW9kZT09PX5+bW9kZT9tb2RlOm1vZGU9PT10cnVlP1pfRklOSVNIOlpfTk9fRkxVU0g7aWYodHlwZW9mIGRhdGE9PT0ic3RyaW5nIil7c3RybS5pbnB1dD1zdHJpbmdzLnN0cmluZzJidWYoZGF0YSl9ZWxzZSBpZih0b1N0cmluZy5jYWxsKGRhdGEpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIil7c3RybS5pbnB1dD1uZXcgVWludDhBcnJheShkYXRhKX1lbHNle3N0cm0uaW5wdXQ9ZGF0YX1zdHJtLm5leHRfaW49MDtzdHJtLmF2YWlsX2luPXN0cm0uaW5wdXQubGVuZ3RoO2Rve2lmKHN0cm0uYXZhaWxfb3V0PT09MCl7c3RybS5vdXRwdXQ9bmV3IHV0aWxzLkJ1ZjgoY2h1bmtTaXplKTtzdHJtLm5leHRfb3V0PTA7c3RybS5hdmFpbF9vdXQ9Y2h1bmtTaXplfXN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZShzdHJtLF9tb2RlKTtpZihzdGF0dXMhPT1aX1NUUkVBTV9FTkQmJnN0YXR1cyE9PVpfT0spe3RoaXMub25FbmQoc3RhdHVzKTt0aGlzLmVuZGVkPXRydWU7cmV0dXJuIGZhbHNlfWlmKHN0cm0uYXZhaWxfb3V0PT09MHx8c3RybS5hdmFpbF9pbj09PTAmJihfbW9kZT09PVpfRklOSVNIfHxfbW9kZT09PVpfU1lOQ19GTFVTSCkpe2lmKHRoaXMub3B0aW9ucy50bz09PSJzdHJpbmciKXt0aGlzLm9uRGF0YShzdHJpbmdzLmJ1ZjJiaW5zdHJpbmcodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSl9ZWxzZXt0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCkpfX19d2hpbGUoKHN0cm0uYXZhaWxfaW4+MHx8c3RybS5hdmFpbF9vdXQ9PT0wKSYmc3RhdHVzIT09Wl9TVFJFQU1fRU5EKTtpZihfbW9kZT09PVpfRklOSVNIKXtzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGVFbmQodGhpcy5zdHJtKTt0aGlzLm9uRW5kKHN0YXR1cyk7dGhpcy5lbmRlZD10cnVlO3JldHVybiBzdGF0dXM9PT1aX09LfWlmKF9tb2RlPT09Wl9TWU5DX0ZMVVNIKXt0aGlzLm9uRW5kKFpfT0spO3N0cm0uYXZhaWxfb3V0PTA7cmV0dXJuIHRydWV9cmV0dXJuIHRydWV9O0RlZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihjaHVuayl7dGhpcy5jaHVua3MucHVzaChjaHVuayl9O0RlZmxhdGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHN0YXR1cyl7aWYoc3RhdHVzPT09Wl9PSyl7aWYodGhpcy5vcHRpb25zLnRvPT09InN0cmluZyIpe3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpfWVsc2V7dGhpcy5yZXN1bHQ9dXRpbHMuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyl9fXRoaXMuY2h1bmtzPVtdO3RoaXMuZXJyPXN0YXR1czt0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTtmdW5jdGlvbiBkZWZsYXRlKGlucHV0LG9wdGlvbnMpe3ZhciBkZWZsYXRvcj1uZXcgRGVmbGF0ZShvcHRpb25zKTtkZWZsYXRvci5wdXNoKGlucHV0LHRydWUpO2lmKGRlZmxhdG9yLmVycil7dGhyb3cgZGVmbGF0b3IubXNnfHxtc2dbZGVmbGF0b3IuZXJyXX1yZXR1cm4gZGVmbGF0b3IucmVzdWx0fWZ1bmN0aW9uIGRlZmxhdGVSYXcoaW5wdXQsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTtvcHRpb25zLnJhdz10cnVlO3JldHVybiBkZWZsYXRlKGlucHV0LG9wdGlvbnMpfWZ1bmN0aW9uIGd6aXAoaW5wdXQsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTtvcHRpb25zLmd6aXA9dHJ1ZTtyZXR1cm4gZGVmbGF0ZShpbnB1dCxvcHRpb25zKX1leHBvcnRzLkRlZmxhdGU9RGVmbGF0ZTtleHBvcnRzLmRlZmxhdGU9ZGVmbGF0ZTtleHBvcnRzLmRlZmxhdGVSYXc9ZGVmbGF0ZVJhdztleHBvcnRzLmd6aXA9Z3ppcH0seyIuL3V0aWxzL2NvbW1vbiI6MTQ2LCIuL3V0aWxzL3N0cmluZ3MiOjE0NywiLi96bGliL2RlZmxhdGUiOjE1MSwiLi96bGliL21lc3NhZ2VzIjoxNTYsIi4vemxpYi96c3RyZWFtIjoxNTh9XSwxNDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgemxpYl9pbmZsYXRlPXJlcXVpcmUoIi4vemxpYi9pbmZsYXRlIik7dmFyIHV0aWxzPXJlcXVpcmUoIi4vdXRpbHMvY29tbW9uIik7dmFyIHN0cmluZ3M9cmVxdWlyZSgiLi91dGlscy9zdHJpbmdzIik7dmFyIGM9cmVxdWlyZSgiLi96bGliL2NvbnN0YW50cyIpO3ZhciBtc2c9cmVxdWlyZSgiLi96bGliL21lc3NhZ2VzIik7dmFyIFpTdHJlYW09cmVxdWlyZSgiLi96bGliL3pzdHJlYW0iKTt2YXIgR1poZWFkZXI9cmVxdWlyZSgiLi96bGliL2d6aGVhZGVyIik7dmFyIHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gSW5mbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbmZsYXRlKSlyZXR1cm4gbmV3IEluZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzoiIn0sb3B0aW9uc3x8e30pO3ZhciBvcHQ9dGhpcy5vcHRpb25zO2lmKG9wdC5yYXcmJm9wdC53aW5kb3dCaXRzPj0wJiZvcHQud2luZG93Qml0czwxNil7b3B0LndpbmRvd0JpdHM9LW9wdC53aW5kb3dCaXRzO2lmKG9wdC53aW5kb3dCaXRzPT09MCl7b3B0LndpbmRvd0JpdHM9LTE1fX1pZihvcHQud2luZG93Qml0cz49MCYmb3B0LndpbmRvd0JpdHM8MTYmJiEob3B0aW9ucyYmb3B0aW9ucy53aW5kb3dCaXRzKSl7b3B0LndpbmRvd0JpdHMrPTMyfWlmKG9wdC53aW5kb3dCaXRzPjE1JiZvcHQud2luZG93Qml0czw0OCl7aWYoKG9wdC53aW5kb3dCaXRzJjE1KT09PTApe29wdC53aW5kb3dCaXRzfD0xNX19dGhpcy5lcnI9MDt0aGlzLm1zZz0iIjt0aGlzLmVuZGVkPWZhbHNlO3RoaXMuY2h1bmtzPVtdO3RoaXMuc3RybT1uZXcgWlN0cmVhbTt0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQud2luZG93Qml0cyk7aWYoc3RhdHVzIT09Yy5aX09LKXt0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pfXRoaXMuaGVhZGVyPW5ldyBHWmhlYWRlcjt6bGliX2luZmxhdGUuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpfUluZmxhdGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZGF0YSxtb2RlKXt2YXIgc3RybT10aGlzLnN0cm07dmFyIGNodW5rU2l6ZT10aGlzLm9wdGlvbnMuY2h1bmtTaXplO3ZhciBkaWN0aW9uYXJ5PXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O3ZhciBzdGF0dXMsX21vZGU7dmFyIG5leHRfb3V0X3V0ZjgsdGFpbCx1dGY4c3RyO3ZhciBkaWN0O3ZhciBhbGxvd0J1ZkVycm9yPWZhbHNlO2lmKHRoaXMuZW5kZWQpe3JldHVybiBmYWxzZX1fbW9kZT1tb2RlPT09fn5tb2RlP21vZGU6bW9kZT09PXRydWU/Yy5aX0ZJTklTSDpjLlpfTk9fRkxVU0g7aWYodHlwZW9mIGRhdGE9PT0ic3RyaW5nIil7c3RybS5pbnB1dD1zdHJpbmdzLmJpbnN0cmluZzJidWYoZGF0YSl9ZWxzZSBpZih0b1N0cmluZy5jYWxsKGRhdGEpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIil7c3RybS5pbnB1dD1uZXcgVWludDhBcnJheShkYXRhKX1lbHNle3N0cm0uaW5wdXQ9ZGF0YX1zdHJtLm5leHRfaW49MDtzdHJtLmF2YWlsX2luPXN0cm0uaW5wdXQubGVuZ3RoO2Rve2lmKHN0cm0uYXZhaWxfb3V0PT09MCl7c3RybS5vdXRwdXQ9bmV3IHV0aWxzLkJ1ZjgoY2h1bmtTaXplKTtzdHJtLm5leHRfb3V0PTA7c3RybS5hdmFpbF9vdXQ9Y2h1bmtTaXplfXN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZShzdHJtLGMuWl9OT19GTFVTSCk7aWYoc3RhdHVzPT09Yy5aX05FRURfRElDVCYmZGljdGlvbmFyeSl7aWYodHlwZW9mIGRpY3Rpb25hcnk9PT0ic3RyaW5nIil7ZGljdD1zdHJpbmdzLnN0cmluZzJidWYoZGljdGlvbmFyeSl9ZWxzZSBpZih0b1N0cmluZy5jYWxsKGRpY3Rpb25hcnkpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIil7ZGljdD1uZXcgVWludDhBcnJheShkaWN0aW9uYXJ5KX1lbHNle2RpY3Q9ZGljdGlvbmFyeX1zdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxkaWN0KX1pZihzdGF0dXM9PT1jLlpfQlVGX0VSUk9SJiZhbGxvd0J1ZkVycm9yPT09dHJ1ZSl7c3RhdHVzPWMuWl9PSzthbGxvd0J1ZkVycm9yPWZhbHNlfWlmKHN0YXR1cyE9PWMuWl9TVFJFQU1fRU5EJiZzdGF0dXMhPT1jLlpfT0spe3RoaXMub25FbmQoc3RhdHVzKTt0aGlzLmVuZGVkPXRydWU7cmV0dXJuIGZhbHNlfWlmKHN0cm0ubmV4dF9vdXQpe2lmKHN0cm0uYXZhaWxfb3V0PT09MHx8c3RhdHVzPT09Yy5aX1NUUkVBTV9FTkR8fHN0cm0uYXZhaWxfaW49PT0wJiYoX21vZGU9PT1jLlpfRklOSVNIfHxfbW9kZT09PWMuWl9TWU5DX0ZMVVNIKSl7aWYodGhpcy5vcHRpb25zLnRvPT09InN0cmluZyIpe25leHRfb3V0X3V0Zjg9c3RyaW5ncy51dGY4Ym9yZGVyKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpO3RhaWw9c3RybS5uZXh0X291dC1uZXh0X291dF91dGY4O3V0ZjhzdHI9c3RyaW5ncy5idWYyc3RyaW5nKHN0cm0ub3V0cHV0LG5leHRfb3V0X3V0ZjgpO3N0cm0ubmV4dF9vdXQ9dGFpbDtzdHJtLmF2YWlsX291dD1jaHVua1NpemUtdGFpbDtpZih0YWlsKXt1dGlscy5hcnJheVNldChzdHJtLm91dHB1dCxzdHJtLm91dHB1dCxuZXh0X291dF91dGY4LHRhaWwsMCl9dGhpcy5vbkRhdGEodXRmOHN0cil9ZWxzZXt0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCkpfX19aWYoc3RybS5hdmFpbF9pbj09PTAmJnN0cm0uYXZhaWxfb3V0PT09MCl7YWxsb3dCdWZFcnJvcj10cnVlfX13aGlsZSgoc3RybS5hdmFpbF9pbj4wfHxzdHJtLmF2YWlsX291dD09PTApJiZzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCk7aWYoc3RhdHVzPT09Yy5aX1NUUkVBTV9FTkQpe19tb2RlPWMuWl9GSU5JU0h9aWYoX21vZGU9PT1jLlpfRklOSVNIKXtzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVFbmQodGhpcy5zdHJtKTt0aGlzLm9uRW5kKHN0YXR1cyk7dGhpcy5lbmRlZD10cnVlO3JldHVybiBzdGF0dXM9PT1jLlpfT0t9aWYoX21vZGU9PT1jLlpfU1lOQ19GTFVTSCl7dGhpcy5vbkVuZChjLlpfT0spO3N0cm0uYXZhaWxfb3V0PTA7cmV0dXJuIHRydWV9cmV0dXJuIHRydWV9O0luZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihjaHVuayl7dGhpcy5jaHVua3MucHVzaChjaHVuayl9O0luZmxhdGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHN0YXR1cyl7aWYoc3RhdHVzPT09Yy5aX09LKXtpZih0aGlzLm9wdGlvbnMudG89PT0ic3RyaW5nIil7dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIil9ZWxzZXt0aGlzLnJlc3VsdD11dGlscy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKX19dGhpcy5jaHVua3M9W107dGhpcy5lcnI9c3RhdHVzO3RoaXMubXNnPXRoaXMuc3RybS5tc2d9O2Z1bmN0aW9uIGluZmxhdGUoaW5wdXQsb3B0aW9ucyl7dmFyIGluZmxhdG9yPW5ldyBJbmZsYXRlKG9wdGlvbnMpO2luZmxhdG9yLnB1c2goaW5wdXQsdHJ1ZSk7aWYoaW5mbGF0b3IuZXJyKXt0aHJvdyBpbmZsYXRvci5tc2d8fG1zZ1tpbmZsYXRvci5lcnJdfXJldHVybiBpbmZsYXRvci5yZXN1bHR9ZnVuY3Rpb24gaW5mbGF0ZVJhdyhpbnB1dCxvcHRpb25zKXtvcHRpb25zPW9wdGlvbnN8fHt9O29wdGlvbnMucmF3PXRydWU7cmV0dXJuIGluZmxhdGUoaW5wdXQsb3B0aW9ucyl9ZXhwb3J0cy5JbmZsYXRlPUluZmxhdGU7ZXhwb3J0cy5pbmZsYXRlPWluZmxhdGU7ZXhwb3J0cy5pbmZsYXRlUmF3PWluZmxhdGVSYXc7ZXhwb3J0cy51bmd6aXA9aW5mbGF0ZX0seyIuL3V0aWxzL2NvbW1vbiI6MTQ2LCIuL3V0aWxzL3N0cmluZ3MiOjE0NywiLi96bGliL2NvbnN0YW50cyI6MTQ5LCIuL3psaWIvZ3poZWFkZXIiOjE1MiwiLi96bGliL2luZmxhdGUiOjE1NCwiLi96bGliL21lc3NhZ2VzIjoxNTYsIi4vemxpYi96c3RyZWFtIjoxNTh9XSwxNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgVFlQRURfT0s9dHlwZW9mIFVpbnQ4QXJyYXkhPT0idW5kZWZpbmVkIiYmdHlwZW9mIFVpbnQxNkFycmF5IT09InVuZGVmaW5lZCImJnR5cGVvZiBJbnQzMkFycmF5IT09InVuZGVmaW5lZCI7ZXhwb3J0cy5hc3NpZ249ZnVuY3Rpb24ob2JqKXt2YXIgc291cmNlcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7d2hpbGUoc291cmNlcy5sZW5ndGgpe3ZhciBzb3VyY2U9c291cmNlcy5zaGlmdCgpO2lmKCFzb3VyY2Upe2NvbnRpbnVlfWlmKHR5cGVvZiBzb3VyY2UhPT0ib2JqZWN0Iil7dGhyb3cgbmV3IFR5cGVFcnJvcihzb3VyY2UrIm11c3QgYmUgbm9uLW9iamVjdCIpfWZvcih2YXIgcCBpbiBzb3VyY2Upe2lmKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwKSl7b2JqW3BdPXNvdXJjZVtwXX19fXJldHVybiBvYmp9O2V4cG9ydHMuc2hyaW5rQnVmPWZ1bmN0aW9uKGJ1ZixzaXplKXtpZihidWYubGVuZ3RoPT09c2l6ZSl7cmV0dXJuIGJ1Zn1pZihidWYuc3ViYXJyYXkpe3JldHVybiBidWYuc3ViYXJyYXkoMCxzaXplKX1idWYubGVuZ3RoPXNpemU7cmV0dXJuIGJ1Zn07dmFyIGZuVHlwZWQ9e2FycmF5U2V0OmZ1bmN0aW9uKGRlc3Qsc3JjLHNyY19vZmZzLGxlbixkZXN0X29mZnMpe2lmKHNyYy5zdWJhcnJheSYmZGVzdC5zdWJhcnJheSl7ZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLHNyY19vZmZzK2xlbiksZGVzdF9vZmZzKTtyZXR1cm59Zm9yKHZhciBpPTA7aTxsZW47aSsrKXtkZXN0W2Rlc3Rfb2ZmcytpXT1zcmNbc3JjX29mZnMraV19fSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGNodW5rcyl7dmFyIGksbCxsZW4scG9zLGNodW5rLHJlc3VsdDtsZW49MDtmb3IoaT0wLGw9Y2h1bmtzLmxlbmd0aDtpPGw7aSsrKXtsZW4rPWNodW5rc1tpXS5sZW5ndGh9cmVzdWx0PW5ldyBVaW50OEFycmF5KGxlbik7cG9zPTA7Zm9yKGk9MCxsPWNodW5rcy5sZW5ndGg7aTxsO2krKyl7Y2h1bms9Y2h1bmtzW2ldO3Jlc3VsdC5zZXQoY2h1bmsscG9zKTtwb3MrPWNodW5rLmxlbmd0aH1yZXR1cm4gcmVzdWx0fX07dmFyIGZuVW50eXBlZD17YXJyYXlTZXQ6ZnVuY3Rpb24oZGVzdCxzcmMsc3JjX29mZnMsbGVuLGRlc3Rfb2Zmcyl7Zm9yKHZhciBpPTA7aTxsZW47aSsrKXtkZXN0W2Rlc3Rfb2ZmcytpXT1zcmNbc3JjX29mZnMraV19fSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGNodW5rcyl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLGNodW5rcyl9fTtleHBvcnRzLnNldFR5cGVkPWZ1bmN0aW9uKG9uKXtpZihvbil7ZXhwb3J0cy5CdWY4PVVpbnQ4QXJyYXk7ZXhwb3J0cy5CdWYxNj1VaW50MTZBcnJheTtleHBvcnRzLkJ1ZjMyPUludDMyQXJyYXk7ZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblR5cGVkKX1lbHNle2V4cG9ydHMuQnVmOD1BcnJheTtleHBvcnRzLkJ1ZjE2PUFycmF5O2V4cG9ydHMuQnVmMzI9QXJyYXk7ZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblVudHlwZWQpfX07ZXhwb3J0cy5zZXRUeXBlZChUWVBFRF9PSyl9LHt9XSwxNDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbHM9cmVxdWlyZSgiLi9jb21tb24iKTt2YXIgU1RSX0FQUExZX09LPXRydWU7dmFyIFNUUl9BUFBMWV9VSUFfT0s9dHJ1ZTt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFswXSl9Y2F0Y2goX18pe1NUUl9BUFBMWV9PSz1mYWxzZX10cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChfXyl7U1RSX0FQUExZX1VJQV9PSz1mYWxzZX12YXIgX3V0ZjhsZW49bmV3IHV0aWxzLkJ1ZjgoMjU2KTtmb3IodmFyIHE9MDtxPDI1NjtxKyspe191dGY4bGVuW3FdPXE+PTI1Mj82OnE+PTI0OD81OnE+PTI0MD80OnE+PTIyND8zOnE+PTE5Mj8yOjF9X3V0ZjhsZW5bMjU0XT1fdXRmOGxlblsyNTRdPTE7ZXhwb3J0cy5zdHJpbmcyYnVmPWZ1bmN0aW9uKHN0cil7dmFyIGJ1ZixjLGMyLG1fcG9zLGksc3RyX2xlbj1zdHIubGVuZ3RoLGJ1Zl9sZW49MDtmb3IobV9wb3M9MDttX3BvczxzdHJfbGVuO21fcG9zKyspe2M9c3RyLmNoYXJDb2RlQXQobV9wb3MpO2lmKChjJjY0NTEyKT09PTU1Mjk2JiZtX3BvcysxPHN0cl9sZW4pe2MyPXN0ci5jaGFyQ29kZUF0KG1fcG9zKzEpO2lmKChjMiY2NDUxMik9PT01NjMyMCl7Yz02NTUzNisoYy01NTI5Njw8MTApKyhjMi01NjMyMCk7bV9wb3MrK319YnVmX2xlbis9YzwxMjg/MTpjPDIwNDg/MjpjPDY1NTM2PzM6NH1idWY9bmV3IHV0aWxzLkJ1ZjgoYnVmX2xlbik7Zm9yKGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKXtjPXN0ci5jaGFyQ29kZUF0KG1fcG9zKTtpZigoYyY2NDUxMik9PT01NTI5NiYmbV9wb3MrMTxzdHJfbGVuKXtjMj1zdHIuY2hhckNvZGVBdChtX3BvcysxKTtpZigoYzImNjQ1MTIpPT09NTYzMjApe2M9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApO21fcG9zKyt9fWlmKGM8MTI4KXtidWZbaSsrXT1jfWVsc2UgaWYoYzwyMDQ4KXtidWZbaSsrXT0xOTJ8Yz4+PjY7YnVmW2krK109MTI4fGMmNjN9ZWxzZSBpZihjPDY1NTM2KXtidWZbaSsrXT0yMjR8Yz4+PjEyO2J1ZltpKytdPTEyOHxjPj4+NiY2MztidWZbaSsrXT0xMjh8YyY2M31lbHNle2J1ZltpKytdPTI0MHxjPj4+MTg7YnVmW2krK109MTI4fGM+Pj4xMiY2MztidWZbaSsrXT0xMjh8Yz4+PjYmNjM7YnVmW2krK109MTI4fGMmNjN9fXJldHVybiBidWZ9O2Z1bmN0aW9uIGJ1ZjJiaW5zdHJpbmcoYnVmLGxlbil7aWYobGVuPDY1NTM3KXtpZihidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9VSUFfT0t8fCFidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9PSyl7CnJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdXRpbHMuc2hyaW5rQnVmKGJ1ZixsZW4pKX19dmFyIHJlc3VsdD0iIjtmb3IodmFyIGk9MDtpPGxlbjtpKyspe3Jlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pfXJldHVybiByZXN1bHR9ZXhwb3J0cy5idWYyYmluc3RyaW5nPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIGJ1ZjJiaW5zdHJpbmcoYnVmLGJ1Zi5sZW5ndGgpfTtleHBvcnRzLmJpbnN0cmluZzJidWY9ZnVuY3Rpb24oc3RyKXt2YXIgYnVmPW5ldyB1dGlscy5CdWY4KHN0ci5sZW5ndGgpO2Zvcih2YXIgaT0wLGxlbj1idWYubGVuZ3RoO2k8bGVuO2krKyl7YnVmW2ldPXN0ci5jaGFyQ29kZUF0KGkpfXJldHVybiBidWZ9O2V4cG9ydHMuYnVmMnN0cmluZz1mdW5jdGlvbihidWYsbWF4KXt2YXIgaSxvdXQsYyxjX2xlbjt2YXIgbGVuPW1heHx8YnVmLmxlbmd0aDt2YXIgdXRmMTZidWY9bmV3IEFycmF5KGxlbioyKTtmb3Iob3V0PTAsaT0wO2k8bGVuOyl7Yz1idWZbaSsrXTtpZihjPDEyOCl7dXRmMTZidWZbb3V0KytdPWM7Y29udGludWV9Y19sZW49X3V0ZjhsZW5bY107aWYoY19sZW4+NCl7dXRmMTZidWZbb3V0KytdPTY1NTMzO2krPWNfbGVuLTE7Y29udGludWV9YyY9Y19sZW49PT0yPzMxOmNfbGVuPT09Mz8xNTo3O3doaWxlKGNfbGVuPjEmJmk8bGVuKXtjPWM8PDZ8YnVmW2krK10mNjM7Y19sZW4tLX1pZihjX2xlbj4xKXt1dGYxNmJ1ZltvdXQrK109NjU1MzM7Y29udGludWV9aWYoYzw2NTUzNil7dXRmMTZidWZbb3V0KytdPWN9ZWxzZXtjLT02NTUzNjt1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMzt1dGYxNmJ1ZltvdXQrK109NTYzMjB8YyYxMDIzfX1yZXR1cm4gYnVmMmJpbnN0cmluZyh1dGYxNmJ1ZixvdXQpfTtleHBvcnRzLnV0Zjhib3JkZXI9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvczttYXg9bWF4fHxidWYubGVuZ3RoO2lmKG1heD5idWYubGVuZ3RoKXttYXg9YnVmLmxlbmd0aH1wb3M9bWF4LTE7d2hpbGUocG9zPj0wJiYoYnVmW3Bvc10mMTkyKT09PTEyOCl7cG9zLS19aWYocG9zPDApe3JldHVybiBtYXh9aWYocG9zPT09MCl7cmV0dXJuIG1heH1yZXR1cm4gcG9zK191dGY4bGVuW2J1Zltwb3NdXT5tYXg/cG9zOm1heH19LHsiLi9jb21tb24iOjE0Nn1dLDE0ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGFkbGVyMzIoYWRsZXIsYnVmLGxlbixwb3Mpe3ZhciBzMT1hZGxlciY2NTUzNXwwLHMyPWFkbGVyPj4+MTYmNjU1MzV8MCxuPTA7d2hpbGUobGVuIT09MCl7bj1sZW4+MmUzPzJlMzpsZW47bGVuLT1uO2Rve3MxPXMxK2J1Zltwb3MrK118MDtzMj1zMitzMXwwfXdoaWxlKC0tbik7czElPTY1NTIxO3MyJT02NTUyMX1yZXR1cm4gczF8czI8PDE2fDB9bW9kdWxlLmV4cG9ydHM9YWRsZXIzMn0se31dLDE0OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO21vZHVsZS5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sMTUwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbWFrZVRhYmxlKCl7dmFyIGMsdGFibGU9W107Zm9yKHZhciBuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyl7Yz1jJjE/Mzk4ODI5MjM4NF5jPj4+MTpjPj4+MX10YWJsZVtuXT1jfXJldHVybiB0YWJsZX12YXIgY3JjVGFibGU9bWFrZVRhYmxlKCk7ZnVuY3Rpb24gY3JjMzIoY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKXtjcmM9Y3JjPj4+OF50WyhjcmNeYnVmW2ldKSYyNTVdfXJldHVybiBjcmNeLTF9bW9kdWxlLmV4cG9ydHM9Y3JjMzJ9LHt9XSwxNTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbHM9cmVxdWlyZSgiLi4vdXRpbHMvY29tbW9uIik7dmFyIHRyZWVzPXJlcXVpcmUoIi4vdHJlZXMiKTt2YXIgYWRsZXIzMj1yZXF1aXJlKCIuL2FkbGVyMzIiKTt2YXIgY3JjMzI9cmVxdWlyZSgiLi9jcmMzMiIpO3ZhciBtc2c9cmVxdWlyZSgiLi9tZXNzYWdlcyIpO3ZhciBaX05PX0ZMVVNIPTA7dmFyIFpfUEFSVElBTF9GTFVTSD0xO3ZhciBaX0ZVTExfRkxVU0g9Mzt2YXIgWl9GSU5JU0g9NDt2YXIgWl9CTE9DSz01O3ZhciBaX09LPTA7dmFyIFpfU1RSRUFNX0VORD0xO3ZhciBaX1NUUkVBTV9FUlJPUj0tMjt2YXIgWl9EQVRBX0VSUk9SPS0zO3ZhciBaX0JVRl9FUlJPUj0tNTt2YXIgWl9ERUZBVUxUX0NPTVBSRVNTSU9OPS0xO3ZhciBaX0ZJTFRFUkVEPTE7dmFyIFpfSFVGRk1BTl9PTkxZPTI7dmFyIFpfUkxFPTM7dmFyIFpfRklYRUQ9NDt2YXIgWl9ERUZBVUxUX1NUUkFURUdZPTA7dmFyIFpfVU5LTk9XTj0yO3ZhciBaX0RFRkxBVEVEPTg7dmFyIE1BWF9NRU1fTEVWRUw9OTt2YXIgTUFYX1dCSVRTPTE1O3ZhciBERUZfTUVNX0xFVkVMPTg7dmFyIExFTkdUSF9DT0RFUz0yOTt2YXIgTElURVJBTFM9MjU2O3ZhciBMX0NPREVTPUxJVEVSQUxTKzErTEVOR1RIX0NPREVTO3ZhciBEX0NPREVTPTMwO3ZhciBCTF9DT0RFUz0xOTt2YXIgSEVBUF9TSVpFPTIqTF9DT0RFUysxO3ZhciBNQVhfQklUUz0xNTt2YXIgTUlOX01BVENIPTM7dmFyIE1BWF9NQVRDSD0yNTg7dmFyIE1JTl9MT09LQUhFQUQ9TUFYX01BVENIK01JTl9NQVRDSCsxO3ZhciBQUkVTRVRfRElDVD0zMjt2YXIgSU5JVF9TVEFURT00Mjt2YXIgRVhUUkFfU1RBVEU9Njk7dmFyIE5BTUVfU1RBVEU9NzM7dmFyIENPTU1FTlRfU1RBVEU9OTE7dmFyIEhDUkNfU1RBVEU9MTAzO3ZhciBCVVNZX1NUQVRFPTExMzt2YXIgRklOSVNIX1NUQVRFPTY2Njt2YXIgQlNfTkVFRF9NT1JFPTE7dmFyIEJTX0JMT0NLX0RPTkU9Mjt2YXIgQlNfRklOSVNIX1NUQVJURUQ9Mzt2YXIgQlNfRklOSVNIX0RPTkU9NDt2YXIgT1NfQ09ERT0zO2Z1bmN0aW9uIGVycihzdHJtLGVycm9yQ29kZSl7c3RybS5tc2c9bXNnW2Vycm9yQ29kZV07cmV0dXJuIGVycm9yQ29kZX1mdW5jdGlvbiByYW5rKGYpe3JldHVybihmPDwxKS0oZj40Pzk6MCl9ZnVuY3Rpb24gemVybyhidWYpe3ZhciBsZW49YnVmLmxlbmd0aDt3aGlsZSgtLWxlbj49MCl7YnVmW2xlbl09MH19ZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhzdHJtKXt2YXIgcz1zdHJtLnN0YXRlO3ZhciBsZW49cy5wZW5kaW5nO2lmKGxlbj5zdHJtLmF2YWlsX291dCl7bGVuPXN0cm0uYXZhaWxfb3V0fWlmKGxlbj09PTApe3JldHVybn11dGlscy5hcnJheVNldChzdHJtLm91dHB1dCxzLnBlbmRpbmdfYnVmLHMucGVuZGluZ19vdXQsbGVuLHN0cm0ubmV4dF9vdXQpO3N0cm0ubmV4dF9vdXQrPWxlbjtzLnBlbmRpbmdfb3V0Kz1sZW47c3RybS50b3RhbF9vdXQrPWxlbjtzdHJtLmF2YWlsX291dC09bGVuO3MucGVuZGluZy09bGVuO2lmKHMucGVuZGluZz09PTApe3MucGVuZGluZ19vdXQ9MH19ZnVuY3Rpb24gZmx1c2hfYmxvY2tfb25seShzLGxhc3Qpe3RyZWVzLl90cl9mbHVzaF9ibG9jayhzLHMuYmxvY2tfc3RhcnQ+PTA/cy5ibG9ja19zdGFydDotMSxzLnN0cnN0YXJ0LXMuYmxvY2tfc3RhcnQsbGFzdCk7cy5ibG9ja19zdGFydD1zLnN0cnN0YXJ0O2ZsdXNoX3BlbmRpbmcocy5zdHJtKX1mdW5jdGlvbiBwdXRfYnl0ZShzLGIpe3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPWJ9ZnVuY3Rpb24gcHV0U2hvcnRNU0IocyxiKXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1iPj4+OCYyNTU7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109YiYyNTV9ZnVuY3Rpb24gcmVhZF9idWYoc3RybSxidWYsc3RhcnQsc2l6ZSl7dmFyIGxlbj1zdHJtLmF2YWlsX2luO2lmKGxlbj5zaXplKXtsZW49c2l6ZX1pZihsZW49PT0wKXtyZXR1cm4gMH1zdHJtLmF2YWlsX2luLT1sZW47dXRpbHMuYXJyYXlTZXQoYnVmLHN0cm0uaW5wdXQsc3RybS5uZXh0X2luLGxlbixzdGFydCk7aWYoc3RybS5zdGF0ZS53cmFwPT09MSl7c3RybS5hZGxlcj1hZGxlcjMyKHN0cm0uYWRsZXIsYnVmLGxlbixzdGFydCl9ZWxzZSBpZihzdHJtLnN0YXRlLndyYXA9PT0yKXtzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIsYnVmLGxlbixzdGFydCl9c3RybS5uZXh0X2luKz1sZW47c3RybS50b3RhbF9pbis9bGVuO3JldHVybiBsZW59ZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChzLGN1cl9tYXRjaCl7dmFyIGNoYWluX2xlbmd0aD1zLm1heF9jaGFpbl9sZW5ndGg7dmFyIHNjYW49cy5zdHJzdGFydDt2YXIgbWF0Y2g7dmFyIGxlbjt2YXIgYmVzdF9sZW49cy5wcmV2X2xlbmd0aDt2YXIgbmljZV9tYXRjaD1zLm5pY2VfbWF0Y2g7dmFyIGxpbWl0PXMuc3Ryc3RhcnQ+cy53X3NpemUtTUlOX0xPT0tBSEVBRD9zLnN0cnN0YXJ0LShzLndfc2l6ZS1NSU5fTE9PS0FIRUFEKTowO3ZhciBfd2luPXMud2luZG93O3ZhciB3bWFzaz1zLndfbWFzazt2YXIgcHJldj1zLnByZXY7dmFyIHN0cmVuZD1zLnN0cnN0YXJ0K01BWF9NQVRDSDt2YXIgc2Nhbl9lbmQxPV93aW5bc2NhbitiZXN0X2xlbi0xXTt2YXIgc2Nhbl9lbmQ9X3dpbltzY2FuK2Jlc3RfbGVuXTtpZihzLnByZXZfbGVuZ3RoPj1zLmdvb2RfbWF0Y2gpe2NoYWluX2xlbmd0aD4+PTJ9aWYobmljZV9tYXRjaD5zLmxvb2thaGVhZCl7bmljZV9tYXRjaD1zLmxvb2thaGVhZH1kb3ttYXRjaD1jdXJfbWF0Y2g7aWYoX3dpblttYXRjaCtiZXN0X2xlbl0hPT1zY2FuX2VuZHx8X3dpblttYXRjaCtiZXN0X2xlbi0xXSE9PXNjYW5fZW5kMXx8X3dpblttYXRjaF0hPT1fd2luW3NjYW5dfHxfd2luWysrbWF0Y2hdIT09X3dpbltzY2FuKzFdKXtjb250aW51ZX1zY2FuKz0yO21hdGNoKys7ZG97fXdoaWxlKF93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJnNjYW48c3RyZW5kKTtsZW49TUFYX01BVENILShzdHJlbmQtc2Nhbik7c2Nhbj1zdHJlbmQtTUFYX01BVENIO2lmKGxlbj5iZXN0X2xlbil7cy5tYXRjaF9zdGFydD1jdXJfbWF0Y2g7YmVzdF9sZW49bGVuO2lmKGxlbj49bmljZV9tYXRjaCl7YnJlYWt9c2Nhbl9lbmQxPV93aW5bc2NhbitiZXN0X2xlbi0xXTtzY2FuX2VuZD1fd2luW3NjYW4rYmVzdF9sZW5dfX13aGlsZSgoY3VyX21hdGNoPXByZXZbY3VyX21hdGNoJndtYXNrXSk+bGltaXQmJi0tY2hhaW5fbGVuZ3RoIT09MCk7aWYoYmVzdF9sZW48PXMubG9va2FoZWFkKXtyZXR1cm4gYmVzdF9sZW59cmV0dXJuIHMubG9va2FoZWFkfWZ1bmN0aW9uIGZpbGxfd2luZG93KHMpe3ZhciBfd19zaXplPXMud19zaXplO3ZhciBwLG4sbSxtb3JlLHN0cjtkb3ttb3JlPXMud2luZG93X3NpemUtcy5sb29rYWhlYWQtcy5zdHJzdGFydDtpZihzLnN0cnN0YXJ0Pj1fd19zaXplKyhfd19zaXplLU1JTl9MT09LQUhFQUQpKXt1dGlscy5hcnJheVNldChzLndpbmRvdyxzLndpbmRvdyxfd19zaXplLF93X3NpemUsMCk7cy5tYXRjaF9zdGFydC09X3dfc2l6ZTtzLnN0cnN0YXJ0LT1fd19zaXplO3MuYmxvY2tfc3RhcnQtPV93X3NpemU7bj1zLmhhc2hfc2l6ZTtwPW47ZG97bT1zLmhlYWRbLS1wXTtzLmhlYWRbcF09bT49X3dfc2l6ZT9tLV93X3NpemU6MH13aGlsZSgtLW4pO249X3dfc2l6ZTtwPW47ZG97bT1zLnByZXZbLS1wXTtzLnByZXZbcF09bT49X3dfc2l6ZT9tLV93X3NpemU6MH13aGlsZSgtLW4pO21vcmUrPV93X3NpemV9aWYocy5zdHJtLmF2YWlsX2luPT09MCl7YnJlYWt9bj1yZWFkX2J1ZihzLnN0cm0scy53aW5kb3cscy5zdHJzdGFydCtzLmxvb2thaGVhZCxtb3JlKTtzLmxvb2thaGVhZCs9bjtpZihzLmxvb2thaGVhZCtzLmluc2VydD49TUlOX01BVENIKXtzdHI9cy5zdHJzdGFydC1zLmluc2VydDtzLmluc19oPXMud2luZG93W3N0cl07cy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3N0cisxXSkmcy5oYXNoX21hc2s7d2hpbGUocy5pbnNlcnQpe3MuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzaztzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF07cy5oZWFkW3MuaW5zX2hdPXN0cjtzdHIrKztzLmluc2VydC0tO2lmKHMubG9va2FoZWFkK3MuaW5zZXJ0PE1JTl9NQVRDSCl7YnJlYWt9fX19d2hpbGUocy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmcy5zdHJtLmF2YWlsX2luIT09MCl9ZnVuY3Rpb24gZGVmbGF0ZV9zdG9yZWQocyxmbHVzaCl7dmFyIG1heF9ibG9ja19zaXplPTY1NTM1O2lmKG1heF9ibG9ja19zaXplPnMucGVuZGluZ19idWZfc2l6ZS01KXttYXhfYmxvY2tfc2l6ZT1zLnBlbmRpbmdfYnVmX3NpemUtNX1mb3IoOzspe2lmKHMubG9va2FoZWFkPD0xKXtmaWxsX3dpbmRvdyhzKTtpZihzLmxvb2thaGVhZD09PTAmJmZsdXNoPT09Wl9OT19GTFVTSCl7cmV0dXJuIEJTX05FRURfTU9SRX1pZihzLmxvb2thaGVhZD09PTApe2JyZWFrfX1zLnN0cnN0YXJ0Kz1zLmxvb2thaGVhZDtzLmxvb2thaGVhZD0wO3ZhciBtYXhfc3RhcnQ9cy5ibG9ja19zdGFydCttYXhfYmxvY2tfc2l6ZTtpZihzLnN0cnN0YXJ0PT09MHx8cy5zdHJzdGFydD49bWF4X3N0YXJ0KXtzLmxvb2thaGVhZD1zLnN0cnN0YXJ0LW1heF9zdGFydDtzLnN0cnN0YXJ0PW1heF9zdGFydDtmbHVzaF9ibG9ja19vbmx5KHMsZmFsc2UpO2lmKHMuc3RybS5hdmFpbF9vdXQ9PT0wKXtyZXR1cm4gQlNfTkVFRF9NT1JFfX1pZihzLnN0cnN0YXJ0LXMuYmxvY2tfc3RhcnQ+PXMud19zaXplLU1JTl9MT09LQUhFQUQpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fX1zLmluc2VydD0wO2lmKGZsdXNoPT09Wl9GSU5JU0gpe2ZsdXNoX2Jsb2NrX29ubHkocyx0cnVlKTtpZihzLnN0cm0uYXZhaWxfb3V0PT09MCl7cmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEfXJldHVybiBCU19GSU5JU0hfRE9ORX1pZihzLnN0cnN0YXJ0PnMuYmxvY2tfc3RhcnQpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fXJldHVybiBCU19ORUVEX01PUkV9ZnVuY3Rpb24gZGVmbGF0ZV9mYXN0KHMsZmx1c2gpe3ZhciBoYXNoX2hlYWQ7dmFyIGJmbHVzaDtmb3IoOzspe2lmKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQpe2ZpbGxfd2luZG93KHMpO2lmKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQmJmZsdXNoPT09Wl9OT19GTFVTSCl7cmV0dXJuIEJTX05FRURfTU9SRX1pZihzLmxvb2thaGVhZD09PTApe2JyZWFrfX1oYXNoX2hlYWQ9MDtpZihzLmxvb2thaGVhZD49TUlOX01BVENIKXtzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrO2hhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdO3MuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0fWlmKGhhc2hfaGVhZCE9PTAmJnMuc3Ryc3RhcnQtaGFzaF9oZWFkPD1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEKXtzLm1hdGNoX2xlbmd0aD1sb25nZXN0X21hdGNoKHMsaGFzaF9oZWFkKX1pZihzLm1hdGNoX2xlbmd0aD49TUlOX01BVENIKXtiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMscy5zdHJzdGFydC1zLm1hdGNoX3N0YXJ0LHMubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCk7cy5sb29rYWhlYWQtPXMubWF0Y2hfbGVuZ3RoO2lmKHMubWF0Y2hfbGVuZ3RoPD1zLm1heF9sYXp5X21hdGNoJiZzLmxvb2thaGVhZD49TUlOX01BVENIKXtzLm1hdGNoX2xlbmd0aC0tO2Rve3Muc3Ryc3RhcnQrKztzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrO2hhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdO3MuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0fXdoaWxlKC0tcy5tYXRjaF9sZW5ndGghPT0wKTtzLnN0cnN0YXJ0Kyt9ZWxzZXtzLnN0cnN0YXJ0Kz1zLm1hdGNoX2xlbmd0aDtzLm1hdGNoX2xlbmd0aD0wO3MuaW5zX2g9cy53aW5kb3dbcy5zdHJzdGFydF07cy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrMV0pJnMuaGFzaF9tYXNrfX1lbHNle2JmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnRdKTtzLmxvb2thaGVhZC0tO3Muc3Ryc3RhcnQrK31pZihiZmx1c2gpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fX1zLmluc2VydD1zLnN0cnN0YXJ0PE1JTl9NQVRDSC0xP3Muc3Ryc3RhcnQ6TUlOX01BVENILTE7aWYoZmx1c2g9PT1aX0ZJTklTSCl7Zmx1c2hfYmxvY2tfb25seShzLHRydWUpO2lmKHMuc3RybS5hdmFpbF9vdXQ9PT0wKXtyZXR1cm4gQlNfRklOSVNIX1NUQVJURUR9cmV0dXJuIEJTX0ZJTklTSF9ET05FfWlmKHMubGFzdF9saXQpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fXJldHVybiBCU19CTE9DS19ET05FfWZ1bmN0aW9uIGRlZmxhdGVfc2xvdyhzLGZsdXNoKXt2YXIgaGFzaF9oZWFkO3ZhciBiZmx1c2g7dmFyIG1heF9pbnNlcnQ7Zm9yKDs7KXtpZihzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEKXtmaWxsX3dpbmRvdyhzKTtpZihzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiZmbHVzaD09PVpfTk9fRkxVU0gpe3JldHVybiBCU19ORUVEX01PUkV9aWYocy5sb29rYWhlYWQ9PT0wKXticmVha319aGFzaF9oZWFkPTA7aWYocy5sb29rYWhlYWQ+PU1JTl9NQVRDSCl7cy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzaztoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXTtzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydH1zLnByZXZfbGVuZ3RoPXMubWF0Y2hfbGVuZ3RoO3MucHJldl9tYXRjaD1zLm1hdGNoX3N0YXJ0O3MubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xO2lmKGhhc2hfaGVhZCE9PTAmJnMucHJldl9sZW5ndGg8cy5tYXhfbGF6eV9tYXRjaCYmcy5zdHJzdGFydC1oYXNoX2hlYWQ8PXMud19zaXplLU1JTl9MT09LQUhFQUQpe3MubWF0Y2hfbGVuZ3RoPWxvbmdlc3RfbWF0Y2gocyxoYXNoX2hlYWQpO2lmKHMubWF0Y2hfbGVuZ3RoPD01JiYocy5zdHJhdGVneT09PVpfRklMVEVSRUR8fHMubWF0Y2hfbGVuZ3RoPT09TUlOX01BVENIJiZzLnN0cnN0YXJ0LXMubWF0Y2hfc3RhcnQ+NDA5Nikpe3MubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xfX1pZihzLnByZXZfbGVuZ3RoPj1NSU5fTUFUQ0gmJnMubWF0Y2hfbGVuZ3RoPD1zLnByZXZfbGVuZ3RoKXttYXhfaW5zZXJ0PXMuc3Ryc3RhcnQrcy5sb29rYWhlYWQtTUlOX01BVENIO2JmbHVzaD10cmVlcy5fdHJfdGFsbHkocyxzLnN0cnN0YXJ0LTEtcy5wcmV2X21hdGNoLHMucHJldl9sZW5ndGgtTUlOX01BVENIKTtzLmxvb2thaGVhZC09cy5wcmV2X2xlbmd0aC0xO3MucHJldl9sZW5ndGgtPTI7ZG97aWYoKytzLnN0cnN0YXJ0PD1tYXhfaW5zZXJ0KXtzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrO2hhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdO3MuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0fX13aGlsZSgtLXMucHJldl9sZW5ndGghPT0wKTtzLm1hdGNoX2F2YWlsYWJsZT0wO3MubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xO3Muc3Ryc3RhcnQrKztpZihiZmx1c2gpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fX1lbHNlIGlmKHMubWF0Y2hfYXZhaWxhYmxlKXtiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0LTFdKTtpZihiZmx1c2gpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSl9cy5zdHJzdGFydCsrO3MubG9va2FoZWFkLS07aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fWVsc2V7cy5tYXRjaF9hdmFpbGFibGU9MTtzLnN0cnN0YXJ0Kys7cy5sb29rYWhlYWQtLX19aWYocy5tYXRjaF9hdmFpbGFibGUpe2JmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnQtMV0pO3MubWF0Y2hfYXZhaWxhYmxlPTB9cy5pbnNlcnQ9cy5zdHJzdGFydDxNSU5fTUFUQ0gtMT9zLnN0cnN0YXJ0Ok1JTl9NQVRDSC0xO2lmKGZsdXNoPT09Wl9GSU5JU0gpe2ZsdXNoX2Jsb2NrX29ubHkocyx0cnVlKTtpZihzLnN0cm0uYXZhaWxfb3V0PT09MCl7cmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEfXJldHVybiBCU19GSU5JU0hfRE9ORX1pZihzLmxhc3RfbGl0KXtmbHVzaF9ibG9ja19vbmx5KHMsZmFsc2UpO2lmKHMuc3RybS5hdmFpbF9vdXQ9PT0wKXtyZXR1cm4gQlNfTkVFRF9NT1JFfX1yZXR1cm4gQlNfQkxPQ0tfRE9ORX1mdW5jdGlvbiBkZWZsYXRlX3JsZShzLGZsdXNoKXt2YXIgYmZsdXNoO3ZhciBwcmV2O3ZhciBzY2FuLHN0cmVuZDt2YXIgX3dpbj1zLndpbmRvdztmb3IoOzspe2lmKHMubG9va2FoZWFkPD1NQVhfTUFUQ0gpe2ZpbGxfd2luZG93KHMpO2lmKHMubG9va2FoZWFkPD1NQVhfTUFUQ0gmJmZsdXNoPT09Wl9OT19GTFVTSCl7cmV0dXJuIEJTX05FRURfTU9SRX1pZihzLmxvb2thaGVhZD09PTApe2JyZWFrfX1zLm1hdGNoX2xlbmd0aD0wO2lmKHMubG9va2FoZWFkPj1NSU5fTUFUQ0gmJnMuc3Ryc3RhcnQ+MCl7c2Nhbj1zLnN0cnN0YXJ0LTE7cHJldj1fd2luW3NjYW5dO2lmKHByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0pe3N0cmVuZD1zLnN0cnN0YXJ0K01BWF9NQVRDSDtkb3t9d2hpbGUocHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmc2NhbjxzdHJlbmQpO3MubWF0Y2hfbGVuZ3RoPU1BWF9NQVRDSC0oc3RyZW5kLXNjYW4pO2lmKHMubWF0Y2hfbGVuZ3RoPnMubG9va2FoZWFkKXtzLm1hdGNoX2xlbmd0aD1zLmxvb2thaGVhZH19fWlmKHMubWF0Y2hfbGVuZ3RoPj1NSU5fTUFUQ0gpe2JmbHVzaD10cmVlcy5fdHJfdGFsbHkocywxLHMubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCk7cy5sb29rYWhlYWQtPXMubWF0Y2hfbGVuZ3RoO3Muc3Ryc3RhcnQrPXMubWF0Y2hfbGVuZ3RoO3MubWF0Y2hfbGVuZ3RoPTB9ZWxzZXtiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSk7cy5sb29rYWhlYWQtLTtzLnN0cnN0YXJ0Kyt9aWYoYmZsdXNoKXtmbHVzaF9ibG9ja19vbmx5KHMsZmFsc2UpO2lmKHMuc3RybS5hdmFpbF9vdXQ9PT0wKXtyZXR1cm4gQlNfTkVFRF9NT1JFfX19cy5pbnNlcnQ9MDtpZihmbHVzaD09PVpfRklOSVNIKXtmbHVzaF9ibG9ja19vbmx5KHMsdHJ1ZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19GSU5JU0hfU1RBUlRFRH1yZXR1cm4gQlNfRklOSVNIX0RPTkV9aWYocy5sYXN0X2xpdCl7Zmx1c2hfYmxvY2tfb25seShzLGZhbHNlKTtpZihzLnN0cm0uYXZhaWxfb3V0PT09MCl7cmV0dXJuIEJTX05FRURfTU9SRX19cmV0dXJuIEJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gZGVmbGF0ZV9odWZmKHMsZmx1c2gpe3ZhciBiZmx1c2g7Zm9yKDs7KXtpZihzLmxvb2thaGVhZD09PTApe2ZpbGxfd2luZG93KHMpO2lmKHMubG9va2FoZWFkPT09MCl7aWYoZmx1c2g9PT1aX05PX0ZMVVNIKXtyZXR1cm4gQlNfTkVFRF9NT1JFfWJyZWFrfX1zLm1hdGNoX2xlbmd0aD0wO2JmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnRdKTtzLmxvb2thaGVhZC0tO3Muc3Ryc3RhcnQrKztpZihiZmx1c2gpe2ZsdXNoX2Jsb2NrX29ubHkocyxmYWxzZSk7aWYocy5zdHJtLmF2YWlsX291dD09PTApe3JldHVybiBCU19ORUVEX01PUkV9fX1zLmluc2VydD0wO2lmKGZsdXNoPT09Wl9GSU5JU0gpe2ZsdXNoX2Jsb2NrX29ubHkocyx0cnVlKTtpZihzLnN0cm0uYXZhaWxfb3V0PT09MCl7cmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEfXJldHVybiBCU19GSU5JU0hfRE9ORX1pZihzLmxhc3RfbGl0KXtmbHVzaF9ibG9ja19vbmx5KHMsZmFsc2UpO2lmKHMuc3RybS5hdmFpbF9vdXQ9PT0wKXtyZXR1cm4gQlNfTkVFRF9NT1JFfX1yZXR1cm4gQlNfQkxPQ0tfRE9ORX1mdW5jdGlvbiBDb25maWcoZ29vZF9sZW5ndGgsbWF4X2xhenksbmljZV9sZW5ndGgsbWF4X2NoYWluLGZ1bmMpe3RoaXMuZ29vZF9sZW5ndGg9Z29vZF9sZW5ndGg7dGhpcy5tYXhfbGF6eT1tYXhfbGF6eTt0aGlzLm5pY2VfbGVuZ3RoPW5pY2VfbGVuZ3RoO3RoaXMubWF4X2NoYWluPW1heF9jaGFpbjt0aGlzLmZ1bmM9ZnVuY312YXIgY29uZmlndXJhdGlvbl90YWJsZTtjb25maWd1cmF0aW9uX3RhYmxlPVtuZXcgQ29uZmlnKDAsMCwwLDAsZGVmbGF0ZV9zdG9yZWQpLG5ldyBDb25maWcoNCw0LDgsNCxkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw1LDE2LDgsZGVmbGF0ZV9mYXN0KSxuZXcgQ29uZmlnKDQsNiwzMiwzMixkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw0LDE2LDE2LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDMyLDMyLGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDEyOCwxMjgsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMzIsMTI4LDI1NixkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoMzIsMTI4LDI1OCwxMDI0LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZygzMiwyNTgsMjU4LDQwOTYsZGVmbGF0ZV9zbG93KV07ZnVuY3Rpb24gbG1faW5pdChzKXtzLndpbmRvd19zaXplPTIqcy53X3NpemU7emVybyhzLmhlYWQpO3MubWF4X2xhenlfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfbGF6eTtzLmdvb2RfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5nb29kX2xlbmd0aDtzLm5pY2VfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5uaWNlX2xlbmd0aDtzLm1heF9jaGFpbl9sZW5ndGg9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfY2hhaW47cy5zdHJzdGFydD0wO3MuYmxvY2tfc3RhcnQ9MDtzLmxvb2thaGVhZD0wO3MuaW5zZXJ0PTA7cy5tYXRjaF9sZW5ndGg9cy5wcmV2X2xlbmd0aD1NSU5fTUFUQ0gtMTtzLm1hdGNoX2F2YWlsYWJsZT0wO3MuaW5zX2g9MH1mdW5jdGlvbiBEZWZsYXRlU3RhdGUoKXt0aGlzLnN0cm09bnVsbDt0aGlzLnN0YXR1cz0wO3RoaXMucGVuZGluZ19idWY9bnVsbDt0aGlzLnBlbmRpbmdfYnVmX3NpemU9MDt0aGlzLnBlbmRpbmdfb3V0PTA7dGhpcy5wZW5kaW5nPTA7dGhpcy53cmFwPTA7dGhpcy5nemhlYWQ9bnVsbDt0aGlzLmd6aW5kZXg9MDt0aGlzLm1ldGhvZD1aX0RFRkxBVEVEO3RoaXMubGFzdF9mbHVzaD0tMTt0aGlzLndfc2l6ZT0wO3RoaXMud19iaXRzPTA7dGhpcy53X21hc2s9MDt0aGlzLndpbmRvdz1udWxsO3RoaXMud2luZG93X3NpemU9MDt0aGlzLnByZXY9bnVsbDt0aGlzLmhlYWQ9bnVsbDt0aGlzLmluc19oPTA7dGhpcy5oYXNoX3NpemU9MDt0aGlzLmhhc2hfYml0cz0wO3RoaXMuaGFzaF9tYXNrPTA7dGhpcy5oYXNoX3NoaWZ0PTA7dGhpcy5ibG9ja19zdGFydD0wO3RoaXMubWF0Y2hfbGVuZ3RoPTA7dGhpcy5wcmV2X21hdGNoPTA7dGhpcy5tYXRjaF9hdmFpbGFibGU9MDt0aGlzLnN0cnN0YXJ0PTA7dGhpcy5tYXRjaF9zdGFydD0wO3RoaXMubG9va2FoZWFkPTA7dGhpcy5wcmV2X2xlbmd0aD0wO3RoaXMubWF4X2NoYWluX2xlbmd0aD0wO3RoaXMubWF4X2xhenlfbWF0Y2g9MDt0aGlzLmxldmVsPTA7dGhpcy5zdHJhdGVneT0wO3RoaXMuZ29vZF9tYXRjaD0wO3RoaXMubmljZV9tYXRjaD0wO3RoaXMuZHluX2x0cmVlPW5ldyB1dGlscy5CdWYxNihIRUFQX1NJWkUqMik7dGhpcy5keW5fZHRyZWU9bmV3IHV0aWxzLkJ1ZjE2KCgyKkRfQ09ERVMrMSkqMik7dGhpcy5ibF90cmVlPW5ldyB1dGlscy5CdWYxNigoMipCTF9DT0RFUysxKSoyKTt6ZXJvKHRoaXMuZHluX2x0cmVlKTt6ZXJvKHRoaXMuZHluX2R0cmVlKTt6ZXJvKHRoaXMuYmxfdHJlZSk7dGhpcy5sX2Rlc2M9bnVsbDt0aGlzLmRfZGVzYz1udWxsO3RoaXMuYmxfZGVzYz1udWxsO3RoaXMuYmxfY291bnQ9bmV3IHV0aWxzLkJ1ZjE2KE1BWF9CSVRTKzEpO3RoaXMuaGVhcD1uZXcgdXRpbHMuQnVmMTYoMipMX0NPREVTKzEpO3plcm8odGhpcy5oZWFwKTt0aGlzLmhlYXBfbGVuPTA7dGhpcy5oZWFwX21heD0wO3RoaXMuZGVwdGg9bmV3IHV0aWxzLkJ1ZjE2KDIqTF9DT0RFUysxKTt6ZXJvKHRoaXMuZGVwdGgpO3RoaXMubF9idWY9MDt0aGlzLmxpdF9idWZzaXplPTA7dGhpcy5sYXN0X2xpdD0wO3RoaXMuZF9idWY9MDt0aGlzLm9wdF9sZW49MDt0aGlzLnN0YXRpY19sZW49MDt0aGlzLm1hdGNoZXM9MDt0aGlzLmluc2VydD0wO3RoaXMuYmlfYnVmPTA7dGhpcy5iaV92YWxpZD0wfWZ1bmN0aW9uIGRlZmxhdGVSZXNldEtlZXAoc3RybSl7dmFyIHM7aWYoIXN0cm18fCFzdHJtLnN0YXRlKXtyZXR1cm4gZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpfXN0cm0udG90YWxfaW49c3RybS50b3RhbF9vdXQ9MDtzdHJtLmRhdGFfdHlwZT1aX1VOS05PV047cz1zdHJtLnN0YXRlO3MucGVuZGluZz0wO3MucGVuZGluZ19vdXQ9MDtpZihzLndyYXA8MCl7cy53cmFwPS1zLndyYXB9cy5zdGF0dXM9cy53cmFwP0lOSVRfU1RBVEU6QlVTWV9TVEFURTtzdHJtLmFkbGVyPXMud3JhcD09PTI/MDoxO3MubGFzdF9mbHVzaD1aX05PX0ZMVVNIO3RyZWVzLl90cl9pbml0KHMpO3JldHVybiBaX09LfWZ1bmN0aW9uIGRlZmxhdGVSZXNldChzdHJtKXt2YXIgcmV0PWRlZmxhdGVSZXNldEtlZXAoc3RybSk7aWYocmV0PT09Wl9PSyl7bG1faW5pdChzdHJtLnN0YXRlKX1yZXR1cm4gcmV0fWZ1bmN0aW9uIGRlZmxhdGVTZXRIZWFkZXIoc3RybSxoZWFkKXtpZighc3RybXx8IXN0cm0uc3RhdGUpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1pZihzdHJtLnN0YXRlLndyYXAhPT0yKXtyZXR1cm4gWl9TVFJFQU1fRVJST1J9c3RybS5zdGF0ZS5nemhlYWQ9aGVhZDtyZXR1cm4gWl9PS31mdW5jdGlvbiBkZWZsYXRlSW5pdDIoc3RybSxsZXZlbCxtZXRob2Qsd2luZG93Qml0cyxtZW1MZXZlbCxzdHJhdGVneSl7aWYoIXN0cm0pe3JldHVybiBaX1NUUkVBTV9FUlJPUn12YXIgd3JhcD0xO2lmKGxldmVsPT09Wl9ERUZBVUxUX0NPTVBSRVNTSU9OKXtsZXZlbD02fWlmKHdpbmRvd0JpdHM8MCl7d3JhcD0wO3dpbmRvd0JpdHM9LXdpbmRvd0JpdHN9ZWxzZSBpZih3aW5kb3dCaXRzPjE1KXt3cmFwPTI7d2luZG93Qml0cy09MTZ9aWYobWVtTGV2ZWw8MXx8bWVtTGV2ZWw+TUFYX01FTV9MRVZFTHx8bWV0aG9kIT09Wl9ERUZMQVRFRHx8d2luZG93Qml0czw4fHx3aW5kb3dCaXRzPjE1fHxsZXZlbDwwfHxsZXZlbD45fHxzdHJhdGVneTwwfHxzdHJhdGVneT5aX0ZJWEVEKXtyZXR1cm4gZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpfWlmKHdpbmRvd0JpdHM9PT04KXt3aW5kb3dCaXRzPTl9dmFyIHM9bmV3IERlZmxhdGVTdGF0ZTtzdHJtLnN0YXRlPXM7cy5zdHJtPXN0cm07cy53cmFwPXdyYXA7cy5nemhlYWQ9bnVsbDtzLndfYml0cz13aW5kb3dCaXRzO3Mud19zaXplPTE8PHMud19iaXRzO3Mud19tYXNrPXMud19zaXplLTE7cy5oYXNoX2JpdHM9bWVtTGV2ZWwrNztzLmhhc2hfc2l6ZT0xPDxzLmhhc2hfYml0cztzLmhhc2hfbWFzaz1zLmhhc2hfc2l6ZS0xO3MuaGFzaF9zaGlmdD1+figocy5oYXNoX2JpdHMrTUlOX01BVENILTEpL01JTl9NQVRDSCk7cy53aW5kb3c9bmV3IHV0aWxzLkJ1Zjgocy53X3NpemUqMik7cy5oZWFkPW5ldyB1dGlscy5CdWYxNihzLmhhc2hfc2l6ZSk7cy5wcmV2PW5ldyB1dGlscy5CdWYxNihzLndfc2l6ZSk7cy5saXRfYnVmc2l6ZT0xPDxtZW1MZXZlbCs2O3MucGVuZGluZ19idWZfc2l6ZT1zLmxpdF9idWZzaXplKjQ7cy5wZW5kaW5nX2J1Zj1uZXcgdXRpbHMuQnVmOChzLnBlbmRpbmdfYnVmX3NpemUpO3MuZF9idWY9MSpzLmxpdF9idWZzaXplO3MubF9idWY9KDErMikqcy5saXRfYnVmc2l6ZTtzLmxldmVsPWxldmVsO3Muc3RyYXRlZ3k9c3RyYXRlZ3k7cy5tZXRob2Q9bWV0aG9kO3JldHVybiBkZWZsYXRlUmVzZXQoc3RybSl9ZnVuY3Rpb24gZGVmbGF0ZUluaXQoc3RybSxsZXZlbCl7cmV0dXJuIGRlZmxhdGVJbml0MihzdHJtLGxldmVsLFpfREVGTEFURUQsTUFYX1dCSVRTLERFRl9NRU1fTEVWRUwsWl9ERUZBVUxUX1NUUkFURUdZKX1mdW5jdGlvbiBkZWZsYXRlKHN0cm0sZmx1c2gpe3ZhciBvbGRfZmx1c2gsczt2YXIgYmVnLHZhbDtpZighc3RybXx8IXN0cm0uc3RhdGV8fGZsdXNoPlpfQkxPQ0t8fGZsdXNoPDApe3JldHVybiBzdHJtP2VycihzdHJtLFpfU1RSRUFNX0VSUk9SKTpaX1NUUkVBTV9FUlJPUn1zPXN0cm0uc3RhdGU7aWYoIXN0cm0ub3V0cHV0fHwhc3RybS5pbnB1dCYmc3RybS5hdmFpbF9pbiE9PTB8fHMuc3RhdHVzPT09RklOSVNIX1NUQVRFJiZmbHVzaCE9PVpfRklOSVNIKXtyZXR1cm4gZXJyKHN0cm0sc3RybS5hdmFpbF9vdXQ9PT0wP1pfQlVGX0VSUk9SOlpfU1RSRUFNX0VSUk9SKX1zLnN0cm09c3RybTtvbGRfZmx1c2g9cy5sYXN0X2ZsdXNoO3MubGFzdF9mbHVzaD1mbHVzaDtpZihzLnN0YXR1cz09PUlOSVRfU1RBVEUpe2lmKHMud3JhcD09PTIpe3N0cm0uYWRsZXI9MDtwdXRfYnl0ZShzLDMxKTtwdXRfYnl0ZShzLDEzOSk7cHV0X2J5dGUocyw4KTtpZighcy5nemhlYWQpe3B1dF9ieXRlKHMsMCk7cHV0X2J5dGUocywwKTtwdXRfYnl0ZShzLDApO3B1dF9ieXRlKHMsMCk7cHV0X2J5dGUocywwKTtwdXRfYnl0ZShzLHMubGV2ZWw9PT05PzI6cy5zdHJhdGVneT49Wl9IVUZGTUFOX09OTFl8fHMubGV2ZWw8Mj80OjApO3B1dF9ieXRlKHMsT1NfQ09ERSk7cy5zdGF0dXM9QlVTWV9TVEFURX1lbHNle3B1dF9ieXRlKHMsKHMuZ3poZWFkLnRleHQ/MTowKSsocy5nemhlYWQuaGNyYz8yOjApKyghcy5nemhlYWQuZXh0cmE/MDo0KSsoIXMuZ3poZWFkLm5hbWU/MDo4KSsoIXMuZ3poZWFkLmNvbW1lbnQ/MDoxNikpO3B1dF9ieXRlKHMscy5nemhlYWQudGltZSYyNTUpO3B1dF9ieXRlKHMscy5nemhlYWQudGltZT4+OCYyNTUpO3B1dF9ieXRlKHMscy5nemhlYWQudGltZT4+MTYmMjU1KTtwdXRfYnl0ZShzLHMuZ3poZWFkLnRpbWU+PjI0JjI1NSk7cHV0X2J5dGUocyxzLmxldmVsPT09OT8yOnMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/NDowKTtwdXRfYnl0ZShzLHMuZ3poZWFkLm9zJjI1NSk7aWYocy5nemhlYWQuZXh0cmEmJnMuZ3poZWFkLmV4dHJhLmxlbmd0aCl7cHV0X2J5dGUocyxzLmd6aGVhZC5leHRyYS5sZW5ndGgmMjU1KTtwdXRfYnl0ZShzLHMuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpfWlmKHMuZ3poZWFkLmhjcmMpe3N0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZywwKX1zLmd6aW5kZXg9MDtzLnN0YXR1cz1FWFRSQV9TVEFURX19ZWxzZXt2YXIgaGVhZGVyPVpfREVGTEFURUQrKHMud19iaXRzLTg8PDQpPDw4O3ZhciBsZXZlbF9mbGFncz0tMTtpZihzLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8cy5sZXZlbDwyKXtsZXZlbF9mbGFncz0wfWVsc2UgaWYocy5sZXZlbDw2KXtsZXZlbF9mbGFncz0xfWVsc2UgaWYocy5sZXZlbD09PTYpe2xldmVsX2ZsYWdzPTJ9ZWxzZXtsZXZlbF9mbGFncz0zfWhlYWRlcnw9bGV2ZWxfZmxhZ3M8PDY7aWYocy5zdHJzdGFydCE9PTApe2hlYWRlcnw9UFJFU0VUX0RJQ1R9aGVhZGVyKz0zMS1oZWFkZXIlMzE7cy5zdGF0dXM9QlVTWV9TVEFURTtwdXRTaG9ydE1TQihzLGhlYWRlcik7aWYocy5zdHJzdGFydCE9PTApe3B1dFNob3J0TVNCKHMsc3RybS5hZGxlcj4+PjE2KTtwdXRTaG9ydE1TQihzLHN0cm0uYWRsZXImNjU1MzUpfXN0cm0uYWRsZXI9MX19aWYocy5zdGF0dXM9PT1FWFRSQV9TVEFURSl7aWYocy5nemhlYWQuZXh0cmEpe2JlZz1zLnBlbmRpbmc7d2hpbGUocy5nemluZGV4PChzLmd6aGVhZC5leHRyYS5sZW5ndGgmNjU1MzUpKXtpZihzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUpe2lmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcpe3N0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKX1mbHVzaF9wZW5kaW5nKHN0cm0pO2JlZz1zLnBlbmRpbmc7aWYocy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKXticmVha319cHV0X2J5dGUocyxzLmd6aGVhZC5leHRyYVtzLmd6aW5kZXhdJjI1NSk7cy5nemluZGV4Kyt9aWYocy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyl7c3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpfWlmKHMuZ3ppbmRleD09PXMuZ3poZWFkLmV4dHJhLmxlbmd0aCl7cy5nemluZGV4PTA7cy5zdGF0dXM9TkFNRV9TVEFURX19ZWxzZXtzLnN0YXR1cz1OQU1FX1NUQVRFfX1pZihzLnN0YXR1cz09PU5BTUVfU1RBVEUpe2lmKHMuZ3poZWFkLm5hbWUpe2JlZz1zLnBlbmRpbmc7ZG97aWYocy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKXtpZihzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnKXtzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZyl9Zmx1c2hfcGVuZGluZyhzdHJtKTtiZWc9cy5wZW5kaW5nO2lmKHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSl7dmFsPTE7YnJlYWt9fWlmKHMuZ3ppbmRleDxzLmd6aGVhZC5uYW1lLmxlbmd0aCl7dmFsPXMuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChzLmd6aW5kZXgrKykmMjU1fWVsc2V7dmFsPTB9cHV0X2J5dGUocyx2YWwpfXdoaWxlKHZhbCE9PTApO2lmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcpe3N0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKX1pZih2YWw9PT0wKXtzLmd6aW5kZXg9MDtzLnN0YXR1cz1DT01NRU5UX1NUQVRFfX1lbHNle3Muc3RhdHVzPUNPTU1FTlRfU1RBVEV9fWlmKHMuc3RhdHVzPT09Q09NTUVOVF9TVEFURSl7aWYocy5nemhlYWQuY29tbWVudCl7YmVnPXMucGVuZGluZztkb3tpZihzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUpe2lmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcpe3N0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKX1mbHVzaF9wZW5kaW5nKHN0cm0pO2JlZz1zLnBlbmRpbmc7aWYocy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKXt2YWw9MTticmVha319aWYocy5nemluZGV4PHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoKXt2YWw9cy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSYyNTV9ZWxzZXt2YWw9MH1wdXRfYnl0ZShzLHZhbCl9d2hpbGUodmFsIT09MCk7aWYocy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyl7c3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpfWlmKHZhbD09PTApe3Muc3RhdHVzPUhDUkNfU1RBVEV9fWVsc2V7cy5zdGF0dXM9SENSQ19TVEFURX19aWYocy5zdGF0dXM9PT1IQ1JDX1NUQVRFKXtpZihzLmd6aGVhZC5oY3JjKXtpZihzLnBlbmRpbmcrMj5zLnBlbmRpbmdfYnVmX3NpemUpe2ZsdXNoX3BlbmRpbmcoc3RybSl9aWYocy5wZW5kaW5nKzI8PXMucGVuZGluZ19idWZfc2l6ZSl7cHV0X2J5dGUocyxzdHJtLmFkbGVyJjI1NSk7cHV0X2J5dGUocyxzdHJtLmFkbGVyPj44JjI1NSk7c3RybS5hZGxlcj0wO3Muc3RhdHVzPUJVU1lfU1RBVEV9fWVsc2V7cy5zdGF0dXM9QlVTWV9TVEFURX19aWYocy5wZW5kaW5nIT09MCl7Zmx1c2hfcGVuZGluZyhzdHJtKTtpZihzdHJtLmF2YWlsX291dD09PTApe3MubGFzdF9mbHVzaD0tMTtyZXR1cm4gWl9PS319ZWxzZSBpZihzdHJtLmF2YWlsX2luPT09MCYmcmFuayhmbHVzaCk8PXJhbmsob2xkX2ZsdXNoKSYmZmx1c2ghPT1aX0ZJTklTSCl7cmV0dXJuIGVycihzdHJtLFpfQlVGX0VSUk9SKX1pZihzLnN0YXR1cz09PUZJTklTSF9TVEFURSYmc3RybS5hdmFpbF9pbiE9PTApe3JldHVybiBlcnIoc3RybSxaX0JVRl9FUlJPUil9aWYoc3RybS5hdmFpbF9pbiE9PTB8fHMubG9va2FoZWFkIT09MHx8Zmx1c2ghPT1aX05PX0ZMVVNIJiZzLnN0YXR1cyE9PUZJTklTSF9TVEFURSl7dmFyIGJzdGF0ZT1zLnN0cmF0ZWd5PT09Wl9IVUZGTUFOX09OTFk/ZGVmbGF0ZV9odWZmKHMsZmx1c2gpOnMuc3RyYXRlZ3k9PT1aX1JMRT9kZWZsYXRlX3JsZShzLGZsdXNoKTpjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocyxmbHVzaCk7aWYoYnN0YXRlPT09QlNfRklOSVNIX1NUQVJURUR8fGJzdGF0ZT09PUJTX0ZJTklTSF9ET05FKXtzLnN0YXR1cz1GSU5JU0hfU1RBVEV9aWYoYnN0YXRlPT09QlNfTkVFRF9NT1JFfHxic3RhdGU9PT1CU19GSU5JU0hfU1RBUlRFRCl7aWYoc3RybS5hdmFpbF9vdXQ9PT0wKXtzLmxhc3RfZmx1c2g9LTF9cmV0dXJuIFpfT0t9aWYoYnN0YXRlPT09QlNfQkxPQ0tfRE9ORSl7aWYoZmx1c2g9PT1aX1BBUlRJQUxfRkxVU0gpe3RyZWVzLl90cl9hbGlnbihzKX1lbHNlIGlmKGZsdXNoIT09Wl9CTE9DSyl7dHJlZXMuX3RyX3N0b3JlZF9ibG9jayhzLDAsMCxmYWxzZSk7aWYoZmx1c2g9PT1aX0ZVTExfRkxVU0gpe3plcm8ocy5oZWFkKTtpZihzLmxvb2thaGVhZD09PTApe3Muc3Ryc3RhcnQ9MDtzLmJsb2NrX3N0YXJ0PTA7cy5pbnNlcnQ9MH19fWZsdXNoX3BlbmRpbmcoc3RybSk7aWYoc3RybS5hdmFpbF9vdXQ9PT0wKXtzLmxhc3RfZmx1c2g9LTE7cmV0dXJuIFpfT0t9fX1pZihmbHVzaCE9PVpfRklOSVNIKXtyZXR1cm4gWl9PS31pZihzLndyYXA8PTApe3JldHVybiBaX1NUUkVBTV9FTkR9aWYocy53cmFwPT09Mil7cHV0X2J5dGUocyxzdHJtLmFkbGVyJjI1NSk7cHV0X2J5dGUocyxzdHJtLmFkbGVyPj44JjI1NSk7cHV0X2J5dGUocyxzdHJtLmFkbGVyPj4xNiYyNTUpO3B1dF9ieXRlKHMsc3RybS5hZGxlcj4+MjQmMjU1KTtwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4mMjU1KTtwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4+PjgmMjU1KTtwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4+PjE2JjI1NSk7cHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj4yNCYyNTUpfWVsc2V7cHV0U2hvcnRNU0IocyxzdHJtLmFkbGVyPj4+MTYpO3B1dFNob3J0TVNCKHMsc3RybS5hZGxlciY2NTUzNSl9Zmx1c2hfcGVuZGluZyhzdHJtKTtpZihzLndyYXA+MCl7cy53cmFwPS1zLndyYXB9cmV0dXJuIHMucGVuZGluZyE9PTA/Wl9PSzpaX1NUUkVBTV9FTkR9ZnVuY3Rpb24gZGVmbGF0ZUVuZChzdHJtKXt2YXIgc3RhdHVzO2lmKCFzdHJtfHwhc3RybS5zdGF0ZSl7cmV0dXJuIFpfU1RSRUFNX0VSUk9SfXN0YXR1cz1zdHJtLnN0YXRlLnN0YXR1cztpZihzdGF0dXMhPT1JTklUX1NUQVRFJiZzdGF0dXMhPT1FWFRSQV9TVEFURSYmc3RhdHVzIT09TkFNRV9TVEFURSYmc3RhdHVzIT09Q09NTUVOVF9TVEFURSYmc3RhdHVzIT09SENSQ19TVEFURSYmc3RhdHVzIT09QlVTWV9TVEFURSYmc3RhdHVzIT09RklOSVNIX1NUQVRFKXtyZXR1cm4gZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpfXN0cm0uc3RhdGU9bnVsbDtyZXR1cm4gc3RhdHVzPT09QlVTWV9TVEFURT9lcnIoc3RybSxaX0RBVEFfRVJST1IpOlpfT0t9ZnVuY3Rpb24gZGVmbGF0ZVNldERpY3Rpb25hcnkoc3RybSxkaWN0aW9uYXJ5KXt2YXIgZGljdExlbmd0aD1kaWN0aW9uYXJ5Lmxlbmd0aDt2YXIgczt2YXIgc3RyLG47dmFyIHdyYXA7dmFyIGF2YWlsO3ZhciBuZXh0O3ZhciBpbnB1dDt2YXIgdG1wRGljdDtpZighc3RybXx8IXN0cm0uc3RhdGUpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zPXN0cm0uc3RhdGU7d3JhcD1zLndyYXA7aWYod3JhcD09PTJ8fHdyYXA9PT0xJiZzLnN0YXR1cyE9PUlOSVRfU1RBVEV8fHMubG9va2FoZWFkKXtyZXR1cm4gWl9TVFJFQU1fRVJST1J9aWYod3JhcD09PTEpe3N0cm0uYWRsZXI9YWRsZXIzMihzdHJtLmFkbGVyLGRpY3Rpb25hcnksZGljdExlbmd0aCwwKX1zLndyYXA9MDtpZihkaWN0TGVuZ3RoPj1zLndfc2l6ZSl7aWYod3JhcD09PTApe3plcm8ocy5oZWFkKTtzLnN0cnN0YXJ0PTA7cy5ibG9ja19zdGFydD0wO3MuaW5zZXJ0PTB9dG1wRGljdD1uZXcgdXRpbHMuQnVmOChzLndfc2l6ZSk7dXRpbHMuYXJyYXlTZXQodG1wRGljdCxkaWN0aW9uYXJ5LGRpY3RMZW5ndGgtcy53X3NpemUscy53X3NpemUsMCk7ZGljdGlvbmFyeT10bXBEaWN0O2RpY3RMZW5ndGg9cy53X3NpemV9YXZhaWw9c3RybS5hdmFpbF9pbjtuZXh0PXN0cm0ubmV4dF9pbjtpbnB1dD1zdHJtLmlucHV0O3N0cm0uYXZhaWxfaW49ZGljdExlbmd0aDtzdHJtLm5leHRfaW49MDtzdHJtLmlucHV0PWRpY3Rpb25hcnk7ZmlsbF93aW5kb3cocyk7d2hpbGUocy5sb29rYWhlYWQ+PU1JTl9NQVRDSCl7c3RyPXMuc3Ryc3RhcnQ7bj1zLmxvb2thaGVhZC0oTUlOX01BVENILTEpO2Rve3MuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzaztzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF07cy5oZWFkW3MuaW5zX2hdPXN0cjtzdHIrK313aGlsZSgtLW4pO3Muc3Ryc3RhcnQ9c3RyO3MubG9va2FoZWFkPU1JTl9NQVRDSC0xO2ZpbGxfd2luZG93KHMpfXMuc3Ryc3RhcnQrPXMubG9va2FoZWFkO3MuYmxvY2tfc3RhcnQ9cy5zdHJzdGFydDtzLmluc2VydD1zLmxvb2thaGVhZDtzLmxvb2thaGVhZD0wO3MubWF0Y2hfbGVuZ3RoPXMucHJldl9sZW5ndGg9TUlOX01BVENILTE7cy5tYXRjaF9hdmFpbGFibGU9MDtzdHJtLm5leHRfaW49bmV4dDtzdHJtLmlucHV0PWlucHV0O3N0cm0uYXZhaWxfaW49YXZhaWw7cy53cmFwPXdyYXA7cmV0dXJuIFpfT0t9ZXhwb3J0cy5kZWZsYXRlSW5pdD1kZWZsYXRlSW5pdDtleHBvcnRzLmRlZmxhdGVJbml0Mj1kZWZsYXRlSW5pdDI7ZXhwb3J0cy5kZWZsYXRlUmVzZXQ9ZGVmbGF0ZVJlc2V0O2V4cG9ydHMuZGVmbGF0ZVJlc2V0S2VlcD1kZWZsYXRlUmVzZXRLZWVwO2V4cG9ydHMuZGVmbGF0ZVNldEhlYWRlcj1kZWZsYXRlU2V0SGVhZGVyO2V4cG9ydHMuZGVmbGF0ZT1kZWZsYXRlO2V4cG9ydHMuZGVmbGF0ZUVuZD1kZWZsYXRlRW5kO2V4cG9ydHMuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZGVmbGF0ZVNldERpY3Rpb25hcnk7ZXhwb3J0cy5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjoxNDYsIi4vYWRsZXIzMiI6MTQ4LCIuL2NyYzMyIjoxNTAsIi4vbWVzc2FnZXMiOjE1NiwiLi90cmVlcyI6MTU3fV0sMTUyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gR1poZWFkZXIoKXt0aGlzLnRleHQ9MDt0aGlzLnRpbWU9MDt0aGlzLnhmbGFncz0wO3RoaXMub3M9MDt0aGlzLmV4dHJhPW51bGw7dGhpcy5leHRyYV9sZW49MDt0aGlzLm5hbWU9IiI7dGhpcy5jb21tZW50PSIiO3RoaXMuaGNyYz0wO3RoaXMuZG9uZT1mYWxzZX1tb2R1bGUuZXhwb3J0cz1HWmhlYWRlcn0se31dLDE1MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBCQUQ9MzA7dmFyIFRZUEU9MTI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gaW5mbGF0ZV9mYXN0KHN0cm0sc3RhcnQpe3ZhciBzdGF0ZTt2YXIgX2luO3ZhciBsYXN0O3ZhciBfb3V0O3ZhciBiZWc7dmFyIGVuZDt2YXIgZG1heDt2YXIgd3NpemU7dmFyIHdoYXZlO3ZhciB3bmV4dDt2YXIgc193aW5kb3c7dmFyIGhvbGQ7dmFyIGJpdHM7dmFyIGxjb2RlO3ZhciBkY29kZTt2YXIgbG1hc2s7dmFyIGRtYXNrO3ZhciBoZXJlO3ZhciBvcDt2YXIgbGVuO3ZhciBkaXN0O3ZhciBmcm9tO3ZhciBmcm9tX3NvdXJjZTt2YXIgaW5wdXQsb3V0cHV0O3N0YXRlPXN0cm0uc3RhdGU7X2luPXN0cm0ubmV4dF9pbjtpbnB1dD1zdHJtLmlucHV0O2xhc3Q9X2luKyhzdHJtLmF2YWlsX2luLTUpO19vdXQ9c3RybS5uZXh0X291dDtvdXRwdXQ9c3RybS5vdXRwdXQ7YmVnPV9vdXQtKHN0YXJ0LXN0cm0uYXZhaWxfb3V0KTtlbmQ9X291dCsoc3RybS5hdmFpbF9vdXQtMjU3KTtkbWF4PXN0YXRlLmRtYXg7d3NpemU9c3RhdGUud3NpemU7d2hhdmU9c3RhdGUud2hhdmU7d25leHQ9c3RhdGUud25leHQ7c193aW5kb3c9c3RhdGUud2luZG93O2hvbGQ9c3RhdGUuaG9sZDtiaXRzPXN0YXRlLmJpdHM7bGNvZGU9c3RhdGUubGVuY29kZTtkY29kZT1zdGF0ZS5kaXN0Y29kZTtsbWFzaz0oMTw8c3RhdGUubGVuYml0cyktMTtkbWFzaz0oMTw8c3RhdGUuZGlzdGJpdHMpLTE7dG9wOmRve2lmKGJpdHM8MTUpe2hvbGQrPWlucHV0W19pbisrXTw8Yml0cztiaXRzKz04O2hvbGQrPWlucHV0W19pbisrXTw8Yml0cztiaXRzKz04fWhlcmU9bGNvZGVbaG9sZCZsbWFza107ZG9sZW46Zm9yKDs7KXtvcD1oZXJlPj4+MjQ7aG9sZD4+Pj1vcDtiaXRzLT1vcDtvcD1oZXJlPj4+MTYmMjU1O2lmKG9wPT09MCl7b3V0cHV0W19vdXQrK109aGVyZSY2NTUzNX1lbHNlIGlmKG9wJjE2KXtsZW49aGVyZSY2NTUzNTtvcCY9MTU7aWYob3Ape2lmKGJpdHM8b3Ape2hvbGQrPWlucHV0W19pbisrXTw8Yml0cztiaXRzKz04fWxlbis9aG9sZCYoMTw8b3ApLTE7aG9sZD4+Pj1vcDtiaXRzLT1vcH1pZihiaXRzPDE1KXtob2xkKz1pbnB1dFtfaW4rK108PGJpdHM7Yml0cys9ODtob2xkKz1pbnB1dFtfaW4rK108PGJpdHM7Yml0cys9OH1oZXJlPWRjb2RlW2hvbGQmZG1hc2tdO2RvZGlzdDpmb3IoOzspe29wPWhlcmU+Pj4yNDtob2xkPj4+PW9wO2JpdHMtPW9wO29wPWhlcmU+Pj4xNiYyNTU7aWYob3AmMTYpe2Rpc3Q9aGVyZSY2NTUzNTtvcCY9MTU7aWYoYml0czxvcCl7aG9sZCs9aW5wdXRbX2luKytdPDxiaXRzO2JpdHMrPTg7aWYoYml0czxvcCl7aG9sZCs9aW5wdXRbX2luKytdPDxiaXRzO2JpdHMrPTh9fWRpc3QrPWhvbGQmKDE8PG9wKS0xO2lmKGRpc3Q+ZG1heCl7c3RybS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIjtzdGF0ZS5tb2RlPUJBRDticmVhayB0b3B9aG9sZD4+Pj1vcDtiaXRzLT1vcDtvcD1fb3V0LWJlZztpZihkaXN0Pm9wKXtvcD1kaXN0LW9wO2lmKG9wPndoYXZlKXtpZihzdGF0ZS5zYW5lKXtzdHJtLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siO3N0YXRlLm1vZGU9QkFEO2JyZWFrIHRvcH19ZnJvbT0wO2Zyb21fc291cmNlPXNfd2luZG93O2lmKHduZXh0PT09MCl7ZnJvbSs9d3NpemUtb3A7aWYob3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3Q7ZnJvbV9zb3VyY2U9b3V0cHV0fX1lbHNlIGlmKHduZXh0PG9wKXtmcm9tKz13c2l6ZSt3bmV4dC1vcDtvcC09d25leHQ7aWYob3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT0wO2lmKHduZXh0PGxlbil7b3A9d25leHQ7bGVuLT1vcDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0O2Zyb21fc291cmNlPW91dHB1dH19fWVsc2V7ZnJvbSs9d25leHQtb3A7aWYob3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3Q7ZnJvbV9zb3VyY2U9b3V0cHV0fX13aGlsZShsZW4+Mil7b3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXTtvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdO291dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK107bGVuLT0zfWlmKGxlbil7b3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXTtpZihsZW4+MSl7b3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXX19fWVsc2V7ZnJvbT1fb3V0LWRpc3Q7ZG97b3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK107b3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK107b3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK107bGVuLT0zfXdoaWxlKGxlbj4yKTtpZihsZW4pe291dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdO2lmKGxlbj4xKXtvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXX19fX1lbHNlIGlmKChvcCY2NCk9PT0wKXtoZXJlPWRjb2RlWyhoZXJlJjY1NTM1KSsoaG9sZCYoMTw8b3ApLTEpXTtjb250aW51ZSBkb2Rpc3R9ZWxzZXtzdHJtLm1zZz0iaW52YWxpZCBkaXN0YW5jZSBjb2RlIjtzdGF0ZS5tb2RlPUJBRDticmVhayB0b3B9YnJlYWt9fWVsc2UgaWYoKG9wJjY0KT09PTApe2hlcmU9bGNvZGVbKGhlcmUmNjU1MzUpKyhob2xkJigxPDxvcCktMSldO2NvbnRpbnVlIGRvbGVufWVsc2UgaWYob3AmMzIpe3N0YXRlLm1vZGU9VFlQRTticmVhayB0b3B9ZWxzZXtzdHJtLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIjtzdGF0ZS5tb2RlPUJBRDticmVhayB0b3B9YnJlYWt9fXdoaWxlKF9pbjxsYXN0JiZfb3V0PGVuZCk7bGVuPWJpdHM+PjM7X2luLT1sZW47Yml0cy09bGVuPDwzO2hvbGQmPSgxPDxiaXRzKS0xO3N0cm0ubmV4dF9pbj1faW47c3RybS5uZXh0X291dD1fb3V0O3N0cm0uYXZhaWxfaW49X2luPGxhc3Q/NSsobGFzdC1faW4pOjUtKF9pbi1sYXN0KTtzdHJtLmF2YWlsX291dD1fb3V0PGVuZD8yNTcrKGVuZC1fb3V0KToyNTctKF9vdXQtZW5kKTtzdGF0ZS5ob2xkPWhvbGQ7c3RhdGUuYml0cz1iaXRzO3JldHVybn19LHt9XSwxNTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbHM9cmVxdWlyZSgiLi4vdXRpbHMvY29tbW9uIik7dmFyIGFkbGVyMzI9cmVxdWlyZSgiLi9hZGxlcjMyIik7dmFyIGNyYzMyPXJlcXVpcmUoIi4vY3JjMzIiKTt2YXIgaW5mbGF0ZV9mYXN0PXJlcXVpcmUoIi4vaW5mZmFzdCIpO3ZhciBpbmZsYXRlX3RhYmxlPXJlcXVpcmUoIi4vaW5mdHJlZXMiKTt2YXIgQ09ERVM9MDt2YXIgTEVOUz0xO3ZhciBESVNUUz0yO3ZhciBaX0ZJTklTSD00O3ZhciBaX0JMT0NLPTU7dmFyIFpfVFJFRVM9Njt2YXIgWl9PSz0wO3ZhciBaX1NUUkVBTV9FTkQ9MTt2YXIgWl9ORUVEX0RJQ1Q9Mjt2YXIgWl9TVFJFQU1fRVJST1I9LTI7dmFyIFpfREFUQV9FUlJPUj0tMzt2YXIgWl9NRU1fRVJST1I9LTQ7dmFyIFpfQlVGX0VSUk9SPS01O3ZhciBaX0RFRkxBVEVEPTg7dmFyIEhFQUQ9MTt2YXIgRkxBR1M9Mjt2YXIgVElNRT0zO3ZhciBPUz00O3ZhciBFWExFTj01O3ZhciBFWFRSQT02O3ZhciBOQU1FPTc7dmFyIENPTU1FTlQ9ODt2YXIgSENSQz05O3ZhciBESUNUSUQ9MTA7dmFyIERJQ1Q9MTE7dmFyIFRZUEU9MTI7dmFyIFRZUEVETz0xMzt2YXIgU1RPUkVEPTE0O3ZhciBDT1BZXz0xNTt2YXIgQ09QWT0xNjt2YXIgVEFCTEU9MTc7dmFyIExFTkxFTlM9MTg7dmFyIENPREVMRU5TPTE5O3ZhciBMRU5fPTIwO3ZhciBMRU49MjE7dmFyIExFTkVYVD0yMjt2YXIgRElTVD0yMzt2YXIgRElTVEVYVD0yNDt2YXIgTUFUQ0g9MjU7dmFyIExJVD0yNjt2YXIgQ0hFQ0s9Mjc7dmFyIExFTkdUSD0yODt2YXIgRE9ORT0yOTt2YXIgQkFEPTMwO3ZhciBNRU09MzE7dmFyIFNZTkM9MzI7dmFyIEVOT1VHSF9MRU5TPTg1Mjt2YXIgRU5PVUdIX0RJU1RTPTU5Mjt2YXIgTUFYX1dCSVRTPTE1O3ZhciBERUZfV0JJVFM9TUFYX1dCSVRTO2Z1bmN0aW9uIHpzd2FwMzIocSl7cmV0dXJuKHE+Pj4yNCYyNTUpKyhxPj4+OCY2NTI4MCkrKChxJjY1MjgwKTw8OCkrKChxJjI1NSk8PDI0KX1mdW5jdGlvbiBJbmZsYXRlU3RhdGUoKXt0aGlzLm1vZGU9MDt0aGlzLmxhc3Q9ZmFsc2U7dGhpcy53cmFwPTA7dGhpcy5oYXZlZGljdD1mYWxzZTt0aGlzLmZsYWdzPTA7dGhpcy5kbWF4PTA7dGhpcy5jaGVjaz0wO3RoaXMudG90YWw9MDt0aGlzLmhlYWQ9bnVsbDt0aGlzLndiaXRzPTA7dGhpcy53c2l6ZT0wO3RoaXMud2hhdmU9MDt0aGlzLnduZXh0PTA7dGhpcy53aW5kb3c9bnVsbDt0aGlzLmhvbGQ9MDt0aGlzLmJpdHM9MDt0aGlzLmxlbmd0aD0wO3RoaXMub2Zmc2V0PTA7dGhpcy5leHRyYT0wO3RoaXMubGVuY29kZT1udWxsO3RoaXMuZGlzdGNvZGU9bnVsbDt0aGlzLmxlbmJpdHM9MDt0aGlzLmRpc3RiaXRzPTA7dGhpcy5uY29kZT0wO3RoaXMubmxlbj0wO3RoaXMubmRpc3Q9MDt0aGlzLmhhdmU9MDt0aGlzLm5leHQ9bnVsbDt0aGlzLmxlbnM9bmV3IHV0aWxzLkJ1ZjE2KDMyMCk7dGhpcy53b3JrPW5ldyB1dGlscy5CdWYxNigyODgpO3RoaXMubGVuZHluPW51bGw7dGhpcy5kaXN0ZHluPW51bGw7dGhpcy5zYW5lPTA7dGhpcy5iYWNrPTA7dGhpcy53YXM9MH1mdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pe3ZhciBzdGF0ZTtpZighc3RybXx8IXN0cm0uc3RhdGUpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zdGF0ZT1zdHJtLnN0YXRlO3N0cm0udG90YWxfaW49c3RybS50b3RhbF9vdXQ9c3RhdGUudG90YWw9MDtzdHJtLm1zZz0iIjtpZihzdGF0ZS53cmFwKXtzdHJtLmFkbGVyPXN0YXRlLndyYXAmMX1zdGF0ZS5tb2RlPUhFQUQ7c3RhdGUubGFzdD0wO3N0YXRlLmhhdmVkaWN0PTA7c3RhdGUuZG1heD0zMjc2ODtzdGF0ZS5oZWFkPW51bGw7c3RhdGUuaG9sZD0wO3N0YXRlLmJpdHM9MDtzdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bj1uZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0xFTlMpO3N0YXRlLmRpc3Rjb2RlPXN0YXRlLmRpc3RkeW49bmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9ESVNUUyk7c3RhdGUuc2FuZT0xO3N0YXRlLmJhY2s9LTE7cmV0dXJuIFpfT0t9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pe3ZhciBzdGF0ZTtpZighc3RybXx8IXN0cm0uc3RhdGUpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zdGF0ZT1zdHJtLnN0YXRlO3N0YXRlLndzaXplPTA7c3RhdGUud2hhdmU9MDtzdGF0ZS53bmV4dD0wO3JldHVybiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pfWZ1bmN0aW9uIGluZmxhdGVSZXNldDIoc3RybSx3aW5kb3dCaXRzKXt2YXIgd3JhcDt2YXIgc3RhdGU7aWYoIXN0cm18fCFzdHJtLnN0YXRlKXtyZXR1cm4gWl9TVFJFQU1fRVJST1J9c3RhdGU9c3RybS5zdGF0ZTtpZih3aW5kb3dCaXRzPDApe3dyYXA9MDt3aW5kb3dCaXRzPS13aW5kb3dCaXRzfWVsc2V7d3JhcD0od2luZG93Qml0cz4+NCkrMTtpZih3aW5kb3dCaXRzPDQ4KXt3aW5kb3dCaXRzJj0xNX19aWYod2luZG93Qml0cyYmKHdpbmRvd0JpdHM8OHx8d2luZG93Qml0cz4xNSkpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1pZihzdGF0ZS53aW5kb3chPT1udWxsJiZzdGF0ZS53Yml0cyE9PXdpbmRvd0JpdHMpe3N0YXRlLndpbmRvdz1udWxsfXN0YXRlLndyYXA9d3JhcDtzdGF0ZS53Yml0cz13aW5kb3dCaXRzO3JldHVybiBpbmZsYXRlUmVzZXQoc3RybSl9ZnVuY3Rpb24gaW5mbGF0ZUluaXQyKHN0cm0sd2luZG93Qml0cyl7dmFyIHJldDt2YXIgc3RhdGU7aWYoIXN0cm0pe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zdGF0ZT1uZXcgSW5mbGF0ZVN0YXRlO3N0cm0uc3RhdGU9c3RhdGU7c3RhdGUud2luZG93PW51bGw7cmV0PWluZmxhdGVSZXNldDIoc3RybSx3aW5kb3dCaXRzKTtpZihyZXQhPT1aX09LKXtzdHJtLnN0YXRlPW51bGx9cmV0dXJuIHJldH1mdW5jdGlvbiBpbmZsYXRlSW5pdChzdHJtKXtyZXR1cm4gaW5mbGF0ZUluaXQyKHN0cm0sREVGX1dCSVRTKX12YXIgdmlyZ2luPXRydWU7dmFyIGxlbmZpeCxkaXN0Zml4O2Z1bmN0aW9uIGZpeGVkdGFibGVzKHN0YXRlKXtpZih2aXJnaW4pe3ZhciBzeW07bGVuZml4PW5ldyB1dGlscy5CdWYzMig1MTIpO2Rpc3RmaXg9bmV3IHV0aWxzLkJ1ZjMyKDMyKTtzeW09MDt3aGlsZShzeW08MTQ0KXtzdGF0ZS5sZW5zW3N5bSsrXT04fXdoaWxlKHN5bTwyNTYpe3N0YXRlLmxlbnNbc3ltKytdPTl9d2hpbGUoc3ltPDI4MCl7c3RhdGUubGVuc1tzeW0rK109N313aGlsZShzeW08Mjg4KXtzdGF0ZS5sZW5zW3N5bSsrXT04fWluZmxhdGVfdGFibGUoTEVOUyxzdGF0ZS5sZW5zLDAsMjg4LGxlbmZpeCwwLHN0YXRlLndvcmsse2JpdHM6OX0pO3N5bT0wO3doaWxlKHN5bTwzMil7c3RhdGUubGVuc1tzeW0rK109NX1pbmZsYXRlX3RhYmxlKERJU1RTLHN0YXRlLmxlbnMsMCwzMixkaXN0Zml4LDAsc3RhdGUud29yayx7Yml0czo1fSk7dmlyZ2luPWZhbHNlfXN0YXRlLmxlbmNvZGU9bGVuZml4O3N0YXRlLmxlbmJpdHM9OTtzdGF0ZS5kaXN0Y29kZT1kaXN0Zml4O3N0YXRlLmRpc3RiaXRzPTV9ZnVuY3Rpb24gdXBkYXRld2luZG93KHN0cm0sc3JjLGVuZCxjb3B5KXt2YXIgZGlzdDt2YXIgc3RhdGU9c3RybS5zdGF0ZTtpZihzdGF0ZS53aW5kb3c9PT1udWxsKXtzdGF0ZS53c2l6ZT0xPDxzdGF0ZS53Yml0cztzdGF0ZS53bmV4dD0wO3N0YXRlLndoYXZlPTA7c3RhdGUud2luZG93PW5ldyB1dGlscy5CdWY4KHN0YXRlLndzaXplKX1pZihjb3B5Pj1zdGF0ZS53c2l6ZSl7dXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LHNyYyxlbmQtc3RhdGUud3NpemUsc3RhdGUud3NpemUsMCk7c3RhdGUud25leHQ9MDtzdGF0ZS53aGF2ZT1zdGF0ZS53c2l6ZX1lbHNle2Rpc3Q9c3RhdGUud3NpemUtc3RhdGUud25leHQ7aWYoZGlzdD5jb3B5KXtkaXN0PWNvcHl9dXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LHNyYyxlbmQtY29weSxkaXN0LHN0YXRlLnduZXh0KTtjb3B5LT1kaXN0O2lmKGNvcHkpe3V0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdyxzcmMsZW5kLWNvcHksY29weSwwKTtzdGF0ZS53bmV4dD1jb3B5O3N0YXRlLndoYXZlPXN0YXRlLndzaXplfWVsc2V7c3RhdGUud25leHQrPWRpc3Q7aWYoc3RhdGUud25leHQ9PT1zdGF0ZS53c2l6ZSl7c3RhdGUud25leHQ9MH1pZihzdGF0ZS53aGF2ZTxzdGF0ZS53c2l6ZSl7c3RhdGUud2hhdmUrPWRpc3R9fX1yZXR1cm4gMH1mdW5jdGlvbiBpbmZsYXRlKHN0cm0sZmx1c2gpe3ZhciBzdGF0ZTt2YXIgaW5wdXQsb3V0cHV0O3ZhciBuZXh0O3ZhciBwdXQ7dmFyIGhhdmUsbGVmdDt2YXIgaG9sZDt2YXIgYml0czt2YXIgX2luLF9vdXQ7dmFyIGNvcHk7dmFyIGZyb207dmFyIGZyb21fc291cmNlO3ZhciBoZXJlPTA7dmFyIGhlcmVfYml0cyxoZXJlX29wLGhlcmVfdmFsO3ZhciBsYXN0X2JpdHMsbGFzdF9vcCxsYXN0X3ZhbDt2YXIgbGVuO3ZhciByZXQ7dmFyIGhidWY9bmV3IHV0aWxzLkJ1ZjgoNCk7dmFyIG9wdHM7dmFyIG47dmFyIG9yZGVyPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XQo7aWYoIXN0cm18fCFzdHJtLnN0YXRlfHwhc3RybS5vdXRwdXR8fCFzdHJtLmlucHV0JiZzdHJtLmF2YWlsX2luIT09MCl7cmV0dXJuIFpfU1RSRUFNX0VSUk9SfXN0YXRlPXN0cm0uc3RhdGU7aWYoc3RhdGUubW9kZT09PVRZUEUpe3N0YXRlLm1vZGU9VFlQRURPfXB1dD1zdHJtLm5leHRfb3V0O291dHB1dD1zdHJtLm91dHB1dDtsZWZ0PXN0cm0uYXZhaWxfb3V0O25leHQ9c3RybS5uZXh0X2luO2lucHV0PXN0cm0uaW5wdXQ7aGF2ZT1zdHJtLmF2YWlsX2luO2hvbGQ9c3RhdGUuaG9sZDtiaXRzPXN0YXRlLmJpdHM7X2luPWhhdmU7X291dD1sZWZ0O3JldD1aX09LO2luZl9sZWF2ZTpmb3IoOzspe3N3aXRjaChzdGF0ZS5tb2RlKXtjYXNlIEhFQUQ6aWYoc3RhdGUud3JhcD09PTApe3N0YXRlLm1vZGU9VFlQRURPO2JyZWFrfXdoaWxlKGJpdHM8MTYpe2lmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1pZihzdGF0ZS53cmFwJjImJmhvbGQ9PT0zNTYxNSl7c3RhdGUuY2hlY2s9MDtoYnVmWzBdPWhvbGQmMjU1O2hidWZbMV09aG9sZD4+PjgmMjU1O3N0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKTtob2xkPTA7Yml0cz0wO3N0YXRlLm1vZGU9RkxBR1M7YnJlYWt9c3RhdGUuZmxhZ3M9MDtpZihzdGF0ZS5oZWFkKXtzdGF0ZS5oZWFkLmRvbmU9ZmFsc2V9aWYoIShzdGF0ZS53cmFwJjEpfHwoKChob2xkJjI1NSk8PDgpKyhob2xkPj44KSklMzEpe3N0cm0ubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIjtzdGF0ZS5tb2RlPUJBRDticmVha31pZigoaG9sZCYxNSkhPT1aX0RFRkxBVEVEKXtzdHJtLm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ+Pj49NDtiaXRzLT00O2xlbj0oaG9sZCYxNSkrODtpZihzdGF0ZS53Yml0cz09PTApe3N0YXRlLndiaXRzPWxlbn1lbHNlIGlmKGxlbj5zdGF0ZS53Yml0cyl7c3RybS5tc2c9ImludmFsaWQgd2luZG93IHNpemUiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmRtYXg9MTw8bGVuO3N0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MTtzdGF0ZS5tb2RlPWhvbGQmNTEyP0RJQ1RJRDpUWVBFO2hvbGQ9MDtiaXRzPTA7YnJlYWs7Y2FzZSBGTEFHUzp3aGlsZShiaXRzPDE2KXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9c3RhdGUuZmxhZ3M9aG9sZDtpZigoc3RhdGUuZmxhZ3MmMjU1KSE9PVpfREVGTEFURUQpe3N0cm0ubXNnPSJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUuZmxhZ3MmNTczNDQpe3N0cm0ubXNnPSJ1bmtub3duIGhlYWRlciBmbGFncyBzZXQiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmhlYWQpe3N0YXRlLmhlYWQudGV4dD1ob2xkPj44JjF9aWYoc3RhdGUuZmxhZ3MmNTEyKXtoYnVmWzBdPWhvbGQmMjU1O2hidWZbMV09aG9sZD4+PjgmMjU1O3N0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKX1ob2xkPTA7Yml0cz0wO3N0YXRlLm1vZGU9VElNRTtjYXNlIFRJTUU6d2hpbGUoYml0czwzMil7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fWlmKHN0YXRlLmhlYWQpe3N0YXRlLmhlYWQudGltZT1ob2xkfWlmKHN0YXRlLmZsYWdzJjUxMil7aGJ1ZlswXT1ob2xkJjI1NTtoYnVmWzFdPWhvbGQ+Pj44JjI1NTtoYnVmWzJdPWhvbGQ+Pj4xNiYyNTU7aGJ1ZlszXT1ob2xkPj4+MjQmMjU1O3N0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsNCwwKX1ob2xkPTA7Yml0cz0wO3N0YXRlLm1vZGU9T1M7Y2FzZSBPUzp3aGlsZShiaXRzPDE2KXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9aWYoc3RhdGUuaGVhZCl7c3RhdGUuaGVhZC54ZmxhZ3M9aG9sZCYyNTU7c3RhdGUuaGVhZC5vcz1ob2xkPj44fWlmKHN0YXRlLmZsYWdzJjUxMil7aGJ1ZlswXT1ob2xkJjI1NTtoYnVmWzFdPWhvbGQ+Pj44JjI1NTtzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCl9aG9sZD0wO2JpdHM9MDtzdGF0ZS5tb2RlPUVYTEVOO2Nhc2UgRVhMRU46aWYoc3RhdGUuZmxhZ3MmMTAyNCl7d2hpbGUoYml0czwxNil7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fXN0YXRlLmxlbmd0aD1ob2xkO2lmKHN0YXRlLmhlYWQpe3N0YXRlLmhlYWQuZXh0cmFfbGVuPWhvbGR9aWYoc3RhdGUuZmxhZ3MmNTEyKXtoYnVmWzBdPWhvbGQmMjU1O2hidWZbMV09aG9sZD4+PjgmMjU1O3N0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKX1ob2xkPTA7Yml0cz0wfWVsc2UgaWYoc3RhdGUuaGVhZCl7c3RhdGUuaGVhZC5leHRyYT1udWxsfXN0YXRlLm1vZGU9RVhUUkE7Y2FzZSBFWFRSQTppZihzdGF0ZS5mbGFncyYxMDI0KXtjb3B5PXN0YXRlLmxlbmd0aDtpZihjb3B5PmhhdmUpe2NvcHk9aGF2ZX1pZihjb3B5KXtpZihzdGF0ZS5oZWFkKXtsZW49c3RhdGUuaGVhZC5leHRyYV9sZW4tc3RhdGUubGVuZ3RoO2lmKCFzdGF0ZS5oZWFkLmV4dHJhKXtzdGF0ZS5oZWFkLmV4dHJhPW5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbil9dXRpbHMuYXJyYXlTZXQoc3RhdGUuaGVhZC5leHRyYSxpbnB1dCxuZXh0LGNvcHksbGVuKX1pZihzdGF0ZS5mbGFncyY1MTIpe3N0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGlucHV0LGNvcHksbmV4dCl9aGF2ZS09Y29weTtuZXh0Kz1jb3B5O3N0YXRlLmxlbmd0aC09Y29weX1pZihzdGF0ZS5sZW5ndGgpe2JyZWFrIGluZl9sZWF2ZX19c3RhdGUubGVuZ3RoPTA7c3RhdGUubW9kZT1OQU1FO2Nhc2UgTkFNRTppZihzdGF0ZS5mbGFncyYyMDQ4KXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWNvcHk9MDtkb3tsZW49aW5wdXRbbmV4dCtjb3B5KytdO2lmKHN0YXRlLmhlYWQmJmxlbiYmc3RhdGUubGVuZ3RoPDY1NTM2KXtzdGF0ZS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUobGVuKX19d2hpbGUobGVuJiZjb3B5PGhhdmUpO2lmKHN0YXRlLmZsYWdzJjUxMil7c3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KX1oYXZlLT1jb3B5O25leHQrPWNvcHk7aWYobGVuKXticmVhayBpbmZfbGVhdmV9fWVsc2UgaWYoc3RhdGUuaGVhZCl7c3RhdGUuaGVhZC5uYW1lPW51bGx9c3RhdGUubGVuZ3RoPTA7c3RhdGUubW9kZT1DT01NRU5UO2Nhc2UgQ09NTUVOVDppZihzdGF0ZS5mbGFncyY0MDk2KXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWNvcHk9MDtkb3tsZW49aW5wdXRbbmV4dCtjb3B5KytdO2lmKHN0YXRlLmhlYWQmJmxlbiYmc3RhdGUubGVuZ3RoPDY1NTM2KXtzdGF0ZS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUobGVuKX19d2hpbGUobGVuJiZjb3B5PGhhdmUpO2lmKHN0YXRlLmZsYWdzJjUxMil7c3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KX1oYXZlLT1jb3B5O25leHQrPWNvcHk7aWYobGVuKXticmVhayBpbmZfbGVhdmV9fWVsc2UgaWYoc3RhdGUuaGVhZCl7c3RhdGUuaGVhZC5jb21tZW50PW51bGx9c3RhdGUubW9kZT1IQ1JDO2Nhc2UgSENSQzppZihzdGF0ZS5mbGFncyY1MTIpe3doaWxlKGJpdHM8MTYpe2lmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1pZihob2xkIT09KHN0YXRlLmNoZWNrJjY1NTM1KSl7c3RybS5tc2c9ImhlYWRlciBjcmMgbWlzbWF0Y2giO3N0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MDtiaXRzPTB9aWYoc3RhdGUuaGVhZCl7c3RhdGUuaGVhZC5oY3JjPXN0YXRlLmZsYWdzPj45JjE7c3RhdGUuaGVhZC5kb25lPXRydWV9c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0wO3N0YXRlLm1vZGU9VFlQRTticmVhaztjYXNlIERJQ1RJRDp3aGlsZShiaXRzPDMyKXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz16c3dhcDMyKGhvbGQpO2hvbGQ9MDtiaXRzPTA7c3RhdGUubW9kZT1ESUNUO2Nhc2UgRElDVDppZihzdGF0ZS5oYXZlZGljdD09PTApe3N0cm0ubmV4dF9vdXQ9cHV0O3N0cm0uYXZhaWxfb3V0PWxlZnQ7c3RybS5uZXh0X2luPW5leHQ7c3RybS5hdmFpbF9pbj1oYXZlO3N0YXRlLmhvbGQ9aG9sZDtzdGF0ZS5iaXRzPWJpdHM7cmV0dXJuIFpfTkVFRF9ESUNUfXN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MTtzdGF0ZS5tb2RlPVRZUEU7Y2FzZSBUWVBFOmlmKGZsdXNoPT09Wl9CTE9DS3x8Zmx1c2g9PT1aX1RSRUVTKXticmVhayBpbmZfbGVhdmV9Y2FzZSBUWVBFRE86aWYoc3RhdGUubGFzdCl7aG9sZD4+Pj1iaXRzJjc7Yml0cy09Yml0cyY3O3N0YXRlLm1vZGU9Q0hFQ0s7YnJlYWt9d2hpbGUoYml0czwzKXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9c3RhdGUubGFzdD1ob2xkJjE7aG9sZD4+Pj0xO2JpdHMtPTE7c3dpdGNoKGhvbGQmMyl7Y2FzZSAwOnN0YXRlLm1vZGU9U1RPUkVEO2JyZWFrO2Nhc2UgMTpmaXhlZHRhYmxlcyhzdGF0ZSk7c3RhdGUubW9kZT1MRU5fO2lmKGZsdXNoPT09Wl9UUkVFUyl7aG9sZD4+Pj0yO2JpdHMtPTI7YnJlYWsgaW5mX2xlYXZlfWJyZWFrO2Nhc2UgMjpzdGF0ZS5tb2RlPVRBQkxFO2JyZWFrO2Nhc2UgMzpzdHJtLm1zZz0iaW52YWxpZCBibG9jayB0eXBlIjtzdGF0ZS5tb2RlPUJBRH1ob2xkPj4+PTI7Yml0cy09MjticmVhaztjYXNlIFNUT1JFRDpob2xkPj4+PWJpdHMmNztiaXRzLT1iaXRzJjc7d2hpbGUoYml0czwzMil7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fWlmKChob2xkJjY1NTM1KSE9PShob2xkPj4+MTZeNjU1MzUpKXtzdHJtLm1zZz0iaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3RocyI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUubGVuZ3RoPWhvbGQmNjU1MzU7aG9sZD0wO2JpdHM9MDtzdGF0ZS5tb2RlPUNPUFlfO2lmKGZsdXNoPT09Wl9UUkVFUyl7YnJlYWsgaW5mX2xlYXZlfWNhc2UgQ09QWV86c3RhdGUubW9kZT1DT1BZO2Nhc2UgQ09QWTpjb3B5PXN0YXRlLmxlbmd0aDtpZihjb3B5KXtpZihjb3B5PmhhdmUpe2NvcHk9aGF2ZX1pZihjb3B5PmxlZnQpe2NvcHk9bGVmdH1pZihjb3B5PT09MCl7YnJlYWsgaW5mX2xlYXZlfXV0aWxzLmFycmF5U2V0KG91dHB1dCxpbnB1dCxuZXh0LGNvcHkscHV0KTtoYXZlLT1jb3B5O25leHQrPWNvcHk7bGVmdC09Y29weTtwdXQrPWNvcHk7c3RhdGUubGVuZ3RoLT1jb3B5O2JyZWFrfXN0YXRlLm1vZGU9VFlQRTticmVhaztjYXNlIFRBQkxFOndoaWxlKGJpdHM8MTQpe2lmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1zdGF0ZS5ubGVuPShob2xkJjMxKSsyNTc7aG9sZD4+Pj01O2JpdHMtPTU7c3RhdGUubmRpc3Q9KGhvbGQmMzEpKzE7aG9sZD4+Pj01O2JpdHMtPTU7c3RhdGUubmNvZGU9KGhvbGQmMTUpKzQ7aG9sZD4+Pj00O2JpdHMtPTQ7aWYoc3RhdGUubmxlbj4yODZ8fHN0YXRlLm5kaXN0PjMwKXtzdHJtLm1zZz0idG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmhhdmU9MDtzdGF0ZS5tb2RlPUxFTkxFTlM7Y2FzZSBMRU5MRU5TOndoaWxlKHN0YXRlLmhhdmU8c3RhdGUubmNvZGUpe3doaWxlKGJpdHM8Myl7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fXN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV09aG9sZCY3O2hvbGQ+Pj49MztiaXRzLT0zfXdoaWxlKHN0YXRlLmhhdmU8MTkpe3N0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV09MH1zdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bjtzdGF0ZS5sZW5iaXRzPTc7b3B0cz17Yml0czpzdGF0ZS5sZW5iaXRzfTtyZXQ9aW5mbGF0ZV90YWJsZShDT0RFUyxzdGF0ZS5sZW5zLDAsMTksc3RhdGUubGVuY29kZSwwLHN0YXRlLndvcmssb3B0cyk7c3RhdGUubGVuYml0cz1vcHRzLmJpdHM7aWYocmV0KXtzdHJtLm1zZz0iaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0IjtzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5oYXZlPTA7c3RhdGUubW9kZT1DT0RFTEVOUztjYXNlIENPREVMRU5TOndoaWxlKHN0YXRlLmhhdmU8c3RhdGUubmxlbitzdGF0ZS5uZGlzdCl7Zm9yKDs7KXtoZXJlPXN0YXRlLmxlbmNvZGVbaG9sZCYoMTw8c3RhdGUubGVuYml0cyktMV07aGVyZV9iaXRzPWhlcmU+Pj4yNDtoZXJlX29wPWhlcmU+Pj4xNiYyNTU7aGVyZV92YWw9aGVyZSY2NTUzNTtpZihoZXJlX2JpdHM8PWJpdHMpe2JyZWFrfWlmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1pZihoZXJlX3ZhbDwxNil7aG9sZD4+Pj1oZXJlX2JpdHM7Yml0cy09aGVyZV9iaXRzO3N0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXT1oZXJlX3ZhbH1lbHNle2lmKGhlcmVfdmFsPT09MTYpe249aGVyZV9iaXRzKzI7d2hpbGUoYml0czxuKXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9aG9sZD4+Pj1oZXJlX2JpdHM7Yml0cy09aGVyZV9iaXRzO2lmKHN0YXRlLmhhdmU9PT0wKXtzdHJtLm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9bGVuPXN0YXRlLmxlbnNbc3RhdGUuaGF2ZS0xXTtjb3B5PTMrKGhvbGQmMyk7aG9sZD4+Pj0yO2JpdHMtPTJ9ZWxzZSBpZihoZXJlX3ZhbD09PTE3KXtuPWhlcmVfYml0cyszO3doaWxlKGJpdHM8bil7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fWhvbGQ+Pj49aGVyZV9iaXRzO2JpdHMtPWhlcmVfYml0cztsZW49MDtjb3B5PTMrKGhvbGQmNyk7aG9sZD4+Pj0zO2JpdHMtPTN9ZWxzZXtuPWhlcmVfYml0cys3O3doaWxlKGJpdHM8bil7aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fWhvbGQ+Pj49aGVyZV9iaXRzO2JpdHMtPWhlcmVfYml0cztsZW49MDtjb3B5PTExKyhob2xkJjEyNyk7aG9sZD4+Pj03O2JpdHMtPTd9aWYoc3RhdGUuaGF2ZStjb3B5PnN0YXRlLm5sZW4rc3RhdGUubmRpc3Qpe3N0cm0ubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IjtzdGF0ZS5tb2RlPUJBRDticmVha313aGlsZShjb3B5LS0pe3N0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXT1sZW59fX1pZihzdGF0ZS5tb2RlPT09QkFEKXticmVha31pZihzdGF0ZS5sZW5zWzI1Nl09PT0wKXtzdHJtLm1zZz0iaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIjtzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5sZW5iaXRzPTk7b3B0cz17Yml0czpzdGF0ZS5sZW5iaXRzfTtyZXQ9aW5mbGF0ZV90YWJsZShMRU5TLHN0YXRlLmxlbnMsMCxzdGF0ZS5ubGVuLHN0YXRlLmxlbmNvZGUsMCxzdGF0ZS53b3JrLG9wdHMpO3N0YXRlLmxlbmJpdHM9b3B0cy5iaXRzO2lmKHJldCl7c3RybS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuZGlzdGJpdHM9NjtzdGF0ZS5kaXN0Y29kZT1zdGF0ZS5kaXN0ZHluO29wdHM9e2JpdHM6c3RhdGUuZGlzdGJpdHN9O3JldD1pbmZsYXRlX3RhYmxlKERJU1RTLHN0YXRlLmxlbnMsc3RhdGUubmxlbixzdGF0ZS5uZGlzdCxzdGF0ZS5kaXN0Y29kZSwwLHN0YXRlLndvcmssb3B0cyk7c3RhdGUuZGlzdGJpdHM9b3B0cy5iaXRzO2lmKHJldCl7c3RybS5tc2c9ImludmFsaWQgZGlzdGFuY2VzIHNldCI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUubW9kZT1MRU5fO2lmKGZsdXNoPT09Wl9UUkVFUyl7YnJlYWsgaW5mX2xlYXZlfWNhc2UgTEVOXzpzdGF0ZS5tb2RlPUxFTjtjYXNlIExFTjppZihoYXZlPj02JiZsZWZ0Pj0yNTgpe3N0cm0ubmV4dF9vdXQ9cHV0O3N0cm0uYXZhaWxfb3V0PWxlZnQ7c3RybS5uZXh0X2luPW5leHQ7c3RybS5hdmFpbF9pbj1oYXZlO3N0YXRlLmhvbGQ9aG9sZDtzdGF0ZS5iaXRzPWJpdHM7aW5mbGF0ZV9mYXN0KHN0cm0sX291dCk7cHV0PXN0cm0ubmV4dF9vdXQ7b3V0cHV0PXN0cm0ub3V0cHV0O2xlZnQ9c3RybS5hdmFpbF9vdXQ7bmV4dD1zdHJtLm5leHRfaW47aW5wdXQ9c3RybS5pbnB1dDtoYXZlPXN0cm0uYXZhaWxfaW47aG9sZD1zdGF0ZS5ob2xkO2JpdHM9c3RhdGUuYml0cztpZihzdGF0ZS5tb2RlPT09VFlQRSl7c3RhdGUuYmFjaz0tMX1icmVha31zdGF0ZS5iYWNrPTA7Zm9yKDs7KXtoZXJlPXN0YXRlLmxlbmNvZGVbaG9sZCYoMTw8c3RhdGUubGVuYml0cyktMV07aGVyZV9iaXRzPWhlcmU+Pj4yNDtoZXJlX29wPWhlcmU+Pj4xNiYyNTU7aGVyZV92YWw9aGVyZSY2NTUzNTtpZihoZXJlX2JpdHM8PWJpdHMpe2JyZWFrfWlmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1pZihoZXJlX29wJiYoaGVyZV9vcCYyNDApPT09MCl7bGFzdF9iaXRzPWhlcmVfYml0cztsYXN0X29wPWhlcmVfb3A7bGFzdF92YWw9aGVyZV92YWw7Zm9yKDs7KXtoZXJlPXN0YXRlLmxlbmNvZGVbbGFzdF92YWwrKChob2xkJigxPDxsYXN0X2JpdHMrbGFzdF9vcCktMSk+Pmxhc3RfYml0cyldO2hlcmVfYml0cz1oZXJlPj4+MjQ7aGVyZV9vcD1oZXJlPj4+MTYmMjU1O2hlcmVfdmFsPWhlcmUmNjU1MzU7aWYobGFzdF9iaXRzK2hlcmVfYml0czw9Yml0cyl7YnJlYWt9aWYoaGF2ZT09PTApe2JyZWFrIGluZl9sZWF2ZX1oYXZlLS07aG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cztiaXRzKz04fWhvbGQ+Pj49bGFzdF9iaXRzO2JpdHMtPWxhc3RfYml0cztzdGF0ZS5iYWNrKz1sYXN0X2JpdHN9aG9sZD4+Pj1oZXJlX2JpdHM7Yml0cy09aGVyZV9iaXRzO3N0YXRlLmJhY2srPWhlcmVfYml0cztzdGF0ZS5sZW5ndGg9aGVyZV92YWw7aWYoaGVyZV9vcD09PTApe3N0YXRlLm1vZGU9TElUO2JyZWFrfWlmKGhlcmVfb3AmMzIpe3N0YXRlLmJhY2s9LTE7c3RhdGUubW9kZT1UWVBFO2JyZWFrfWlmKGhlcmVfb3AmNjQpe3N0cm0ubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmV4dHJhPWhlcmVfb3AmMTU7c3RhdGUubW9kZT1MRU5FWFQ7Y2FzZSBMRU5FWFQ6aWYoc3RhdGUuZXh0cmEpe249c3RhdGUuZXh0cmE7d2hpbGUoYml0czxuKXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9c3RhdGUubGVuZ3RoKz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMTtob2xkPj4+PXN0YXRlLmV4dHJhO2JpdHMtPXN0YXRlLmV4dHJhO3N0YXRlLmJhY2srPXN0YXRlLmV4dHJhfXN0YXRlLndhcz1zdGF0ZS5sZW5ndGg7c3RhdGUubW9kZT1ESVNUO2Nhc2UgRElTVDpmb3IoOzspe2hlcmU9c3RhdGUuZGlzdGNvZGVbaG9sZCYoMTw8c3RhdGUuZGlzdGJpdHMpLTFdO2hlcmVfYml0cz1oZXJlPj4+MjQ7aGVyZV9vcD1oZXJlPj4+MTYmMjU1O2hlcmVfdmFsPWhlcmUmNjU1MzU7aWYoaGVyZV9iaXRzPD1iaXRzKXticmVha31pZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9aWYoKGhlcmVfb3AmMjQwKT09PTApe2xhc3RfYml0cz1oZXJlX2JpdHM7bGFzdF9vcD1oZXJlX29wO2xhc3RfdmFsPWhlcmVfdmFsO2Zvcig7Oyl7aGVyZT1zdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCsoKGhvbGQmKDE8PGxhc3RfYml0cytsYXN0X29wKS0xKT4+bGFzdF9iaXRzKV07aGVyZV9iaXRzPWhlcmU+Pj4yNDtoZXJlX29wPWhlcmU+Pj4xNiYyNTU7aGVyZV92YWw9aGVyZSY2NTUzNTtpZihsYXN0X2JpdHMraGVyZV9iaXRzPD1iaXRzKXticmVha31pZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9aG9sZD4+Pj1sYXN0X2JpdHM7Yml0cy09bGFzdF9iaXRzO3N0YXRlLmJhY2srPWxhc3RfYml0c31ob2xkPj4+PWhlcmVfYml0cztiaXRzLT1oZXJlX2JpdHM7c3RhdGUuYmFjays9aGVyZV9iaXRzO2lmKGhlcmVfb3AmNjQpe3N0cm0ubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiO3N0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLm9mZnNldD1oZXJlX3ZhbDtzdGF0ZS5leHRyYT1oZXJlX29wJjE1O3N0YXRlLm1vZGU9RElTVEVYVDtjYXNlIERJU1RFWFQ6aWYoc3RhdGUuZXh0cmEpe249c3RhdGUuZXh0cmE7d2hpbGUoYml0czxuKXtpZihoYXZlPT09MCl7YnJlYWsgaW5mX2xlYXZlfWhhdmUtLTtob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzO2JpdHMrPTh9c3RhdGUub2Zmc2V0Kz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMTtob2xkPj4+PXN0YXRlLmV4dHJhO2JpdHMtPXN0YXRlLmV4dHJhO3N0YXRlLmJhY2srPXN0YXRlLmV4dHJhfWlmKHN0YXRlLm9mZnNldD5zdGF0ZS5kbWF4KXtzdHJtLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siO3N0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLm1vZGU9TUFUQ0g7Y2FzZSBNQVRDSDppZihsZWZ0PT09MCl7YnJlYWsgaW5mX2xlYXZlfWNvcHk9X291dC1sZWZ0O2lmKHN0YXRlLm9mZnNldD5jb3B5KXtjb3B5PXN0YXRlLm9mZnNldC1jb3B5O2lmKGNvcHk+c3RhdGUud2hhdmUpe2lmKHN0YXRlLnNhbmUpe3N0cm0ubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9fWlmKGNvcHk+c3RhdGUud25leHQpe2NvcHktPXN0YXRlLnduZXh0O2Zyb209c3RhdGUud3NpemUtY29weX1lbHNle2Zyb209c3RhdGUud25leHQtY29weX1pZihjb3B5PnN0YXRlLmxlbmd0aCl7Y29weT1zdGF0ZS5sZW5ndGh9ZnJvbV9zb3VyY2U9c3RhdGUud2luZG93fWVsc2V7ZnJvbV9zb3VyY2U9b3V0cHV0O2Zyb209cHV0LXN0YXRlLm9mZnNldDtjb3B5PXN0YXRlLmxlbmd0aH1pZihjb3B5PmxlZnQpe2NvcHk9bGVmdH1sZWZ0LT1jb3B5O3N0YXRlLmxlbmd0aC09Y29weTtkb3tvdXRwdXRbcHV0KytdPWZyb21fc291cmNlW2Zyb20rK119d2hpbGUoLS1jb3B5KTtpZihzdGF0ZS5sZW5ndGg9PT0wKXtzdGF0ZS5tb2RlPUxFTn1icmVhaztjYXNlIExJVDppZihsZWZ0PT09MCl7YnJlYWsgaW5mX2xlYXZlfW91dHB1dFtwdXQrK109c3RhdGUubGVuZ3RoO2xlZnQtLTtzdGF0ZS5tb2RlPUxFTjticmVhaztjYXNlIENIRUNLOmlmKHN0YXRlLndyYXApe3doaWxlKGJpdHM8MzIpe2lmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGR8PWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1fb3V0LT1sZWZ0O3N0cm0udG90YWxfb3V0Kz1fb3V0O3N0YXRlLnRvdGFsKz1fb3V0O2lmKF9vdXQpe3N0cm0uYWRsZXI9c3RhdGUuY2hlY2s9c3RhdGUuZmxhZ3M/Y3JjMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpOmFkbGVyMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpfV9vdXQ9bGVmdDtpZigoc3RhdGUuZmxhZ3M/aG9sZDp6c3dhcDMyKGhvbGQpKSE9PXN0YXRlLmNoZWNrKXtzdHJtLm1zZz0iaW5jb3JyZWN0IGRhdGEgY2hlY2siO3N0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MDtiaXRzPTB9c3RhdGUubW9kZT1MRU5HVEg7Y2FzZSBMRU5HVEg6aWYoc3RhdGUud3JhcCYmc3RhdGUuZmxhZ3Mpe3doaWxlKGJpdHM8MzIpe2lmKGhhdmU9PT0wKXticmVhayBpbmZfbGVhdmV9aGF2ZS0tO2hvbGQrPWlucHV0W25leHQrK108PGJpdHM7Yml0cys9OH1pZihob2xkIT09KHN0YXRlLnRvdGFsJjQyOTQ5NjcyOTUpKXtzdHJtLm1zZz0iaW5jb3JyZWN0IGxlbmd0aCBjaGVjayI7c3RhdGUubW9kZT1CQUQ7YnJlYWt9aG9sZD0wO2JpdHM9MH1zdGF0ZS5tb2RlPURPTkU7Y2FzZSBET05FOnJldD1aX1NUUkVBTV9FTkQ7YnJlYWsgaW5mX2xlYXZlO2Nhc2UgQkFEOnJldD1aX0RBVEFfRVJST1I7YnJlYWsgaW5mX2xlYXZlO2Nhc2UgTUVNOnJldHVybiBaX01FTV9FUlJPUjtjYXNlIFNZTkM6ZGVmYXVsdDpyZXR1cm4gWl9TVFJFQU1fRVJST1J9fXN0cm0ubmV4dF9vdXQ9cHV0O3N0cm0uYXZhaWxfb3V0PWxlZnQ7c3RybS5uZXh0X2luPW5leHQ7c3RybS5hdmFpbF9pbj1oYXZlO3N0YXRlLmhvbGQ9aG9sZDtzdGF0ZS5iaXRzPWJpdHM7aWYoc3RhdGUud3NpemV8fF9vdXQhPT1zdHJtLmF2YWlsX291dCYmc3RhdGUubW9kZTxCQUQmJihzdGF0ZS5tb2RlPENIRUNLfHxmbHVzaCE9PVpfRklOSVNIKSl7aWYodXBkYXRld2luZG93KHN0cm0sc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCxfb3V0LXN0cm0uYXZhaWxfb3V0KSl7c3RhdGUubW9kZT1NRU07cmV0dXJuIFpfTUVNX0VSUk9SfX1faW4tPXN0cm0uYXZhaWxfaW47X291dC09c3RybS5hdmFpbF9vdXQ7c3RybS50b3RhbF9pbis9X2luO3N0cm0udG90YWxfb3V0Kz1fb3V0O3N0YXRlLnRvdGFsKz1fb3V0O2lmKHN0YXRlLndyYXAmJl9vdXQpe3N0cm0uYWRsZXI9c3RhdGUuY2hlY2s9c3RhdGUuZmxhZ3M/Y3JjMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQsc3RybS5uZXh0X291dC1fb3V0KTphZGxlcjMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHN0cm0ubmV4dF9vdXQtX291dCl9c3RybS5kYXRhX3R5cGU9c3RhdGUuYml0cysoc3RhdGUubGFzdD82NDowKSsoc3RhdGUubW9kZT09PVRZUEU/MTI4OjApKyhzdGF0ZS5tb2RlPT09TEVOX3x8c3RhdGUubW9kZT09PUNPUFlfPzI1NjowKTtpZigoX2luPT09MCYmX291dD09PTB8fGZsdXNoPT09Wl9GSU5JU0gpJiZyZXQ9PT1aX09LKXtyZXQ9Wl9CVUZfRVJST1J9cmV0dXJuIHJldH1mdW5jdGlvbiBpbmZsYXRlRW5kKHN0cm0pe2lmKCFzdHJtfHwhc3RybS5zdGF0ZSl7cmV0dXJuIFpfU1RSRUFNX0VSUk9SfXZhciBzdGF0ZT1zdHJtLnN0YXRlO2lmKHN0YXRlLndpbmRvdyl7c3RhdGUud2luZG93PW51bGx9c3RybS5zdGF0ZT1udWxsO3JldHVybiBaX09LfWZ1bmN0aW9uIGluZmxhdGVHZXRIZWFkZXIoc3RybSxoZWFkKXt2YXIgc3RhdGU7aWYoIXN0cm18fCFzdHJtLnN0YXRlKXtyZXR1cm4gWl9TVFJFQU1fRVJST1J9c3RhdGU9c3RybS5zdGF0ZTtpZigoc3RhdGUud3JhcCYyKT09PTApe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zdGF0ZS5oZWFkPWhlYWQ7aGVhZC5kb25lPWZhbHNlO3JldHVybiBaX09LfWZ1bmN0aW9uIGluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sZGljdGlvbmFyeSl7dmFyIGRpY3RMZW5ndGg9ZGljdGlvbmFyeS5sZW5ndGg7dmFyIHN0YXRlO3ZhciBkaWN0aWQ7dmFyIHJldDtpZighc3RybXx8IXN0cm0uc3RhdGUpe3JldHVybiBaX1NUUkVBTV9FUlJPUn1zdGF0ZT1zdHJtLnN0YXRlO2lmKHN0YXRlLndyYXAhPT0wJiZzdGF0ZS5tb2RlIT09RElDVCl7cmV0dXJuIFpfU1RSRUFNX0VSUk9SfWlmKHN0YXRlLm1vZGU9PT1ESUNUKXtkaWN0aWQ9MTtkaWN0aWQ9YWRsZXIzMihkaWN0aWQsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLDApO2lmKGRpY3RpZCE9PXN0YXRlLmNoZWNrKXtyZXR1cm4gWl9EQVRBX0VSUk9SfX1yZXQ9dXBkYXRld2luZG93KHN0cm0sZGljdGlvbmFyeSxkaWN0TGVuZ3RoLGRpY3RMZW5ndGgpO2lmKHJldCl7c3RhdGUubW9kZT1NRU07cmV0dXJuIFpfTUVNX0VSUk9SfXN0YXRlLmhhdmVkaWN0PTE7cmV0dXJuIFpfT0t9ZXhwb3J0cy5pbmZsYXRlUmVzZXQ9aW5mbGF0ZVJlc2V0O2V4cG9ydHMuaW5mbGF0ZVJlc2V0Mj1pbmZsYXRlUmVzZXQyO2V4cG9ydHMuaW5mbGF0ZVJlc2V0S2VlcD1pbmZsYXRlUmVzZXRLZWVwO2V4cG9ydHMuaW5mbGF0ZUluaXQ9aW5mbGF0ZUluaXQ7ZXhwb3J0cy5pbmZsYXRlSW5pdDI9aW5mbGF0ZUluaXQyO2V4cG9ydHMuaW5mbGF0ZT1pbmZsYXRlO2V4cG9ydHMuaW5mbGF0ZUVuZD1pbmZsYXRlRW5kO2V4cG9ydHMuaW5mbGF0ZUdldEhlYWRlcj1pbmZsYXRlR2V0SGVhZGVyO2V4cG9ydHMuaW5mbGF0ZVNldERpY3Rpb25hcnk9aW5mbGF0ZVNldERpY3Rpb25hcnk7ZXhwb3J0cy5pbmZsYXRlSW5mbz0icGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjoxNDYsIi4vYWRsZXIzMiI6MTQ4LCIuL2NyYzMyIjoxNTAsIi4vaW5mZmFzdCI6MTUzLCIuL2luZnRyZWVzIjoxNTV9XSwxNTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbHM9cmVxdWlyZSgiLi4vdXRpbHMvY29tbW9uIik7dmFyIE1BWEJJVFM9MTU7dmFyIEVOT1VHSF9MRU5TPTg1Mjt2YXIgRU5PVUdIX0RJU1RTPTU5Mjt2YXIgQ09ERVM9MDt2YXIgTEVOUz0xO3ZhciBESVNUUz0yO3ZhciBsYmFzZT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdO3ZhciBsZXh0PVsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF07dmFyIGRiYXNlPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXTt2YXIgZGV4dD1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGluZmxhdGVfdGFibGUodHlwZSxsZW5zLGxlbnNfaW5kZXgsY29kZXMsdGFibGUsdGFibGVfaW5kZXgsd29yayxvcHRzKXt2YXIgYml0cz1vcHRzLmJpdHM7dmFyIGxlbj0wO3ZhciBzeW09MDt2YXIgbWluPTAsbWF4PTA7dmFyIHJvb3Q9MDt2YXIgY3Vycj0wO3ZhciBkcm9wPTA7dmFyIGxlZnQ9MDt2YXIgdXNlZD0wO3ZhciBodWZmPTA7dmFyIGluY3I7dmFyIGZpbGw7dmFyIGxvdzt2YXIgbWFzazt2YXIgbmV4dDt2YXIgYmFzZT1udWxsO3ZhciBiYXNlX2luZGV4PTA7dmFyIGVuZDt2YXIgY291bnQ9bmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMrMSk7dmFyIG9mZnM9bmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMrMSk7dmFyIGV4dHJhPW51bGw7dmFyIGV4dHJhX2luZGV4PTA7dmFyIGhlcmVfYml0cyxoZXJlX29wLGhlcmVfdmFsO2ZvcihsZW49MDtsZW48PU1BWEJJVFM7bGVuKyspe2NvdW50W2xlbl09MH1mb3Ioc3ltPTA7c3ltPGNvZGVzO3N5bSsrKXtjb3VudFtsZW5zW2xlbnNfaW5kZXgrc3ltXV0rK31yb290PWJpdHM7Zm9yKG1heD1NQVhCSVRTO21heD49MTttYXgtLSl7aWYoY291bnRbbWF4XSE9PTApe2JyZWFrfX1pZihyb290Pm1heCl7cm9vdD1tYXh9aWYobWF4PT09MCl7dGFibGVbdGFibGVfaW5kZXgrK109MTw8MjR8NjQ8PDE2fDA7dGFibGVbdGFibGVfaW5kZXgrK109MTw8MjR8NjQ8PDE2fDA7b3B0cy5iaXRzPTE7cmV0dXJuIDB9Zm9yKG1pbj0xO21pbjxtYXg7bWluKyspe2lmKGNvdW50W21pbl0hPT0wKXticmVha319aWYocm9vdDxtaW4pe3Jvb3Q9bWlufWxlZnQ9MTtmb3IobGVuPTE7bGVuPD1NQVhCSVRTO2xlbisrKXtsZWZ0PDw9MTtsZWZ0LT1jb3VudFtsZW5dO2lmKGxlZnQ8MCl7cmV0dXJuLTF9fWlmKGxlZnQ+MCYmKHR5cGU9PT1DT0RFU3x8bWF4IT09MSkpe3JldHVybi0xfW9mZnNbMV09MDtmb3IobGVuPTE7bGVuPE1BWEJJVFM7bGVuKyspe29mZnNbbGVuKzFdPW9mZnNbbGVuXStjb3VudFtsZW5dfWZvcihzeW09MDtzeW08Y29kZXM7c3ltKyspe2lmKGxlbnNbbGVuc19pbmRleCtzeW1dIT09MCl7d29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCtzeW1dXSsrXT1zeW19fWlmKHR5cGU9PT1DT0RFUyl7YmFzZT1leHRyYT13b3JrO2VuZD0xOX1lbHNlIGlmKHR5cGU9PT1MRU5TKXtiYXNlPWxiYXNlO2Jhc2VfaW5kZXgtPTI1NztleHRyYT1sZXh0O2V4dHJhX2luZGV4LT0yNTc7ZW5kPTI1Nn1lbHNle2Jhc2U9ZGJhc2U7ZXh0cmE9ZGV4dDtlbmQ9LTF9aHVmZj0wO3N5bT0wO2xlbj1taW47bmV4dD10YWJsZV9pbmRleDtjdXJyPXJvb3Q7ZHJvcD0wO2xvdz0tMTt1c2VkPTE8PHJvb3Q7bWFzaz11c2VkLTE7aWYodHlwZT09PUxFTlMmJnVzZWQ+RU5PVUdIX0xFTlN8fHR5cGU9PT1ESVNUUyYmdXNlZD5FTk9VR0hfRElTVFMpe3JldHVybiAxfWZvcig7Oyl7aGVyZV9iaXRzPWxlbi1kcm9wO2lmKHdvcmtbc3ltXTxlbmQpe2hlcmVfb3A9MDtoZXJlX3ZhbD13b3JrW3N5bV19ZWxzZSBpZih3b3JrW3N5bV0+ZW5kKXtoZXJlX29wPWV4dHJhW2V4dHJhX2luZGV4K3dvcmtbc3ltXV07aGVyZV92YWw9YmFzZVtiYXNlX2luZGV4K3dvcmtbc3ltXV19ZWxzZXtoZXJlX29wPTMyKzY0O2hlcmVfdmFsPTB9aW5jcj0xPDxsZW4tZHJvcDtmaWxsPTE8PGN1cnI7bWluPWZpbGw7ZG97ZmlsbC09aW5jcjt0YWJsZVtuZXh0KyhodWZmPj5kcm9wKStmaWxsXT1oZXJlX2JpdHM8PDI0fGhlcmVfb3A8PDE2fGhlcmVfdmFsfDB9d2hpbGUoZmlsbCE9PTApO2luY3I9MTw8bGVuLTE7d2hpbGUoaHVmZiZpbmNyKXtpbmNyPj49MX1pZihpbmNyIT09MCl7aHVmZiY9aW5jci0xO2h1ZmYrPWluY3J9ZWxzZXtodWZmPTB9c3ltKys7aWYoLS1jb3VudFtsZW5dPT09MCl7aWYobGVuPT09bWF4KXticmVha31sZW49bGVuc1tsZW5zX2luZGV4K3dvcmtbc3ltXV19aWYobGVuPnJvb3QmJihodWZmJm1hc2spIT09bG93KXtpZihkcm9wPT09MCl7ZHJvcD1yb290fW5leHQrPW1pbjtjdXJyPWxlbi1kcm9wO2xlZnQ9MTw8Y3Vycjt3aGlsZShjdXJyK2Ryb3A8bWF4KXtsZWZ0LT1jb3VudFtjdXJyK2Ryb3BdO2lmKGxlZnQ8PTApe2JyZWFrfWN1cnIrKztsZWZ0PDw9MX11c2VkKz0xPDxjdXJyO2lmKHR5cGU9PT1MRU5TJiZ1c2VkPkVOT1VHSF9MRU5TfHx0eXBlPT09RElTVFMmJnVzZWQ+RU5PVUdIX0RJU1RTKXtyZXR1cm4gMX1sb3c9aHVmZiZtYXNrO3RhYmxlW2xvd109cm9vdDw8MjR8Y3Vycjw8MTZ8bmV4dC10YWJsZV9pbmRleHwwfX1pZihodWZmIT09MCl7dGFibGVbbmV4dCtodWZmXT1sZW4tZHJvcDw8MjR8NjQ8PDE2fDB9b3B0cy5iaXRzPXJvb3Q7cmV0dXJuIDB9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6MTQ2fV0sMTU2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7bW9kdWxlLmV4cG9ydHM9ezI6Im5lZWQgZGljdGlvbmFyeSIsMToic3RyZWFtIGVuZCIsMDoiIiwiLTEiOiJmaWxlIGVycm9yIiwiLTIiOiJzdHJlYW0gZXJyb3IiLCItMyI6ImRhdGEgZXJyb3IiLCItNCI6Imluc3VmZmljaWVudCBtZW1vcnkiLCItNSI6ImJ1ZmZlciBlcnJvciIsIi02IjoiaW5jb21wYXRpYmxlIHZlcnNpb24ifX0se31dLDE1NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciB1dGlscz1yZXF1aXJlKCIuLi91dGlscy9jb21tb24iKTt2YXIgWl9GSVhFRD00O3ZhciBaX0JJTkFSWT0wO3ZhciBaX1RFWFQ9MTt2YXIgWl9VTktOT1dOPTI7ZnVuY3Rpb24gemVybyhidWYpe3ZhciBsZW49YnVmLmxlbmd0aDt3aGlsZSgtLWxlbj49MCl7YnVmW2xlbl09MH19dmFyIFNUT1JFRF9CTE9DSz0wO3ZhciBTVEFUSUNfVFJFRVM9MTt2YXIgRFlOX1RSRUVTPTI7dmFyIE1JTl9NQVRDSD0zO3ZhciBNQVhfTUFUQ0g9MjU4O3ZhciBMRU5HVEhfQ09ERVM9Mjk7dmFyIExJVEVSQUxTPTI1Njt2YXIgTF9DT0RFUz1MSVRFUkFMUysxK0xFTkdUSF9DT0RFUzt2YXIgRF9DT0RFUz0zMDt2YXIgQkxfQ09ERVM9MTk7dmFyIEhFQVBfU0laRT0yKkxfQ09ERVMrMTt2YXIgTUFYX0JJVFM9MTU7dmFyIEJ1Zl9zaXplPTE2O3ZhciBNQVhfQkxfQklUUz03O3ZhciBFTkRfQkxPQ0s9MjU2O3ZhciBSRVBfM182PTE2O3ZhciBSRVBaXzNfMTA9MTc7dmFyIFJFUFpfMTFfMTM4PTE4O3ZhciBleHRyYV9sYml0cz1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXTt2YXIgZXh0cmFfZGJpdHM9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdO3ZhciBleHRyYV9ibGJpdHM9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddO3ZhciBibF9vcmRlcj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07dmFyIERJU1RfQ09ERV9MRU49NTEyO3ZhciBzdGF0aWNfbHRyZWU9bmV3IEFycmF5KChMX0NPREVTKzIpKjIpO3plcm8oc3RhdGljX2x0cmVlKTt2YXIgc3RhdGljX2R0cmVlPW5ldyBBcnJheShEX0NPREVTKjIpO3plcm8oc3RhdGljX2R0cmVlKTt2YXIgX2Rpc3RfY29kZT1uZXcgQXJyYXkoRElTVF9DT0RFX0xFTik7emVybyhfZGlzdF9jb2RlKTt2YXIgX2xlbmd0aF9jb2RlPW5ldyBBcnJheShNQVhfTUFUQ0gtTUlOX01BVENIKzEpO3plcm8oX2xlbmd0aF9jb2RlKTt2YXIgYmFzZV9sZW5ndGg9bmV3IEFycmF5KExFTkdUSF9DT0RFUyk7emVybyhiYXNlX2xlbmd0aCk7dmFyIGJhc2VfZGlzdD1uZXcgQXJyYXkoRF9DT0RFUyk7emVybyhiYXNlX2Rpc3QpO2Z1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLGV4dHJhX2JpdHMsZXh0cmFfYmFzZSxlbGVtcyxtYXhfbGVuZ3RoKXt0aGlzLnN0YXRpY190cmVlPXN0YXRpY190cmVlO3RoaXMuZXh0cmFfYml0cz1leHRyYV9iaXRzO3RoaXMuZXh0cmFfYmFzZT1leHRyYV9iYXNlO3RoaXMuZWxlbXM9ZWxlbXM7dGhpcy5tYXhfbGVuZ3RoPW1heF9sZW5ndGg7dGhpcy5oYXNfc3RyZWU9c3RhdGljX3RyZWUmJnN0YXRpY190cmVlLmxlbmd0aH12YXIgc3RhdGljX2xfZGVzYzt2YXIgc3RhdGljX2RfZGVzYzt2YXIgc3RhdGljX2JsX2Rlc2M7ZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsc3RhdF9kZXNjKXt0aGlzLmR5bl90cmVlPWR5bl90cmVlO3RoaXMubWF4X2NvZGU9MDt0aGlzLnN0YXRfZGVzYz1zdGF0X2Rlc2N9ZnVuY3Rpb24gZF9jb2RlKGRpc3Qpe3JldHVybiBkaXN0PDI1Nj9fZGlzdF9jb2RlW2Rpc3RdOl9kaXN0X2NvZGVbMjU2KyhkaXN0Pj4+NyldfWZ1bmN0aW9uIHB1dF9zaG9ydChzLHcpe3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPXcmMjU1O3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPXc+Pj44JjI1NX1mdW5jdGlvbiBzZW5kX2JpdHMocyx2YWx1ZSxsZW5ndGgpe2lmKHMuYmlfdmFsaWQ+QnVmX3NpemUtbGVuZ3RoKXtzLmJpX2J1Znw9dmFsdWU8PHMuYmlfdmFsaWQmNjU1MzU7cHV0X3Nob3J0KHMscy5iaV9idWYpO3MuYmlfYnVmPXZhbHVlPj5CdWZfc2l6ZS1zLmJpX3ZhbGlkO3MuYmlfdmFsaWQrPWxlbmd0aC1CdWZfc2l6ZX1lbHNle3MuYmlfYnVmfD12YWx1ZTw8cy5iaV92YWxpZCY2NTUzNTtzLmJpX3ZhbGlkKz1sZW5ndGh9fWZ1bmN0aW9uIHNlbmRfY29kZShzLGMsdHJlZSl7c2VuZF9iaXRzKHMsdHJlZVtjKjJdLHRyZWVbYyoyKzFdKX1mdW5jdGlvbiBiaV9yZXZlcnNlKGNvZGUsbGVuKXt2YXIgcmVzPTA7ZG97cmVzfD1jb2RlJjE7Y29kZT4+Pj0xO3Jlczw8PTF9d2hpbGUoLS1sZW4+MCk7cmV0dXJuIHJlcz4+PjF9ZnVuY3Rpb24gYmlfZmx1c2gocyl7aWYocy5iaV92YWxpZD09PTE2KXtwdXRfc2hvcnQocyxzLmJpX2J1Zik7cy5iaV9idWY9MDtzLmJpX3ZhbGlkPTB9ZWxzZSBpZihzLmJpX3ZhbGlkPj04KXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1zLmJpX2J1ZiYyNTU7cy5iaV9idWY+Pj04O3MuYmlfdmFsaWQtPTh9fWZ1bmN0aW9uIGdlbl9iaXRsZW4ocyxkZXNjKXt2YXIgdHJlZT1kZXNjLmR5bl90cmVlO3ZhciBtYXhfY29kZT1kZXNjLm1heF9jb2RlO3ZhciBzdHJlZT1kZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTt2YXIgaGFzX3N0cmVlPWRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTt2YXIgZXh0cmE9ZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYml0czt2YXIgYmFzZT1kZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlO3ZhciBtYXhfbGVuZ3RoPWRlc2Muc3RhdF9kZXNjLm1heF9sZW5ndGg7dmFyIGg7dmFyIG4sbTt2YXIgYml0czt2YXIgeGJpdHM7dmFyIGY7dmFyIG92ZXJmbG93PTA7Zm9yKGJpdHM9MDtiaXRzPD1NQVhfQklUUztiaXRzKyspe3MuYmxfY291bnRbYml0c109MH10cmVlW3MuaGVhcFtzLmhlYXBfbWF4XSoyKzFdPTA7Zm9yKGg9cy5oZWFwX21heCsxO2g8SEVBUF9TSVpFO2grKyl7bj1zLmhlYXBbaF07Yml0cz10cmVlW3RyZWVbbioyKzFdKjIrMV0rMTtpZihiaXRzPm1heF9sZW5ndGgpe2JpdHM9bWF4X2xlbmd0aDtvdmVyZmxvdysrfXRyZWVbbioyKzFdPWJpdHM7aWYobj5tYXhfY29kZSl7Y29udGludWV9cy5ibF9jb3VudFtiaXRzXSsrO3hiaXRzPTA7aWYobj49YmFzZSl7eGJpdHM9ZXh0cmFbbi1iYXNlXX1mPXRyZWVbbioyXTtzLm9wdF9sZW4rPWYqKGJpdHMreGJpdHMpO2lmKGhhc19zdHJlZSl7cy5zdGF0aWNfbGVuKz1mKihzdHJlZVtuKjIrMV0reGJpdHMpfX1pZihvdmVyZmxvdz09PTApe3JldHVybn1kb3tiaXRzPW1heF9sZW5ndGgtMTt3aGlsZShzLmJsX2NvdW50W2JpdHNdPT09MCl7Yml0cy0tfXMuYmxfY291bnRbYml0c10tLTtzLmJsX2NvdW50W2JpdHMrMV0rPTI7cy5ibF9jb3VudFttYXhfbGVuZ3RoXS0tO292ZXJmbG93LT0yfXdoaWxlKG92ZXJmbG93PjApO2ZvcihiaXRzPW1heF9sZW5ndGg7Yml0cyE9PTA7Yml0cy0tKXtuPXMuYmxfY291bnRbYml0c107d2hpbGUobiE9PTApe209cy5oZWFwWy0taF07aWYobT5tYXhfY29kZSl7Y29udGludWV9aWYodHJlZVttKjIrMV0hPT1iaXRzKXtzLm9wdF9sZW4rPShiaXRzLXRyZWVbbSoyKzFdKSp0cmVlW20qMl07dHJlZVttKjIrMV09Yml0c31uLS19fX1mdW5jdGlvbiBnZW5fY29kZXModHJlZSxtYXhfY29kZSxibF9jb3VudCl7dmFyIG5leHRfY29kZT1uZXcgQXJyYXkoTUFYX0JJVFMrMSk7dmFyIGNvZGU9MDt2YXIgYml0czt2YXIgbjtmb3IoYml0cz0xO2JpdHM8PU1BWF9CSVRTO2JpdHMrKyl7bmV4dF9jb2RlW2JpdHNdPWNvZGU9Y29kZStibF9jb3VudFtiaXRzLTFdPDwxfWZvcihuPTA7bjw9bWF4X2NvZGU7bisrKXt2YXIgbGVuPXRyZWVbbioyKzFdO2lmKGxlbj09PTApe2NvbnRpbnVlfXRyZWVbbioyXT1iaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssbGVuKX19ZnVuY3Rpb24gdHJfc3RhdGljX2luaXQoKXt2YXIgbjt2YXIgYml0czt2YXIgbGVuZ3RoO3ZhciBjb2RlO3ZhciBkaXN0O3ZhciBibF9jb3VudD1uZXcgQXJyYXkoTUFYX0JJVFMrMSk7bGVuZ3RoPTA7Zm9yKGNvZGU9MDtjb2RlPExFTkdUSF9DT0RFUy0xO2NvZGUrKyl7YmFzZV9sZW5ndGhbY29kZV09bGVuZ3RoO2ZvcihuPTA7bjwxPDxleHRyYV9sYml0c1tjb2RlXTtuKyspe19sZW5ndGhfY29kZVtsZW5ndGgrK109Y29kZX19X2xlbmd0aF9jb2RlW2xlbmd0aC0xXT1jb2RlO2Rpc3Q9MDtmb3IoY29kZT0wO2NvZGU8MTY7Y29kZSsrKXtiYXNlX2Rpc3RbY29kZV09ZGlzdDtmb3Iobj0wO248MTw8ZXh0cmFfZGJpdHNbY29kZV07bisrKXtfZGlzdF9jb2RlW2Rpc3QrK109Y29kZX19ZGlzdD4+PTc7Zm9yKDtjb2RlPERfQ09ERVM7Y29kZSsrKXtiYXNlX2Rpc3RbY29kZV09ZGlzdDw8Nztmb3Iobj0wO248MTw8ZXh0cmFfZGJpdHNbY29kZV0tNztuKyspe19kaXN0X2NvZGVbMjU2K2Rpc3QrK109Y29kZX19Zm9yKGJpdHM9MDtiaXRzPD1NQVhfQklUUztiaXRzKyspe2JsX2NvdW50W2JpdHNdPTB9bj0wO3doaWxlKG48PTE0Myl7c3RhdGljX2x0cmVlW24qMisxXT04O24rKztibF9jb3VudFs4XSsrfXdoaWxlKG48PTI1NSl7c3RhdGljX2x0cmVlW24qMisxXT05O24rKztibF9jb3VudFs5XSsrfXdoaWxlKG48PTI3OSl7c3RhdGljX2x0cmVlW24qMisxXT03O24rKztibF9jb3VudFs3XSsrfXdoaWxlKG48PTI4Nyl7c3RhdGljX2x0cmVlW24qMisxXT04O24rKztibF9jb3VudFs4XSsrfWdlbl9jb2RlcyhzdGF0aWNfbHRyZWUsTF9DT0RFUysxLGJsX2NvdW50KTtmb3Iobj0wO248RF9DT0RFUztuKyspe3N0YXRpY19kdHJlZVtuKjIrMV09NTtzdGF0aWNfZHRyZWVbbioyXT1iaV9yZXZlcnNlKG4sNSl9c3RhdGljX2xfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLGV4dHJhX2xiaXRzLExJVEVSQUxTKzEsTF9DT0RFUyxNQVhfQklUUyk7c3RhdGljX2RfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLGV4dHJhX2RiaXRzLDAsRF9DT0RFUyxNQVhfQklUUyk7c3RhdGljX2JsX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSxleHRyYV9ibGJpdHMsMCxCTF9DT0RFUyxNQVhfQkxfQklUUyl9ZnVuY3Rpb24gaW5pdF9ibG9jayhzKXt2YXIgbjtmb3Iobj0wO248TF9DT0RFUztuKyspe3MuZHluX2x0cmVlW24qMl09MH1mb3Iobj0wO248RF9DT0RFUztuKyspe3MuZHluX2R0cmVlW24qMl09MH1mb3Iobj0wO248QkxfQ09ERVM7bisrKXtzLmJsX3RyZWVbbioyXT0wfXMuZHluX2x0cmVlW0VORF9CTE9DSyoyXT0xO3Mub3B0X2xlbj1zLnN0YXRpY19sZW49MDtzLmxhc3RfbGl0PXMubWF0Y2hlcz0wfWZ1bmN0aW9uIGJpX3dpbmR1cChzKXtpZihzLmJpX3ZhbGlkPjgpe3B1dF9zaG9ydChzLHMuYmlfYnVmKX1lbHNlIGlmKHMuYmlfdmFsaWQ+MCl7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109cy5iaV9idWZ9cy5iaV9idWY9MDtzLmJpX3ZhbGlkPTB9ZnVuY3Rpb24gY29weV9ibG9jayhzLGJ1ZixsZW4saGVhZGVyKXtiaV93aW5kdXAocyk7aWYoaGVhZGVyKXtwdXRfc2hvcnQocyxsZW4pO3B1dF9zaG9ydChzLH5sZW4pfXV0aWxzLmFycmF5U2V0KHMucGVuZGluZ19idWYscy53aW5kb3csYnVmLGxlbixzLnBlbmRpbmcpO3MucGVuZGluZys9bGVufWZ1bmN0aW9uIHNtYWxsZXIodHJlZSxuLG0sZGVwdGgpe3ZhciBfbjI9bioyO3ZhciBfbTI9bSoyO3JldHVybiB0cmVlW19uMl08dHJlZVtfbTJdfHx0cmVlW19uMl09PT10cmVlW19tMl0mJmRlcHRoW25dPD1kZXB0aFttXX1mdW5jdGlvbiBwcWRvd25oZWFwKHMsdHJlZSxrKXt2YXIgdj1zLmhlYXBba107dmFyIGo9azw8MTt3aGlsZShqPD1zLmhlYXBfbGVuKXtpZihqPHMuaGVhcF9sZW4mJnNtYWxsZXIodHJlZSxzLmhlYXBbaisxXSxzLmhlYXBbal0scy5kZXB0aCkpe2orK31pZihzbWFsbGVyKHRyZWUsdixzLmhlYXBbal0scy5kZXB0aCkpe2JyZWFrfXMuaGVhcFtrXT1zLmhlYXBbal07az1qO2o8PD0xfXMuaGVhcFtrXT12fWZ1bmN0aW9uIGNvbXByZXNzX2Jsb2NrKHMsbHRyZWUsZHRyZWUpe3ZhciBkaXN0O3ZhciBsYzt2YXIgbHg9MDt2YXIgY29kZTt2YXIgZXh0cmE7aWYocy5sYXN0X2xpdCE9PTApe2Rve2Rpc3Q9cy5wZW5kaW5nX2J1ZltzLmRfYnVmK2x4KjJdPDw4fHMucGVuZGluZ19idWZbcy5kX2J1ZitseCoyKzFdO2xjPXMucGVuZGluZ19idWZbcy5sX2J1ZitseF07bHgrKztpZihkaXN0PT09MCl7c2VuZF9jb2RlKHMsbGMsbHRyZWUpfWVsc2V7Y29kZT1fbGVuZ3RoX2NvZGVbbGNdO3NlbmRfY29kZShzLGNvZGUrTElURVJBTFMrMSxsdHJlZSk7ZXh0cmE9ZXh0cmFfbGJpdHNbY29kZV07aWYoZXh0cmEhPT0wKXtsYy09YmFzZV9sZW5ndGhbY29kZV07c2VuZF9iaXRzKHMsbGMsZXh0cmEpfWRpc3QtLTtjb2RlPWRfY29kZShkaXN0KTtzZW5kX2NvZGUocyxjb2RlLGR0cmVlKTtleHRyYT1leHRyYV9kYml0c1tjb2RlXTtpZihleHRyYSE9PTApe2Rpc3QtPWJhc2VfZGlzdFtjb2RlXTtzZW5kX2JpdHMocyxkaXN0LGV4dHJhKX19fXdoaWxlKGx4PHMubGFzdF9saXQpfXNlbmRfY29kZShzLEVORF9CTE9DSyxsdHJlZSl9ZnVuY3Rpb24gYnVpbGRfdHJlZShzLGRlc2Mpe3ZhciB0cmVlPWRlc2MuZHluX3RyZWU7dmFyIHN0cmVlPWRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlO3ZhciBoYXNfc3RyZWU9ZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlO3ZhciBlbGVtcz1kZXNjLnN0YXRfZGVzYy5lbGVtczt2YXIgbixtO3ZhciBtYXhfY29kZT0tMTt2YXIgbm9kZTtzLmhlYXBfbGVuPTA7cy5oZWFwX21heD1IRUFQX1NJWkU7Zm9yKG49MDtuPGVsZW1zO24rKyl7aWYodHJlZVtuKjJdIT09MCl7cy5oZWFwWysrcy5oZWFwX2xlbl09bWF4X2NvZGU9bjtzLmRlcHRoW25dPTB9ZWxzZXt0cmVlW24qMisxXT0wfX13aGlsZShzLmhlYXBfbGVuPDIpe25vZGU9cy5oZWFwWysrcy5oZWFwX2xlbl09bWF4X2NvZGU8Mj8rK21heF9jb2RlOjA7dHJlZVtub2RlKjJdPTE7cy5kZXB0aFtub2RlXT0wO3Mub3B0X2xlbi0tO2lmKGhhc19zdHJlZSl7cy5zdGF0aWNfbGVuLT1zdHJlZVtub2RlKjIrMV19fWRlc2MubWF4X2NvZGU9bWF4X2NvZGU7Zm9yKG49cy5oZWFwX2xlbj4+MTtuPj0xO24tLSl7cHFkb3duaGVhcChzLHRyZWUsbil9bm9kZT1lbGVtcztkb3tuPXMuaGVhcFsxXTtzLmhlYXBbMV09cy5oZWFwW3MuaGVhcF9sZW4tLV07cHFkb3duaGVhcChzLHRyZWUsMSk7bT1zLmhlYXBbMV07cy5oZWFwWy0tcy5oZWFwX21heF09bjtzLmhlYXBbLS1zLmhlYXBfbWF4XT1tO3RyZWVbbm9kZSoyXT10cmVlW24qMl0rdHJlZVttKjJdO3MuZGVwdGhbbm9kZV09KHMuZGVwdGhbbl0+PXMuZGVwdGhbbV0/cy5kZXB0aFtuXTpzLmRlcHRoW21dKSsxO3RyZWVbbioyKzFdPXRyZWVbbSoyKzFdPW5vZGU7cy5oZWFwWzFdPW5vZGUrKztwcWRvd25oZWFwKHMsdHJlZSwxKX13aGlsZShzLmhlYXBfbGVuPj0yKTtzLmhlYXBbLS1zLmhlYXBfbWF4XT1zLmhlYXBbMV07Z2VuX2JpdGxlbihzLGRlc2MpO2dlbl9jb2Rlcyh0cmVlLG1heF9jb2RlLHMuYmxfY291bnQpfWZ1bmN0aW9uIHNjYW5fdHJlZShzLHRyZWUsbWF4X2NvZGUpe3ZhciBuO3ZhciBwcmV2bGVuPS0xO3ZhciBjdXJsZW47dmFyIG5leHRsZW49dHJlZVswKjIrMV07dmFyIGNvdW50PTA7dmFyIG1heF9jb3VudD03O3ZhciBtaW5fY291bnQ9NDtpZihuZXh0bGVuPT09MCl7bWF4X2NvdW50PTEzODttaW5fY291bnQ9M310cmVlWyhtYXhfY29kZSsxKSoyKzFdPTY1NTM1O2ZvcihuPTA7bjw9bWF4X2NvZGU7bisrKXtjdXJsZW49bmV4dGxlbjtuZXh0bGVuPXRyZWVbKG4rMSkqMisxXTtpZigrK2NvdW50PG1heF9jb3VudCYmY3VybGVuPT09bmV4dGxlbil7Y29udGludWV9ZWxzZSBpZihjb3VudDxtaW5fY291bnQpe3MuYmxfdHJlZVtjdXJsZW4qMl0rPWNvdW50fWVsc2UgaWYoY3VybGVuIT09MCl7aWYoY3VybGVuIT09cHJldmxlbil7cy5ibF90cmVlW2N1cmxlbioyXSsrfXMuYmxfdHJlZVtSRVBfM182KjJdKyt9ZWxzZSBpZihjb3VudDw9MTApe3MuYmxfdHJlZVtSRVBaXzNfMTAqMl0rK31lbHNle3MuYmxfdHJlZVtSRVBaXzExXzEzOCoyXSsrfWNvdW50PTA7cHJldmxlbj1jdXJsZW47aWYobmV4dGxlbj09PTApe21heF9jb3VudD0xMzg7bWluX2NvdW50PTN9ZWxzZSBpZihjdXJsZW49PT1uZXh0bGVuKXttYXhfY291bnQ9NjttaW5fY291bnQ9M31lbHNle21heF9jb3VudD03O21pbl9jb3VudD00fX19ZnVuY3Rpb24gc2VuZF90cmVlKHMsdHJlZSxtYXhfY29kZSl7dmFyIG47dmFyIHByZXZsZW49LTE7dmFyIGN1cmxlbjt2YXIgbmV4dGxlbj10cmVlWzAqMisxXTt2YXIgY291bnQ9MDt2YXIgbWF4X2NvdW50PTc7dmFyIG1pbl9jb3VudD00O2lmKG5leHRsZW49PT0wKXttYXhfY291bnQ9MTM4O21pbl9jb3VudD0zfWZvcihuPTA7bjw9bWF4X2NvZGU7bisrKXtjdXJsZW49bmV4dGxlbjtuZXh0bGVuPXRyZWVbKG4rMSkqMisxXTtpZigrK2NvdW50PG1heF9jb3VudCYmY3VybGVuPT09bmV4dGxlbil7Y29udGludWV9ZWxzZSBpZihjb3VudDxtaW5fY291bnQpe2Rve3NlbmRfY29kZShzLGN1cmxlbixzLmJsX3RyZWUpfXdoaWxlKC0tY291bnQhPT0wKX1lbHNlIGlmKGN1cmxlbiE9PTApe2lmKGN1cmxlbiE9PXByZXZsZW4pe3NlbmRfY29kZShzLGN1cmxlbixzLmJsX3RyZWUpO2NvdW50LS19c2VuZF9jb2RlKHMsUkVQXzNfNixzLmJsX3RyZWUpO3NlbmRfYml0cyhzLGNvdW50LTMsMil9ZWxzZSBpZihjb3VudDw9MTApe3NlbmRfY29kZShzLFJFUFpfM18xMCxzLmJsX3RyZWUpO3NlbmRfYml0cyhzLGNvdW50LTMsMyl9ZWxzZXtzZW5kX2NvZGUocyxSRVBaXzExXzEzOCxzLmJsX3RyZWUpO3NlbmRfYml0cyhzLGNvdW50LTExLDcpfWNvdW50PTA7cHJldmxlbj1jdXJsZW47aWYobmV4dGxlbj09PTApe21heF9jb3VudD0xMzg7bWluX2NvdW50PTN9ZWxzZSBpZihjdXJsZW49PT1uZXh0bGVuKXttYXhfY291bnQ9NjttaW5fY291bnQ9M31lbHNle21heF9jb3VudD03O21pbl9jb3VudD00fX19ZnVuY3Rpb24gYnVpbGRfYmxfdHJlZShzKXt2YXIgbWF4X2JsaW5kZXg7c2Nhbl90cmVlKHMscy5keW5fbHRyZWUscy5sX2Rlc2MubWF4X2NvZGUpO3NjYW5fdHJlZShzLHMuZHluX2R0cmVlLHMuZF9kZXNjLm1heF9jb2RlKTtidWlsZF90cmVlKHMscy5ibF9kZXNjKTtmb3IobWF4X2JsaW5kZXg9QkxfQ09ERVMtMTttYXhfYmxpbmRleD49MzttYXhfYmxpbmRleC0tKXtpZihzLmJsX3RyZWVbYmxfb3JkZXJbbWF4X2JsaW5kZXhdKjIrMV0hPT0wKXticmVha319cy5vcHRfbGVuKz0zKihtYXhfYmxpbmRleCsxKSs1KzUrNDtyZXR1cm4gbWF4X2JsaW5kZXh9ZnVuY3Rpb24gc2VuZF9hbGxfdHJlZXMocyxsY29kZXMsZGNvZGVzLGJsY29kZXMpe3ZhciByYW5rO3NlbmRfYml0cyhzLGxjb2Rlcy0yNTcsNSk7c2VuZF9iaXRzKHMsZGNvZGVzLTEsNSk7c2VuZF9iaXRzKHMsYmxjb2Rlcy00LDQpO2ZvcihyYW5rPTA7cmFuazxibGNvZGVzO3JhbmsrKyl7c2VuZF9iaXRzKHMscy5ibF90cmVlW2JsX29yZGVyW3JhbmtdKjIrMV0sMyl9c2VuZF90cmVlKHMscy5keW5fbHRyZWUsbGNvZGVzLTEpO3NlbmRfdHJlZShzLHMuZHluX2R0cmVlLGRjb2Rlcy0xKX1mdW5jdGlvbiBkZXRlY3RfZGF0YV90eXBlKHMpe3ZhciBibGFja19tYXNrPTQwOTM2MjQ0NDc7dmFyIG47Zm9yKG49MDtuPD0zMTtuKyssYmxhY2tfbWFzaz4+Pj0xKXtpZihibGFja19tYXNrJjEmJnMuZHluX2x0cmVlW24qMl0hPT0wKXtyZXR1cm4gWl9CSU5BUll9fWlmKHMuZHluX2x0cmVlWzkqMl0hPT0wfHxzLmR5bl9sdHJlZVsxMCoyXSE9PTB8fHMuZHluX2x0cmVlWzEzKjJdIT09MCl7cmV0dXJuIFpfVEVYVH1mb3Iobj0zMjtuPExJVEVSQUxTO24rKyl7aWYocy5keW5fbHRyZWVbbioyXSE9PTApe3JldHVybiBaX1RFWFR9fXJldHVybiBaX0JJTkFSWX12YXIgc3RhdGljX2luaXRfZG9uZT1mYWxzZTtmdW5jdGlvbiBfdHJfaW5pdChzKXtpZighc3RhdGljX2luaXRfZG9uZSl7dHJfc3RhdGljX2luaXQoKTtzdGF0aWNfaW5pdF9kb25lPXRydWV9cy5sX2Rlc2M9bmV3IFRyZWVEZXNjKHMuZHluX2x0cmVlLHN0YXRpY19sX2Rlc2MpO3MuZF9kZXNjPW5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSxzdGF0aWNfZF9kZXNjKTtzLmJsX2Rlc2M9bmV3IFRyZWVEZXNjKHMuYmxfdHJlZSxzdGF0aWNfYmxfZGVzYyk7cy5iaV9idWY9MDtzLmJpX3ZhbGlkPTA7aW5pdF9ibG9jayhzKX1mdW5jdGlvbiBfdHJfc3RvcmVkX2Jsb2NrKHMsYnVmLHN0b3JlZF9sZW4sbGFzdCl7c2VuZF9iaXRzKHMsKFNUT1JFRF9CTE9DSzw8MSkrKGxhc3Q/MTowKSwzKTtjb3B5X2Jsb2NrKHMsYnVmLHN0b3JlZF9sZW4sdHJ1ZSl9ZnVuY3Rpb24gX3RyX2FsaWduKHMpe3NlbmRfYml0cyhzLFNUQVRJQ19UUkVFUzw8MSwzKTtzZW5kX2NvZGUocyxFTkRfQkxPQ0ssc3RhdGljX2x0cmVlKTtiaV9mbHVzaChzKX1mdW5jdGlvbiBfdHJfZmx1c2hfYmxvY2socyxidWYsc3RvcmVkX2xlbixsYXN0KXt2YXIgb3B0X2xlbmIsc3RhdGljX2xlbmI7dmFyIG1heF9ibGluZGV4PTA7aWYocy5sZXZlbD4wKXtpZihzLnN0cm0uZGF0YV90eXBlPT09Wl9VTktOT1dOKXtzLnN0cm0uZGF0YV90eXBlPWRldGVjdF9kYXRhX3R5cGUocyl9YnVpbGRfdHJlZShzLHMubF9kZXNjKTtidWlsZF90cmVlKHMscy5kX2Rlc2MpO21heF9ibGluZGV4PWJ1aWxkX2JsX3RyZWUocyk7b3B0X2xlbmI9cy5vcHRfbGVuKzMrNz4+PjM7c3RhdGljX2xlbmI9cy5zdGF0aWNfbGVuKzMrNz4+PjM7aWYoc3RhdGljX2xlbmI8PW9wdF9sZW5iKXtvcHRfbGVuYj1zdGF0aWNfbGVuYn19ZWxzZXtvcHRfbGVuYj1zdGF0aWNfbGVuYj1zdG9yZWRfbGVuKzV9aWYoc3RvcmVkX2xlbis0PD1vcHRfbGVuYiYmYnVmIT09LTEpe190cl9zdG9yZWRfYmxvY2socyxidWYsc3RvcmVkX2xlbixsYXN0KX1lbHNlIGlmKHMuc3RyYXRlZ3k9PT1aX0ZJWEVEfHxzdGF0aWNfbGVuYj09PW9wdF9sZW5iKXtzZW5kX2JpdHMocywoU1RBVElDX1RSRUVTPDwxKSsobGFzdD8xOjApLDMpO2NvbXByZXNzX2Jsb2NrKHMsc3RhdGljX2x0cmVlLHN0YXRpY19kdHJlZSl9ZWxzZXtzZW5kX2JpdHMocywoRFlOX1RSRUVTPDwxKSsobGFzdD8xOjApLDMpO3NlbmRfYWxsX3RyZWVzKHMscy5sX2Rlc2MubWF4X2NvZGUrMSxzLmRfZGVzYy5tYXhfY29kZSsxLG1heF9ibGluZGV4KzEpO2NvbXByZXNzX2Jsb2NrKHMscy5keW5fbHRyZWUscy5keW5fZHRyZWUpfWluaXRfYmxvY2socyk7aWYobGFzdCl7Ymlfd2luZHVwKHMpfX1mdW5jdGlvbiBfdHJfdGFsbHkocyxkaXN0LGxjKXtzLnBlbmRpbmdfYnVmW3MuZF9idWYrcy5sYXN0X2xpdCoyXT1kaXN0Pj4+OCYyNTU7cy5wZW5kaW5nX2J1ZltzLmRfYnVmK3MubGFzdF9saXQqMisxXT1kaXN0JjI1NTtzLnBlbmRpbmdfYnVmW3MubF9idWYrcy5sYXN0X2xpdF09bGMmMjU1O3MubGFzdF9saXQrKztpZihkaXN0PT09MCl7cy5keW5fbHRyZWVbbGMqMl0rK31lbHNle3MubWF0Y2hlcysrO2Rpc3QtLTtzLmR5bl9sdHJlZVsoX2xlbmd0aF9jb2RlW2xjXStMSVRFUkFMUysxKSoyXSsrO3MuZHluX2R0cmVlW2RfY29kZShkaXN0KSoyXSsrfXJldHVybiBzLmxhc3RfbGl0PT09cy5saXRfYnVmc2l6ZS0xfWV4cG9ydHMuX3RyX2luaXQ9X3RyX2luaXQ7ZXhwb3J0cy5fdHJfc3RvcmVkX2Jsb2NrPV90cl9zdG9yZWRfYmxvY2s7ZXhwb3J0cy5fdHJfZmx1c2hfYmxvY2s9X3RyX2ZsdXNoX2Jsb2NrO2V4cG9ydHMuX3RyX3RhbGx5PV90cl90YWxseTtleHBvcnRzLl90cl9hbGlnbj1fdHJfYWxpZ259LHsiLi4vdXRpbHMvY29tbW9uIjoxNDZ9XSwxNTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBaU3RyZWFtKCl7dGhpcy5pbnB1dD1udWxsO3RoaXMubmV4dF9pbj0wO3RoaXMuYXZhaWxfaW49MDt0aGlzLnRvdGFsX2luPTA7dGhpcy5vdXRwdXQ9bnVsbDt0aGlzLm5leHRfb3V0PTA7dGhpcy5hdmFpbF9vdXQ9MDt0aGlzLnRvdGFsX291dD0wO3RoaXMubXNnPSIiO3RoaXMuc3RhdGU9bnVsbDt0aGlzLmRhdGFfdHlwZT0yO3RoaXMuYWRsZXI9MH1tb2R1bGUuZXhwb3J0cz1aU3RyZWFtfSx7fV0sMTU5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXt2YXIgcm9vdDtpZih0eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCIpe3Jvb3Q9d2luZG93fWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7cm9vdD1zZWxmfWVsc2V7Y29uc29sZS53YXJuKCJVc2luZyBicm93c2VyLW9ubHkgdmVyc2lvbiBvZiBzdXBlcmFnZW50IGluIG5vbi1icm93c2VyIGVudmlyb25tZW50Iik7cm9vdD10aGlzfXZhciBFbWl0dGVyPXJlcXVpcmUoImVtaXR0ZXIiKTt2YXIgUmVxdWVzdEJhc2U9cmVxdWlyZSgiLi9yZXF1ZXN0LWJhc2UiKTt2YXIgaXNPYmplY3Q9cmVxdWlyZSgiLi9pcy1vYmplY3QiKTt2YXIgaXNGdW5jdGlvbj1yZXF1aXJlKCIuL2lzLWZ1bmN0aW9uIik7dmFyIFJlc3BvbnNlQmFzZT1yZXF1aXJlKCIuL3Jlc3BvbnNlLWJhc2UiKTtmdW5jdGlvbiBub29wKCl7fXZhciByZXF1ZXN0PWV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obWV0aG9kLHVybCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHVybCl7cmV0dXJuIG5ldyBleHBvcnRzLlJlcXVlc3QoIkdFVCIsbWV0aG9kKS5lbmQodXJsKX1pZigxPT1hcmd1bWVudHMubGVuZ3RoKXtyZXR1cm4gbmV3IGV4cG9ydHMuUmVxdWVzdCgiR0VUIixtZXRob2QpfXJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KG1ldGhvZCx1cmwpfTtleHBvcnRzLlJlcXVlc3Q9UmVxdWVzdDtyZXF1ZXN0LmdldFhIUj1mdW5jdGlvbigpe2lmKHJvb3QuWE1MSHR0cFJlcXVlc3QmJighcm9vdC5sb2NhdGlvbnx8ImZpbGU6IiE9cm9vdC5sb2NhdGlvbi5wcm90b2NvbHx8IXJvb3QuQWN0aXZlWE9iamVjdCkpe3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9ZWxzZXt0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKGUpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUC42LjAiKX1jYXRjaChlKXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAuMy4wIil9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1zeG1sMi5YTUxIVFRQIil9Y2F0Y2goZSl7fX10aHJvdyBFcnJvcigiQnJvd3Nlci1vbmx5IHZlcmlzb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFIiKX07dmFyIHRyaW09IiIudHJpbT9mdW5jdGlvbihzKXtyZXR1cm4gcy50cmltKCl9OmZ1bmN0aW9uKHMpe3JldHVybiBzLnJlcGxhY2UoLyheXHMqfFxzKiQpL2csIiIpfTtmdW5jdGlvbiBzZXJpYWxpemUob2JqKXtpZighaXNPYmplY3Qob2JqKSlyZXR1cm4gb2JqO3ZhciBwYWlycz1bXTtmb3IodmFyIGtleSBpbiBvYmope3B1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLGtleSxvYmpba2V5XSl9cmV0dXJuIHBhaXJzLmpvaW4oIiYiKX1mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycyxrZXksdmFsKXtpZih2YWwhPW51bGwpe2lmKEFycmF5LmlzQXJyYXkodmFsKSl7dmFsLmZvckVhY2goZnVuY3Rpb24odil7cHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsa2V5LHYpfSl9ZWxzZSBpZihpc09iamVjdCh2YWwpKXtmb3IodmFyIHN1YmtleSBpbiB2YWwpe3B1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLGtleSsiWyIrc3Via2V5KyJdIix2YWxbc3Via2V5XSl9fWVsc2V7cGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpfX1lbHNlIGlmKHZhbD09PW51bGwpe3BhaXJzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkpfX1yZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdD1zZXJpYWxpemU7ZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKXt2YXIgb2JqPXt9O3ZhciBwYWlycz1zdHIuc3BsaXQoIiYiKTt2YXIgcGFpcjt2YXIgcG9zO2Zvcih2YXIgaT0wLGxlbj1wYWlycy5sZW5ndGg7aTxsZW47KytpKXtwYWlyPXBhaXJzW2ldO3Bvcz1wYWlyLmluZGV4T2YoIj0iKTtpZihwb3M9PS0xKXtvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIpXT0iIn1lbHNle29ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLHBvcykpXT1kZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZShwb3MrMSkpfX1yZXR1cm4gb2JqfXJlcXVlc3QucGFyc2VTdHJpbmc9cGFyc2VTdHJpbmc7cmVxdWVzdC50eXBlcz17aHRtbDoidGV4dC9odG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uIix4bWw6ImFwcGxpY2F0aW9uL3htbCIsdXJsZW5jb2RlZDoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixmb3JtOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJmb3JtLWRhdGEiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifTtyZXF1ZXN0LnNlcmlhbGl6ZT17ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI6c2VyaWFsaXplLCJhcHBsaWNhdGlvbi9qc29uIjpKU09OLnN0cmluZ2lmeX07cmVxdWVzdC5wYXJzZT17CiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiOnBhcnNlU3RyaW5nLCJhcHBsaWNhdGlvbi9qc29uIjpKU09OLnBhcnNlfTtmdW5jdGlvbiBwYXJzZUhlYWRlcihzdHIpe3ZhciBsaW5lcz1zdHIuc3BsaXQoL1xyP1xuLyk7dmFyIGZpZWxkcz17fTt2YXIgaW5kZXg7dmFyIGxpbmU7dmFyIGZpZWxkO3ZhciB2YWw7bGluZXMucG9wKCk7Zm9yKHZhciBpPTAsbGVuPWxpbmVzLmxlbmd0aDtpPGxlbjsrK2kpe2xpbmU9bGluZXNbaV07aW5kZXg9bGluZS5pbmRleE9mKCI6Iik7ZmllbGQ9bGluZS5zbGljZSgwLGluZGV4KS50b0xvd2VyQ2FzZSgpO3ZhbD10cmltKGxpbmUuc2xpY2UoaW5kZXgrMSkpO2ZpZWxkc1tmaWVsZF09dmFsfXJldHVybiBmaWVsZHN9ZnVuY3Rpb24gaXNKU09OKG1pbWUpe3JldHVybi9bXC8rXWpzb25cYi8udGVzdChtaW1lKX1mdW5jdGlvbiBSZXNwb25zZShyZXEsb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTt0aGlzLnJlcT1yZXE7dGhpcy54aHI9dGhpcy5yZXEueGhyO3RoaXMudGV4dD10aGlzLnJlcS5tZXRob2QhPSJIRUFEIiYmKHRoaXMueGhyLnJlc3BvbnNlVHlwZT09PSIifHx0aGlzLnhoci5yZXNwb25zZVR5cGU9PT0idGV4dCIpfHx0eXBlb2YgdGhpcy54aHIucmVzcG9uc2VUeXBlPT09InVuZGVmaW5lZCI/dGhpcy54aHIucmVzcG9uc2VUZXh0Om51bGw7dGhpcy5zdGF0dXNUZXh0PXRoaXMucmVxLnhoci5zdGF0dXNUZXh0O3ZhciBzdGF0dXM9dGhpcy54aHIuc3RhdHVzO2lmKHN0YXR1cz09PTEyMjMpe3N0YXR1cz0yMDR9dGhpcy5fc2V0U3RhdHVzUHJvcGVydGllcyhzdGF0dXMpO3RoaXMuaGVhZGVyPXRoaXMuaGVhZGVycz1wYXJzZUhlYWRlcih0aGlzLnhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7dGhpcy5oZWFkZXJbImNvbnRlbnQtdHlwZSJdPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKTt0aGlzLl9zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtpZihudWxsPT09dGhpcy50ZXh0JiZyZXEuX3Jlc3BvbnNlVHlwZSl7dGhpcy5ib2R5PXRoaXMueGhyLnJlc3BvbnNlfWVsc2V7dGhpcy5ib2R5PXRoaXMucmVxLm1ldGhvZCE9IkhFQUQiP3RoaXMuX3BhcnNlQm9keSh0aGlzLnRleHQ/dGhpcy50ZXh0OnRoaXMueGhyLnJlc3BvbnNlKTpudWxsfX1SZXNwb25zZUJhc2UoUmVzcG9uc2UucHJvdG90eXBlKTtSZXNwb25zZS5wcm90b3R5cGUuX3BhcnNlQm9keT1mdW5jdGlvbihzdHIpe3ZhciBwYXJzZT1yZXF1ZXN0LnBhcnNlW3RoaXMudHlwZV07aWYodGhpcy5yZXEuX3BhcnNlcil7cmV0dXJuIHRoaXMucmVxLl9wYXJzZXIodGhpcyxzdHIpfWlmKCFwYXJzZSYmaXNKU09OKHRoaXMudHlwZSkpe3BhcnNlPXJlcXVlc3QucGFyc2VbImFwcGxpY2F0aW9uL2pzb24iXX1yZXR1cm4gcGFyc2UmJnN0ciYmKHN0ci5sZW5ndGh8fHN0ciBpbnN0YW5jZW9mIE9iamVjdCk/cGFyc2Uoc3RyKTpudWxsfTtSZXNwb25zZS5wcm90b3R5cGUudG9FcnJvcj1mdW5jdGlvbigpe3ZhciByZXE9dGhpcy5yZXE7dmFyIG1ldGhvZD1yZXEubWV0aG9kO3ZhciB1cmw9cmVxLnVybDt2YXIgbXNnPSJjYW5ub3QgIittZXRob2QrIiAiK3VybCsiICgiK3RoaXMuc3RhdHVzKyIpIjt2YXIgZXJyPW5ldyBFcnJvcihtc2cpO2Vyci5zdGF0dXM9dGhpcy5zdGF0dXM7ZXJyLm1ldGhvZD1tZXRob2Q7ZXJyLnVybD11cmw7cmV0dXJuIGVycn07cmVxdWVzdC5SZXNwb25zZT1SZXNwb25zZTtmdW5jdGlvbiBSZXF1ZXN0KG1ldGhvZCx1cmwpe3ZhciBzZWxmPXRoaXM7dGhpcy5fcXVlcnk9dGhpcy5fcXVlcnl8fFtdO3RoaXMubWV0aG9kPW1ldGhvZDt0aGlzLnVybD11cmw7dGhpcy5oZWFkZXI9e307dGhpcy5faGVhZGVyPXt9O3RoaXMub24oImVuZCIsZnVuY3Rpb24oKXt2YXIgZXJyPW51bGw7dmFyIHJlcz1udWxsO3RyeXtyZXM9bmV3IFJlc3BvbnNlKHNlbGYpfWNhdGNoKGUpe2Vycj1uZXcgRXJyb3IoIlBhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIik7ZXJyLnBhcnNlPXRydWU7ZXJyLm9yaWdpbmFsPWU7aWYoc2VsZi54aHIpe2Vyci5yYXdSZXNwb25zZT10eXBlb2Ygc2VsZi54aHIucmVzcG9uc2VUeXBlPT0idW5kZWZpbmVkIj9zZWxmLnhoci5yZXNwb25zZVRleHQ6c2VsZi54aHIucmVzcG9uc2U7ZXJyLnN0YXR1cz1zZWxmLnhoci5zdGF0dXM/c2VsZi54aHIuc3RhdHVzOm51bGw7ZXJyLnN0YXR1c0NvZGU9ZXJyLnN0YXR1c31lbHNle2Vyci5yYXdSZXNwb25zZT1udWxsO2Vyci5zdGF0dXM9bnVsbH1yZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpfXNlbGYuZW1pdCgicmVzcG9uc2UiLHJlcyk7dmFyIG5ld19lcnI7dHJ5e2lmKCFzZWxmLl9pc1Jlc3BvbnNlT0socmVzKSl7bmV3X2Vycj1uZXcgRXJyb3IocmVzLnN0YXR1c1RleHR8fCJVbnN1Y2Nlc3NmdWwgSFRUUCByZXNwb25zZSIpO25ld19lcnIub3JpZ2luYWw9ZXJyO25ld19lcnIucmVzcG9uc2U9cmVzO25ld19lcnIuc3RhdHVzPXJlcy5zdGF0dXN9fWNhdGNoKGUpe25ld19lcnI9ZX1pZihuZXdfZXJyKXtzZWxmLmNhbGxiYWNrKG5ld19lcnIscmVzKX1lbHNle3NlbGYuY2FsbGJhY2sobnVsbCxyZXMpfX0pfUVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1JlcXVlc3RCYXNlKFJlcXVlc3QucHJvdG90eXBlKTtSZXF1ZXN0LnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKHR5cGUpe3RoaXMuc2V0KCJDb250ZW50LVR5cGUiLHJlcXVlc3QudHlwZXNbdHlwZV18fHR5cGUpO3JldHVybiB0aGlzfTtSZXF1ZXN0LnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24odHlwZSl7dGhpcy5zZXQoIkFjY2VwdCIscmVxdWVzdC50eXBlc1t0eXBlXXx8dHlwZSk7cmV0dXJuIHRoaXN9O1JlcXVlc3QucHJvdG90eXBlLmF1dGg9ZnVuY3Rpb24odXNlcixwYXNzLG9wdGlvbnMpe2lmKCFvcHRpb25zKXtvcHRpb25zPXt0eXBlOiJmdW5jdGlvbiI9PT10eXBlb2YgYnRvYT8iYmFzaWMiOiJhdXRvIn19c3dpdGNoKG9wdGlvbnMudHlwZSl7Y2FzZSJiYXNpYyI6dGhpcy5zZXQoIkF1dGhvcml6YXRpb24iLCJCYXNpYyAiK2J0b2EodXNlcisiOiIrcGFzcykpO2JyZWFrO2Nhc2UiYXV0byI6dGhpcy51c2VybmFtZT11c2VyO3RoaXMucGFzc3dvcmQ9cGFzczticmVha31yZXR1cm4gdGhpc307UmVxdWVzdC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odmFsKXtpZigic3RyaW5nIiE9dHlwZW9mIHZhbCl2YWw9c2VyaWFsaXplKHZhbCk7aWYodmFsKXRoaXMuX3F1ZXJ5LnB1c2godmFsKTtyZXR1cm4gdGhpc307UmVxdWVzdC5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKGZpZWxkLGZpbGUsb3B0aW9ucyl7aWYodGhpcy5fZGF0YSl7dGhyb3cgRXJyb3IoInN1cGVyYWdlbnQgY2FuJ3QgbWl4IC5zZW5kKCkgYW5kIC5hdHRhY2goKSIpfXRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKGZpZWxkLGZpbGUsb3B0aW9uc3x8ZmlsZS5uYW1lKTtyZXR1cm4gdGhpc307UmVxdWVzdC5wcm90b3R5cGUuX2dldEZvcm1EYXRhPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2Zvcm1EYXRhKXt0aGlzLl9mb3JtRGF0YT1uZXcgcm9vdC5Gb3JtRGF0YX1yZXR1cm4gdGhpcy5fZm9ybURhdGF9O1JlcXVlc3QucHJvdG90eXBlLmNhbGxiYWNrPWZ1bmN0aW9uKGVycixyZXMpe3ZhciBmbj10aGlzLl9jYWxsYmFjazt0aGlzLmNsZWFyVGltZW91dCgpO2lmKGVycil7dGhpcy5lbWl0KCJlcnJvciIsZXJyKX1mbihlcnIscmVzKX07UmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvcj1mdW5jdGlvbigpe3ZhciBlcnI9bmV3IEVycm9yKCJSZXF1ZXN0IGhhcyBiZWVuIHRlcm1pbmF0ZWRcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4iKTtlcnIuY3Jvc3NEb21haW49dHJ1ZTtlcnIuc3RhdHVzPXRoaXMuc3RhdHVzO2Vyci5tZXRob2Q9dGhpcy5tZXRob2Q7ZXJyLnVybD10aGlzLnVybDt0aGlzLmNhbGxiYWNrKGVycil9O1JlcXVlc3QucHJvdG90eXBlLmJ1ZmZlcj1SZXF1ZXN0LnByb3RvdHlwZS5jYT1SZXF1ZXN0LnByb3RvdHlwZS5hZ2VudD1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdmVyc2lvbiBvZiBzdXBlcmFnZW50Iik7cmV0dXJuIHRoaXN9O1JlcXVlc3QucHJvdG90eXBlLnBpcGU9UmVxdWVzdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiU3RyZWFtaW5nIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQiKX07UmVxdWVzdC5wcm90b3R5cGUuX2FwcGVuZFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHF1ZXJ5PXRoaXMuX3F1ZXJ5LmpvaW4oIiYiKTtpZihxdWVyeSl7dGhpcy51cmwrPSh0aGlzLnVybC5pbmRleE9mKCI/Iik+PTA/IiYiOiI/IikrcXVlcnl9aWYodGhpcy5fc29ydCl7dmFyIGluZGV4PXRoaXMudXJsLmluZGV4T2YoIj8iKTtpZihpbmRleD49MCl7dmFyIHF1ZXJ5QXJyPXRoaXMudXJsLnN1YnN0cmluZyhpbmRleCsxKS5zcGxpdCgiJiIpO2lmKGlzRnVuY3Rpb24odGhpcy5fc29ydCkpe3F1ZXJ5QXJyLnNvcnQodGhpcy5fc29ydCl9ZWxzZXtxdWVyeUFyci5zb3J0KCl9dGhpcy51cmw9dGhpcy51cmwuc3Vic3RyaW5nKDAsaW5kZXgpKyI/IitxdWVyeUFyci5qb2luKCImIil9fX07UmVxdWVzdC5wcm90b3R5cGUuX2lzSG9zdD1mdW5jdGlvbiBfaXNIb3N0KG9iail7cmV0dXJuIG9iaiYmIm9iamVjdCI9PT10eXBlb2Ygb2JqJiYhQXJyYXkuaXNBcnJheShvYmopJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSE9PSJbb2JqZWN0IE9iamVjdF0ifTtSZXF1ZXN0LnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZm4pe3ZhciBzZWxmPXRoaXM7dmFyIHhocj10aGlzLnhocj1yZXF1ZXN0LmdldFhIUigpO3ZhciBkYXRhPXRoaXMuX2Zvcm1EYXRhfHx0aGlzLl9kYXRhO2lmKHRoaXMuX2VuZENhbGxlZCl7Y29uc29sZS53YXJuKCJXYXJuaW5nOiAuZW5kKCkgd2FzIGNhbGxlZCB0d2ljZS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIHN1cGVyYWdlbnQiKX10aGlzLl9lbmRDYWxsZWQ9dHJ1ZTt0aGlzLl9jYWxsYmFjaz1mbnx8bm9vcDt4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHJlYWR5U3RhdGU9eGhyLnJlYWR5U3RhdGU7aWYocmVhZHlTdGF0ZT49MiYmc2VsZi5fcmVzcG9uc2VUaW1lb3V0VGltZXIpe2NsZWFyVGltZW91dChzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lcil9aWYoNCE9cmVhZHlTdGF0ZSl7cmV0dXJufXZhciBzdGF0dXM7dHJ5e3N0YXR1cz14aHIuc3RhdHVzfWNhdGNoKGUpe3N0YXR1cz0wfWlmKCFzdGF0dXMpe2lmKHNlbGYudGltZWRvdXR8fHNlbGYuX2Fib3J0ZWQpcmV0dXJuO3JldHVybiBzZWxmLmNyb3NzRG9tYWluRXJyb3IoKX1zZWxmLmVtaXQoImVuZCIpfTt2YXIgaGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oZGlyZWN0aW9uLGUpe2lmKGUudG90YWw+MCl7ZS5wZXJjZW50PWUubG9hZGVkL2UudG90YWwqMTAwfWUuZGlyZWN0aW9uPWRpcmVjdGlvbjtzZWxmLmVtaXQoInByb2dyZXNzIixlKX07aWYodGhpcy5oYXNMaXN0ZW5lcnMoInByb2dyZXNzIikpe3RyeXt4aHIub25wcm9ncmVzcz1oYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsImRvd25sb2FkIik7aWYoeGhyLnVwbG9hZCl7eGhyLnVwbG9hZC5vbnByb2dyZXNzPWhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwidXBsb2FkIil9fWNhdGNoKGUpe319dGhpcy5fYXBwZW5kUXVlcnlTdHJpbmcoKTt0aGlzLl9zZXRUaW1lb3V0cygpO3RyeXtpZih0aGlzLnVzZXJuYW1lJiZ0aGlzLnBhc3N3b3JkKXt4aHIub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVybCx0cnVlLHRoaXMudXNlcm5hbWUsdGhpcy5wYXNzd29yZCl9ZWxzZXt4aHIub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVybCx0cnVlKX19Y2F0Y2goZXJyKXtyZXR1cm4gdGhpcy5jYWxsYmFjayhlcnIpfWlmKHRoaXMuX3dpdGhDcmVkZW50aWFscyl4aHIud2l0aENyZWRlbnRpYWxzPXRydWU7aWYoIXRoaXMuX2Zvcm1EYXRhJiYiR0VUIiE9dGhpcy5tZXRob2QmJiJIRUFEIiE9dGhpcy5tZXRob2QmJiJzdHJpbmciIT10eXBlb2YgZGF0YSYmIXRoaXMuX2lzSG9zdChkYXRhKSl7dmFyIGNvbnRlbnRUeXBlPXRoaXMuX2hlYWRlclsiY29udGVudC10eXBlIl07dmFyIHNlcmlhbGl6ZT10aGlzLl9zZXJpYWxpemVyfHxyZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZT9jb250ZW50VHlwZS5zcGxpdCgiOyIpWzBdOiIiXTtpZighc2VyaWFsaXplJiZpc0pTT04oY29udGVudFR5cGUpKXtzZXJpYWxpemU9cmVxdWVzdC5zZXJpYWxpemVbImFwcGxpY2F0aW9uL2pzb24iXX1pZihzZXJpYWxpemUpZGF0YT1zZXJpYWxpemUoZGF0YSl9Zm9yKHZhciBmaWVsZCBpbiB0aGlzLmhlYWRlcil7aWYobnVsbD09dGhpcy5oZWFkZXJbZmllbGRdKWNvbnRpbnVlO3hoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLHRoaXMuaGVhZGVyW2ZpZWxkXSl9aWYodGhpcy5fcmVzcG9uc2VUeXBlKXt4aHIucmVzcG9uc2VUeXBlPXRoaXMuX3Jlc3BvbnNlVHlwZX10aGlzLmVtaXQoInJlcXVlc3QiLHRoaXMpO3hoci5zZW5kKHR5cGVvZiBkYXRhIT09InVuZGVmaW5lZCI/ZGF0YTpudWxsKTtyZXR1cm4gdGhpc307cmVxdWVzdC5nZXQ9ZnVuY3Rpb24odXJsLGRhdGEsZm4pe3ZhciByZXE9cmVxdWVzdCgiR0VUIix1cmwpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkYXRhKWZuPWRhdGEsZGF0YT1udWxsO2lmKGRhdGEpcmVxLnF1ZXJ5KGRhdGEpO2lmKGZuKXJlcS5lbmQoZm4pO3JldHVybiByZXF9O3JlcXVlc3QuaGVhZD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KCJIRUFEIix1cmwpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkYXRhKWZuPWRhdGEsZGF0YT1udWxsO2lmKGRhdGEpcmVxLnNlbmQoZGF0YSk7aWYoZm4pcmVxLmVuZChmbik7cmV0dXJuIHJlcX07cmVxdWVzdC5vcHRpb25zPWZ1bmN0aW9uKHVybCxkYXRhLGZuKXt2YXIgcmVxPXJlcXVlc3QoIk9QVElPTlMiLHVybCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGRhdGEpZm49ZGF0YSxkYXRhPW51bGw7aWYoZGF0YSlyZXEuc2VuZChkYXRhKTtpZihmbilyZXEuZW5kKGZuKTtyZXR1cm4gcmVxfTtmdW5jdGlvbiBkZWwodXJsLGZuKXt2YXIgcmVxPXJlcXVlc3QoIkRFTEVURSIsdXJsKTtpZihmbilyZXEuZW5kKGZuKTtyZXR1cm4gcmVxfXJlcXVlc3RbImRlbCJdPWRlbDtyZXF1ZXN0WyJkZWxldGUiXT1kZWw7cmVxdWVzdC5wYXRjaD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KCJQQVRDSCIsdXJsKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZGF0YSlmbj1kYXRhLGRhdGE9bnVsbDtpZihkYXRhKXJlcS5zZW5kKGRhdGEpO2lmKGZuKXJlcS5lbmQoZm4pO3JldHVybiByZXF9O3JlcXVlc3QucG9zdD1mdW5jdGlvbih1cmwsZGF0YSxmbil7dmFyIHJlcT1yZXF1ZXN0KCJQT1NUIix1cmwpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkYXRhKWZuPWRhdGEsZGF0YT1udWxsO2lmKGRhdGEpcmVxLnNlbmQoZGF0YSk7aWYoZm4pcmVxLmVuZChmbik7cmV0dXJuIHJlcX07cmVxdWVzdC5wdXQ9ZnVuY3Rpb24odXJsLGRhdGEsZm4pe3ZhciByZXE9cmVxdWVzdCgiUFVUIix1cmwpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBkYXRhKWZuPWRhdGEsZGF0YT1udWxsO2lmKGRhdGEpcmVxLnNlbmQoZGF0YSk7aWYoZm4pcmVxLmVuZChmbik7cmV0dXJuIHJlcX19LHsiLi9pcy1mdW5jdGlvbiI6MTYwLCIuL2lzLW9iamVjdCI6MTYxLCIuL3JlcXVlc3QtYmFzZSI6MTYyLCIuL3Jlc3BvbnNlLWJhc2UiOjE2MyxlbWl0dGVyOjF9XSwxNjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe3ZhciBpc09iamVjdD1yZXF1aXJlKCIuL2lzLW9iamVjdCIpO2Z1bmN0aW9uIGlzRnVuY3Rpb24oZm4pe3ZhciB0YWc9aXNPYmplY3QoZm4pP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmbik6IiI7cmV0dXJuIHRhZz09PSJbb2JqZWN0IEZ1bmN0aW9uXSJ9bW9kdWxlLmV4cG9ydHM9aXNGdW5jdGlvbn0seyIuL2lzLW9iamVjdCI6MTYxfV0sMTYxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBpc09iamVjdChvYmope3JldHVybiBudWxsIT09b2JqJiYib2JqZWN0Ij09PXR5cGVvZiBvYmp9bW9kdWxlLmV4cG9ydHM9aXNPYmplY3R9LHt9XSwxNjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe3ZhciBpc09iamVjdD1yZXF1aXJlKCIuL2lzLW9iamVjdCIpO21vZHVsZS5leHBvcnRzPVJlcXVlc3RCYXNlO2Z1bmN0aW9uIFJlcXVlc3RCYXNlKG9iail7aWYob2JqKXJldHVybiBtaXhpbihvYmopfWZ1bmN0aW9uIG1peGluKG9iail7Zm9yKHZhciBrZXkgaW4gUmVxdWVzdEJhc2UucHJvdG90eXBlKXtvYmpba2V5XT1SZXF1ZXN0QmFzZS5wcm90b3R5cGVba2V5XX1yZXR1cm4gb2JqfVJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24gX2NsZWFyVGltZW91dCgpe3RoaXMuX3RpbWVvdXQ9MDt0aGlzLl9yZXNwb25zZVRpbWVvdXQ9MDtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO2NsZWFyVGltZW91dCh0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcik7cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbiBwYXJzZShmbil7dGhpcy5fcGFyc2VyPWZuO3JldHVybiB0aGlzfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUucmVzcG9uc2VUeXBlPWZ1bmN0aW9uKHZhbCl7dGhpcy5fcmVzcG9uc2VUeXBlPXZhbDtyZXR1cm4gdGhpc307UmVxdWVzdEJhc2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbiBzZXJpYWxpemUoZm4pe3RoaXMuX3NlcmlhbGl6ZXI9Zm47cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS50aW1lb3V0PWZ1bmN0aW9uIHRpbWVvdXQob3B0aW9ucyl7aWYoIW9wdGlvbnN8fCJvYmplY3QiIT09dHlwZW9mIG9wdGlvbnMpe3RoaXMuX3RpbWVvdXQ9b3B0aW9uczt0aGlzLl9yZXNwb25zZVRpbWVvdXQ9MDtyZXR1cm4gdGhpc31pZigidW5kZWZpbmVkIiE9PXR5cGVvZiBvcHRpb25zLmRlYWRsaW5lKXt0aGlzLl90aW1lb3V0PW9wdGlvbnMuZGVhZGxpbmV9aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygb3B0aW9ucy5yZXNwb25zZSl7dGhpcy5fcmVzcG9uc2VUaW1lb3V0PW9wdGlvbnMucmVzcG9uc2V9cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uIHRoZW4ocmVzb2x2ZSxyZWplY3Qpe2lmKCF0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSl7dmFyIHNlbGY9dGhpcztpZih0aGlzLl9lbmRDYWxsZWQpe2NvbnNvbGUud2FybigiV2FybmluZzogc3VwZXJhZ2VudCByZXF1ZXN0IHdhcyBzZW50IHR3aWNlLCBiZWNhdXNlIGJvdGggLmVuZCgpIGFuZCAudGhlbigpIHdlcmUgY2FsbGVkLiBOZXZlciBjYWxsIC5lbmQoKSBpZiB5b3UgdXNlIHByb21pc2VzIil9dGhpcy5fZnVsbGZpbGxlZFByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24oaW5uZXJSZXNvbHZlLGlubmVyUmVqZWN0KXtzZWxmLmVuZChmdW5jdGlvbihlcnIscmVzKXtpZihlcnIpaW5uZXJSZWplY3QoZXJyKTtlbHNlIGlubmVyUmVzb2x2ZShyZXMpfSl9KX1yZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLHJlamVjdCl9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihjYil7cmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsY2IpfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUudXNlPWZ1bmN0aW9uIHVzZShmbil7Zm4odGhpcyk7cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS5vaz1mdW5jdGlvbihjYil7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBjYil0aHJvdyBFcnJvcigiQ2FsbGJhY2sgcmVxdWlyZWQiKTt0aGlzLl9va0NhbGxiYWNrPWNiO3JldHVybiB0aGlzfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2lzUmVzcG9uc2VPSz1mdW5jdGlvbihyZXMpe2lmKCFyZXMpe3JldHVybiBmYWxzZX1pZih0aGlzLl9va0NhbGxiYWNrKXtyZXR1cm4gdGhpcy5fb2tDYWxsYmFjayhyZXMpfXJldHVybiByZXMuc3RhdHVzPj0yMDAmJnJlcy5zdGF0dXM8MzAwfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGZpZWxkKXtyZXR1cm4gdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0SGVhZGVyPVJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQ7UmVxdWVzdEJhc2UucHJvdG90eXBlLnNldD1mdW5jdGlvbihmaWVsZCx2YWwpe2lmKGlzT2JqZWN0KGZpZWxkKSl7Zm9yKHZhciBrZXkgaW4gZmllbGQpe3RoaXMuc2V0KGtleSxmaWVsZFtrZXldKX1yZXR1cm4gdGhpc310aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV09dmFsO3RoaXMuaGVhZGVyW2ZpZWxkXT12YWw7cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS51bnNldD1mdW5jdGlvbihmaWVsZCl7ZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO3JldHVybiB0aGlzfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZmllbGQ9ZnVuY3Rpb24obmFtZSx2YWwpe2lmKG51bGw9PT1uYW1lfHx1bmRlZmluZWQ9PT1uYW1lKXt0aHJvdyBuZXcgRXJyb3IoIi5maWVsZChuYW1lLCB2YWwpIG5hbWUgY2FuIG5vdCBiZSBlbXB0eSIpfWlmKHRoaXMuX2RhdGEpe2NvbnNvbGUuZXJyb3IoIi5maWVsZCgpIGNhbid0IGJlIHVzZWQgaWYgLnNlbmQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpIil9aWYoaXNPYmplY3QobmFtZSkpe2Zvcih2YXIga2V5IGluIG5hbWUpe3RoaXMuZmllbGQoa2V5LG5hbWVba2V5XSl9cmV0dXJuIHRoaXN9aWYoQXJyYXkuaXNBcnJheSh2YWwpKXtmb3IodmFyIGkgaW4gdmFsKXt0aGlzLmZpZWxkKG5hbWUsdmFsW2ldKX1yZXR1cm4gdGhpc31pZihudWxsPT09dmFsfHx1bmRlZmluZWQ9PT12YWwpe3Rocm93IG5ldyBFcnJvcigiLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHkiKX1pZigiYm9vbGVhbiI9PT10eXBlb2YgdmFsKXt2YWw9IiIrdmFsfXRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKG5hbWUsdmFsKTtyZXR1cm4gdGhpc307UmVxdWVzdEJhc2UucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7aWYodGhpcy5fYWJvcnRlZCl7cmV0dXJuIHRoaXN9dGhpcy5fYWJvcnRlZD10cnVlO3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpO3RoaXMucmVxJiZ0aGlzLnJlcS5hYm9ydCgpO3RoaXMuY2xlYXJUaW1lb3V0KCk7dGhpcy5lbWl0KCJhYm9ydCIpO3JldHVybiB0aGlzfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUud2l0aENyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7dGhpcy5fd2l0aENyZWRlbnRpYWxzPXRydWU7cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS5yZWRpcmVjdHM9ZnVuY3Rpb24obil7dGhpcy5fbWF4UmVkaXJlY3RzPW47cmV0dXJuIHRoaXN9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57bWV0aG9kOnRoaXMubWV0aG9kLHVybDp0aGlzLnVybCxkYXRhOnRoaXMuX2RhdGEsaGVhZGVyczp0aGlzLl9oZWFkZXJ9fTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihkYXRhKXt2YXIgaXNPYmo9aXNPYmplY3QoZGF0YSk7dmFyIHR5cGU9dGhpcy5faGVhZGVyWyJjb250ZW50LXR5cGUiXTtpZih0aGlzLl9mb3JtRGF0YSl7Y29uc29sZS5lcnJvcigiLnNlbmQoKSBjYW4ndCBiZSB1c2VkIGlmIC5hdHRhY2goKSBvciAuZmllbGQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpIil9aWYoaXNPYmomJiF0aGlzLl9kYXRhKXtpZihBcnJheS5pc0FycmF5KGRhdGEpKXt0aGlzLl9kYXRhPVtdfWVsc2UgaWYoIXRoaXMuX2lzSG9zdChkYXRhKSl7dGhpcy5fZGF0YT17fX19ZWxzZSBpZihkYXRhJiZ0aGlzLl9kYXRhJiZ0aGlzLl9pc0hvc3QodGhpcy5fZGF0YSkpe3Rocm93IEVycm9yKCJDYW4ndCBtZXJnZSB0aGVzZSBzZW5kIGNhbGxzIil9aWYoaXNPYmomJmlzT2JqZWN0KHRoaXMuX2RhdGEpKXtmb3IodmFyIGtleSBpbiBkYXRhKXt0aGlzLl9kYXRhW2tleV09ZGF0YVtrZXldfX1lbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgZGF0YSl7aWYoIXR5cGUpdGhpcy50eXBlKCJmb3JtIik7dHlwZT10aGlzLl9oZWFkZXJbImNvbnRlbnQtdHlwZSJdO2lmKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiPT10eXBlKXt0aGlzLl9kYXRhPXRoaXMuX2RhdGE/dGhpcy5fZGF0YSsiJiIrZGF0YTpkYXRhfWVsc2V7dGhpcy5fZGF0YT0odGhpcy5fZGF0YXx8IiIpK2RhdGF9fWVsc2V7dGhpcy5fZGF0YT1kYXRhfWlmKCFpc09ianx8dGhpcy5faXNIb3N0KGRhdGEpKXtyZXR1cm4gdGhpc31pZighdHlwZSl0aGlzLnR5cGUoImpzb24iKTtyZXR1cm4gdGhpc307UmVxdWVzdEJhc2UucHJvdG90eXBlLnNvcnRRdWVyeT1mdW5jdGlvbihzb3J0KXt0aGlzLl9zb3J0PXR5cGVvZiBzb3J0PT09InVuZGVmaW5lZCI/dHJ1ZTpzb3J0O3JldHVybiB0aGlzfTtSZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3RpbWVvdXRFcnJvcj1mdW5jdGlvbihyZWFzb24sdGltZW91dCl7aWYodGhpcy5fYWJvcnRlZCl7cmV0dXJufXZhciBlcnI9bmV3IEVycm9yKHJlYXNvbit0aW1lb3V0KyJtcyBleGNlZWRlZCIpO2Vyci50aW1lb3V0PXRpbWVvdXQ7ZXJyLmNvZGU9IkVDT05OQUJPUlRFRCI7dGhpcy50aW1lZG91dD10cnVlO3RoaXMuYWJvcnQoKTt0aGlzLmNhbGxiYWNrKGVycil9O1JlcXVlc3RCYXNlLnByb3RvdHlwZS5fc2V0VGltZW91dHM9ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzO2lmKHRoaXMuX3RpbWVvdXQmJiF0aGlzLl90aW1lcil7dGhpcy5fdGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuX3RpbWVvdXRFcnJvcigiVGltZW91dCBvZiAiLHNlbGYuX3RpbWVvdXQpfSx0aGlzLl90aW1lb3V0KX1pZih0aGlzLl9yZXNwb25zZVRpbWVvdXQmJiF0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcil7dGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuX3RpbWVvdXRFcnJvcigiUmVzcG9uc2UgdGltZW91dCBvZiAiLHNlbGYuX3Jlc3BvbnNlVGltZW91dCl9LHRoaXMuX3Jlc3BvbnNlVGltZW91dCl9fX0seyIuL2lzLW9iamVjdCI6MTYxfV0sMTYzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXt2YXIgdXRpbHM9cmVxdWlyZSgiLi91dGlscyIpO21vZHVsZS5leHBvcnRzPVJlc3BvbnNlQmFzZTtmdW5jdGlvbiBSZXNwb25zZUJhc2Uob2JqKXtpZihvYmopcmV0dXJuIG1peGluKG9iail9ZnVuY3Rpb24gbWl4aW4ob2JqKXtmb3IodmFyIGtleSBpbiBSZXNwb25zZUJhc2UucHJvdG90eXBlKXtvYmpba2V5XT1SZXNwb25zZUJhc2UucHJvdG90eXBlW2tleV19cmV0dXJuIG9ian1SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldD1mdW5jdGlvbihmaWVsZCl7cmV0dXJuIHRoaXMuaGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldfTtSZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzPWZ1bmN0aW9uKGhlYWRlcil7dmFyIGN0PWhlYWRlclsiY29udGVudC10eXBlIl18fCIiO3RoaXMudHlwZT11dGlscy50eXBlKGN0KTt2YXIgcGFyYW1zPXV0aWxzLnBhcmFtcyhjdCk7Zm9yKHZhciBrZXkgaW4gcGFyYW1zKXRoaXNba2V5XT1wYXJhbXNba2V5XTt0aGlzLmxpbmtzPXt9O3RyeXtpZihoZWFkZXIubGluayl7dGhpcy5saW5rcz11dGlscy5wYXJzZUxpbmtzKGhlYWRlci5saW5rKX19Y2F0Y2goZXJyKXt9fTtSZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRTdGF0dXNQcm9wZXJ0aWVzPWZ1bmN0aW9uKHN0YXR1cyl7dmFyIHR5cGU9c3RhdHVzLzEwMHwwO3RoaXMuc3RhdHVzPXRoaXMuc3RhdHVzQ29kZT1zdGF0dXM7dGhpcy5zdGF0dXNUeXBlPXR5cGU7dGhpcy5pbmZvPTE9PXR5cGU7dGhpcy5vaz0yPT10eXBlO3RoaXMucmVkaXJlY3Q9Mz09dHlwZTt0aGlzLmNsaWVudEVycm9yPTQ9PXR5cGU7dGhpcy5zZXJ2ZXJFcnJvcj01PT10eXBlO3RoaXMuZXJyb3I9ND09dHlwZXx8NT09dHlwZT90aGlzLnRvRXJyb3IoKTpmYWxzZTt0aGlzLmFjY2VwdGVkPTIwMj09c3RhdHVzO3RoaXMubm9Db250ZW50PTIwND09c3RhdHVzO3RoaXMuYmFkUmVxdWVzdD00MDA9PXN0YXR1czt0aGlzLnVuYXV0aG9yaXplZD00MDE9PXN0YXR1czt0aGlzLm5vdEFjY2VwdGFibGU9NDA2PT1zdGF0dXM7dGhpcy5mb3JiaWRkZW49NDAzPT1zdGF0dXM7dGhpcy5ub3RGb3VuZD00MDQ9PXN0YXR1c319LHsiLi91dGlscyI6MTY0fV0sMTY0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtleHBvcnRzLnR5cGU9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnNwbGl0KC8gKjsgKi8pLnNoaWZ0KCl9O2V4cG9ydHMucGFyYW1zPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5yZWR1Y2UoZnVuY3Rpb24ob2JqLHN0cil7dmFyIHBhcnRzPXN0ci5zcGxpdCgvICo9ICovKTt2YXIga2V5PXBhcnRzLnNoaWZ0KCk7dmFyIHZhbD1wYXJ0cy5zaGlmdCgpO2lmKGtleSYmdmFsKW9ialtrZXldPXZhbDtyZXR1cm4gb2JqfSx7fSl9O2V4cG9ydHMucGFyc2VMaW5rcz1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIuc3BsaXQoLyAqLCAqLykucmVkdWNlKGZ1bmN0aW9uKG9iaixzdHIpe3ZhciBwYXJ0cz1zdHIuc3BsaXQoLyAqOyAqLyk7dmFyIHVybD1wYXJ0c1swXS5zbGljZSgxLC0xKTt2YXIgcmVsPXBhcnRzWzFdLnNwbGl0KC8gKj0gKi8pWzFdLnNsaWNlKDEsLTEpO29ialtyZWxdPXVybDtyZXR1cm4gb2JqfSx7fSl9O2V4cG9ydHMuY2xlYW5IZWFkZXI9ZnVuY3Rpb24oaGVhZGVyLHNob3VsZFN0cmlwQ29va2llKXtkZWxldGUgaGVhZGVyWyJjb250ZW50LXR5cGUiXTtkZWxldGUgaGVhZGVyWyJjb250ZW50LWxlbmd0aCJdO2RlbGV0ZSBoZWFkZXJbInRyYW5zZmVyLWVuY29kaW5nIl07ZGVsZXRlIGhlYWRlclsiaG9zdCJdO2lmKHNob3VsZFN0cmlwQ29va2llKXtkZWxldGUgaGVhZGVyWyJjb29raWUiXX1yZXR1cm4gaGVhZGVyfX0se31dLDE2NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKG5hY2wpeyJ1c2Ugc3RyaWN0Ijt2YXIgZ2Y9ZnVuY3Rpb24oaW5pdCl7dmFyIGkscj1uZXcgRmxvYXQ2NEFycmF5KDE2KTtpZihpbml0KWZvcihpPTA7aTxpbml0Lmxlbmd0aDtpKyspcltpXT1pbml0W2ldO3JldHVybiByfTt2YXIgcmFuZG9tYnl0ZXM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIm5vIFBSTkciKX07dmFyIF8wPW5ldyBVaW50OEFycmF5KDE2KTt2YXIgXzk9bmV3IFVpbnQ4QXJyYXkoMzIpO185WzBdPTk7dmFyIGdmMD1nZigpLGdmMT1nZihbMV0pLF8xMjE2NjU9Z2YoWzU2MTI5LDFdKSxEPWdmKFszMDg4Myw0OTUzLDE5OTE0LDMwMTg3LDU1NDY3LDE2NzA1LDI2MzcsMTEyLDU5NTQ0LDMwNTg1LDE2NTA1LDM2MDM5LDY1MTM5LDExMTE5LDI3ODg2LDIwOTk1XSksRDI9Z2YoWzYxNzg1LDk5MDYsMzk4MjgsNjAzNzQsNDUzOTgsMzM0MTEsNTI3NCwyMjQsNTM1NTIsNjExNzEsMzMwMTAsNjU0Miw2NDc0MywyMjIzOSw1NTc3Miw5MjIyXSksWD1nZihbNTQ1NTQsMzY2NDUsMTE2MTYsNTE1NDIsNDI5MzAsMzgxODEsNTEwNDAsMjY5MjQsNTY0MTIsNjQ5ODIsNTc5MDUsNDkzMTYsMjE1MDIsNTI1OTAsMTQwMzUsODU1M10pLFk9Z2YoWzI2MjAwLDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0LDI2MjE0XSksST1nZihbNDExMzYsMTg5NTgsNjk1MSw1MDQxNCw1ODQ4OCw0NDMzNSw2MTUwLDEyMDk5LDU1MjA3LDE1ODY3LDE1MywxMTA4NSw1NzA5OSwyMDQxNyw5MzQ0LDExMTM5XSk7ZnVuY3Rpb24gdHM2NCh4LGksaCxsKXt4W2ldPWg+PjI0JjI1NTt4W2krMV09aD4+MTYmMjU1O3hbaSsyXT1oPj44JjI1NTt4W2krM109aCYyNTU7eFtpKzRdPWw+PjI0JjI1NTt4W2krNV09bD4+MTYmMjU1O3hbaSs2XT1sPj44JjI1NTt4W2krN109bCYyNTV9ZnVuY3Rpb24gdm4oeCx4aSx5LHlpLG4pe3ZhciBpLGQ9MDtmb3IoaT0wO2k8bjtpKyspZHw9eFt4aStpXV55W3lpK2ldO3JldHVybigxJmQtMT4+PjgpLTF9ZnVuY3Rpb24gY3J5cHRvX3ZlcmlmeV8xNih4LHhpLHkseWkpe3JldHVybiB2bih4LHhpLHkseWksMTYpfWZ1bmN0aW9uIGNyeXB0b192ZXJpZnlfMzIoeCx4aSx5LHlpKXtyZXR1cm4gdm4oeCx4aSx5LHlpLDMyKX1mdW5jdGlvbiBjb3JlX3NhbHNhMjAobyxwLGssYyl7dmFyIGowPWNbMF0mMjU1fChjWzFdJjI1NSk8PDh8KGNbMl0mMjU1KTw8MTZ8KGNbM10mMjU1KTw8MjQsajE9a1swXSYyNTV8KGtbMV0mMjU1KTw8OHwoa1syXSYyNTUpPDwxNnwoa1szXSYyNTUpPDwyNCxqMj1rWzRdJjI1NXwoa1s1XSYyNTUpPDw4fChrWzZdJjI1NSk8PDE2fChrWzddJjI1NSk8PDI0LGozPWtbOF0mMjU1fChrWzldJjI1NSk8PDh8KGtbMTBdJjI1NSk8PDE2fChrWzExXSYyNTUpPDwyNCxqND1rWzEyXSYyNTV8KGtbMTNdJjI1NSk8PDh8KGtbMTRdJjI1NSk8PDE2fChrWzE1XSYyNTUpPDwyNCxqNT1jWzRdJjI1NXwoY1s1XSYyNTUpPDw4fChjWzZdJjI1NSk8PDE2fChjWzddJjI1NSk8PDI0LGo2PXBbMF0mMjU1fChwWzFdJjI1NSk8PDh8KHBbMl0mMjU1KTw8MTZ8KHBbM10mMjU1KTw8MjQsajc9cFs0XSYyNTV8KHBbNV0mMjU1KTw8OHwocFs2XSYyNTUpPDwxNnwocFs3XSYyNTUpPDwyNCxqOD1wWzhdJjI1NXwocFs5XSYyNTUpPDw4fChwWzEwXSYyNTUpPDwxNnwocFsxMV0mMjU1KTw8MjQsajk9cFsxMl0mMjU1fChwWzEzXSYyNTUpPDw4fChwWzE0XSYyNTUpPDwxNnwocFsxNV0mMjU1KTw8MjQsajEwPWNbOF0mMjU1fChjWzldJjI1NSk8PDh8KGNbMTBdJjI1NSk8PDE2fChjWzExXSYyNTUpPDwyNCxqMTE9a1sxNl0mMjU1fChrWzE3XSYyNTUpPDw4fChrWzE4XSYyNTUpPDwxNnwoa1sxOV0mMjU1KTw8MjQsajEyPWtbMjBdJjI1NXwoa1syMV0mMjU1KTw8OHwoa1syMl0mMjU1KTw8MTZ8KGtbMjNdJjI1NSk8PDI0LGoxMz1rWzI0XSYyNTV8KGtbMjVdJjI1NSk8PDh8KGtbMjZdJjI1NSk8PDE2fChrWzI3XSYyNTUpPDwyNCxqMTQ9a1syOF0mMjU1fChrWzI5XSYyNTUpPDw4fChrWzMwXSYyNTUpPDwxNnwoa1szMV0mMjU1KTw8MjQsajE1PWNbMTJdJjI1NXwoY1sxM10mMjU1KTw8OHwoY1sxNF0mMjU1KTw8MTZ8KGNbMTVdJjI1NSk8PDI0O3ZhciB4MD1qMCx4MT1qMSx4Mj1qMix4Mz1qMyx4ND1qNCx4NT1qNSx4Nj1qNix4Nz1qNyx4OD1qOCx4OT1qOSx4MTA9ajEwLHgxMT1qMTEseDEyPWoxMix4MTM9ajEzLHgxND1qMTQseDE1PWoxNSx1O2Zvcih2YXIgaT0wO2k8MjA7aSs9Mil7dT14MCt4MTJ8MDt4NF49dTw8N3x1Pj4+MzItNzt1PXg0K3gwfDA7eDhePXU8PDl8dT4+PjMyLTk7dT14OCt4NHwwO3gxMl49dTw8MTN8dT4+PjMyLTEzO3U9eDEyK3g4fDA7eDBePXU8PDE4fHU+Pj4zMi0xODt1PXg1K3gxfDA7eDlePXU8PDd8dT4+PjMyLTc7dT14OSt4NXwwO3gxM149dTw8OXx1Pj4+MzItOTt1PXgxMyt4OXwwO3gxXj11PDwxM3x1Pj4+MzItMTM7dT14MSt4MTN8MDt4NV49dTw8MTh8dT4+PjMyLTE4O3U9eDEwK3g2fDA7eDE0Xj11PDw3fHU+Pj4zMi03O3U9eDE0K3gxMHwwO3gyXj11PDw5fHU+Pj4zMi05O3U9eDIreDE0fDA7eDZePXU8PDEzfHU+Pj4zMi0xMzt1PXg2K3gyfDA7eDEwXj11PDwxOHx1Pj4+MzItMTg7dT14MTUreDExfDA7eDNePXU8PDd8dT4+PjMyLTc7dT14Myt4MTV8MDt4N149dTw8OXx1Pj4+MzItOTt1PXg3K3gzfDA7eDExXj11PDwxM3x1Pj4+MzItMTM7dT14MTEreDd8MDt4MTVePXU8PDE4fHU+Pj4zMi0xODt1PXgwK3gzfDA7eDFePXU8PDd8dT4+PjMyLTc7dT14MSt4MHwwO3gyXj11PDw5fHU+Pj4zMi05O3U9eDIreDF8MDt4M149dTw8MTN8dT4+PjMyLTEzO3U9eDMreDJ8MDt4MF49dTw8MTh8dT4+PjMyLTE4O3U9eDUreDR8MDt4Nl49dTw8N3x1Pj4+MzItNzt1PXg2K3g1fDA7eDdePXU8PDl8dT4+PjMyLTk7dT14Nyt4NnwwO3g0Xj11PDwxM3x1Pj4+MzItMTM7dT14NCt4N3wwO3g1Xj11PDwxOHx1Pj4+MzItMTg7dT14MTAreDl8MDt4MTFePXU8PDd8dT4+PjMyLTc7dT14MTEreDEwfDA7eDhePXU8PDl8dT4+PjMyLTk7dT14OCt4MTF8MDt4OV49dTw8MTN8dT4+PjMyLTEzO3U9eDkreDh8MDt4MTBePXU8PDE4fHU+Pj4zMi0xODt1PXgxNSt4MTR8MDt4MTJePXU8PDd8dT4+PjMyLTc7dT14MTIreDE1fDA7eDEzXj11PDw5fHU+Pj4zMi05O3U9eDEzK3gxMnwwO3gxNF49dTw8MTN8dT4+PjMyLTEzO3U9eDE0K3gxM3wwO3gxNV49dTw8MTh8dT4+PjMyLTE4fXgwPXgwK2owfDA7eDE9eDErajF8MDt4Mj14MitqMnwwO3gzPXgzK2ozfDA7eDQ9eDQrajR8MDt4NT14NStqNXwwO3g2PXg2K2o2fDA7eDc9eDcrajd8MDt4OD14OCtqOHwwO3g5PXg5K2o5fDA7eDEwPXgxMCtqMTB8MDt4MTE9eDExK2oxMXwwO3gxMj14MTIrajEyfDA7eDEzPXgxMytqMTN8MDt4MTQ9eDE0K2oxNHwwO3gxNT14MTUrajE1fDA7b1swXT14MD4+PjAmMjU1O29bMV09eDA+Pj44JjI1NTtvWzJdPXgwPj4+MTYmMjU1O29bM109eDA+Pj4yNCYyNTU7b1s0XT14MT4+PjAmMjU1O29bNV09eDE+Pj44JjI1NTtvWzZdPXgxPj4+MTYmMjU1O29bN109eDE+Pj4yNCYyNTU7b1s4XT14Mj4+PjAmMjU1O29bOV09eDI+Pj44JjI1NTtvWzEwXT14Mj4+PjE2JjI1NTtvWzExXT14Mj4+PjI0JjI1NTtvWzEyXT14Mz4+PjAmMjU1O29bMTNdPXgzPj4+OCYyNTU7b1sxNF09eDM+Pj4xNiYyNTU7b1sxNV09eDM+Pj4yNCYyNTU7b1sxNl09eDQ+Pj4wJjI1NTtvWzE3XT14ND4+PjgmMjU1O29bMThdPXg0Pj4+MTYmMjU1O29bMTldPXg0Pj4+MjQmMjU1O29bMjBdPXg1Pj4+MCYyNTU7b1syMV09eDU+Pj44JjI1NTtvWzIyXT14NT4+PjE2JjI1NTtvWzIzXT14NT4+PjI0JjI1NTtvWzI0XT14Nj4+PjAmMjU1O29bMjVdPXg2Pj4+OCYyNTU7b1syNl09eDY+Pj4xNiYyNTU7b1syN109eDY+Pj4yNCYyNTU7b1syOF09eDc+Pj4wJjI1NTtvWzI5XT14Nz4+PjgmMjU1O29bMzBdPXg3Pj4+MTYmMjU1O29bMzFdPXg3Pj4+MjQmMjU1O29bMzJdPXg4Pj4+MCYyNTU7b1szM109eDg+Pj44JjI1NTtvWzM0XT14OD4+PjE2JjI1NTtvWzM1XT14OD4+PjI0JjI1NTtvWzM2XT14OT4+PjAmMjU1O29bMzddPXg5Pj4+OCYyNTU7b1szOF09eDk+Pj4xNiYyNTU7b1szOV09eDk+Pj4yNCYyNTU7b1s0MF09eDEwPj4+MCYyNTU7b1s0MV09eDEwPj4+OCYyNTU7b1s0Ml09eDEwPj4+MTYmMjU1O29bNDNdPXgxMD4+PjI0JjI1NTtvWzQ0XT14MTE+Pj4wJjI1NTtvWzQ1XT14MTE+Pj44JjI1NTtvWzQ2XT14MTE+Pj4xNiYyNTU7b1s0N109eDExPj4+MjQmMjU1O29bNDhdPXgxMj4+PjAmMjU1O29bNDldPXgxMj4+PjgmMjU1O29bNTBdPXgxMj4+PjE2JjI1NTtvWzUxXT14MTI+Pj4yNCYyNTU7b1s1Ml09eDEzPj4+MCYyNTU7b1s1M109eDEzPj4+OCYyNTU7b1s1NF09eDEzPj4+MTYmMjU1O29bNTVdPXgxMz4+PjI0JjI1NTtvWzU2XT14MTQ+Pj4wJjI1NTtvWzU3XT14MTQ+Pj44JjI1NTtvWzU4XT14MTQ+Pj4xNiYyNTU7b1s1OV09eDE0Pj4+MjQmMjU1O29bNjBdPXgxNT4+PjAmMjU1O29bNjFdPXgxNT4+PjgmMjU1O29bNjJdPXgxNT4+PjE2JjI1NTtvWzYzXT14MTU+Pj4yNCYyNTV9ZnVuY3Rpb24gY29yZV9oc2Fsc2EyMChvLHAsayxjKXt2YXIgajA9Y1swXSYyNTV8KGNbMV0mMjU1KTw8OHwoY1syXSYyNTUpPDwxNnwoY1szXSYyNTUpPDwyNCxqMT1rWzBdJjI1NXwoa1sxXSYyNTUpPDw4fChrWzJdJjI1NSk8PDE2fChrWzNdJjI1NSk8PDI0LGoyPWtbNF0mMjU1fChrWzVdJjI1NSk8PDh8KGtbNl0mMjU1KTw8MTZ8KGtbN10mMjU1KTw8MjQsajM9a1s4XSYyNTV8KGtbOV0mMjU1KTw8OHwoa1sxMF0mMjU1KTw8MTZ8KGtbMTFdJjI1NSk8PDI0LGo0PWtbMTJdJjI1NXwoa1sxM10mMjU1KTw8OHwoa1sxNF0mMjU1KTw8MTZ8KGtbMTVdJjI1NSk8PDI0LGo1PWNbNF0mMjU1fChjWzVdJjI1NSk8PDh8KGNbNl0mMjU1KTw8MTZ8KGNbN10mMjU1KTw8MjQsajY9cFswXSYyNTV8KHBbMV0mMjU1KTw8OHwocFsyXSYyNTUpPDwxNnwocFszXSYyNTUpPDwyNCxqNz1wWzRdJjI1NXwocFs1XSYyNTUpPDw4fChwWzZdJjI1NSk8PDE2fChwWzddJjI1NSk8PDI0LGo4PXBbOF0mMjU1fChwWzldJjI1NSk8PDh8KHBbMTBdJjI1NSk8PDE2fChwWzExXSYyNTUpPDwyNCxqOT1wWzEyXSYyNTV8KHBbMTNdJjI1NSk8PDh8KHBbMTRdJjI1NSk8PDE2fChwWzE1XSYyNTUpPDwyNCxqMTA9Y1s4XSYyNTV8KGNbOV0mMjU1KTw8OHwoY1sxMF0mMjU1KTw8MTZ8KGNbMTFdJjI1NSk8PDI0LGoxMT1rWzE2XSYyNTV8KGtbMTddJjI1NSk8PDh8KGtbMThdJjI1NSk8PDE2fChrWzE5XSYyNTUpPDwyNCxqMTI9a1syMF0mMjU1fChrWzIxXSYyNTUpPDw4fChrWzIyXSYyNTUpPDwxNnwoa1syM10mMjU1KTw8MjQsajEzPWtbMjRdJjI1NXwoa1syNV0mMjU1KTw8OHwoa1syNl0mMjU1KTw8MTZ8KGtbMjddJjI1NSk8PDI0LGoxND1rWzI4XSYyNTV8KGtbMjldJjI1NSk8PDh8KGtbMzBdJjI1NSk8PDE2fChrWzMxXSYyNTUpPDwyNCxqMTU9Y1sxMl0mMjU1fChjWzEzXSYyNTUpPDw4fChjWzE0XSYyNTUpPDwxNnwoY1sxNV0mMjU1KTw8MjQ7dmFyIHgwPWowLHgxPWoxLHgyPWoyLHgzPWozLHg0PWo0LHg1PWo1LHg2PWo2LHg3PWo3LHg4PWo4LHg5PWo5LHgxMD1qMTAseDExPWoxMSx4MTI9ajEyLHgxMz1qMTMseDE0PWoxNCx4MTU9ajE1LHU7Zm9yKHZhciBpPTA7aTwyMDtpKz0yKXt1PXgwK3gxMnwwO3g0Xj11PDw3fHU+Pj4zMi03O3U9eDQreDB8MDt4OF49dTw8OXx1Pj4+MzItOTt1PXg4K3g0fDA7eDEyXj11PDwxM3x1Pj4+MzItMTM7dT14MTIreDh8MDt4MF49dTw8MTh8dT4+PjMyLTE4O3U9eDUreDF8MDt4OV49dTw8N3x1Pj4+MzItNzt1PXg5K3g1fDA7eDEzXj11PDw5fHU+Pj4zMi05O3U9eDEzK3g5fDA7eDFePXU8PDEzfHU+Pj4zMi0xMzt1PXgxK3gxM3wwO3g1Xj11PDwxOHx1Pj4+MzItMTg7dT14MTAreDZ8MDt4MTRePXU8PDd8dT4+PjMyLTc7dT14MTQreDEwfDA7eDJePXU8PDl8dT4+PjMyLTk7dT14Mit4MTR8MDt4Nl49dTw8MTN8dT4+PjMyLTEzO3U9eDYreDJ8MDt4MTBePXU8PDE4fHU+Pj4zMi0xODt1PXgxNSt4MTF8MDt4M149dTw8N3x1Pj4+MzItNzt1PXgzK3gxNXwwO3g3Xj11PDw5fHU+Pj4zMi05O3U9eDcreDN8MDt4MTFePXU8PDEzfHU+Pj4zMi0xMzt1PXgxMSt4N3wwO3gxNV49dTw8MTh8dT4+PjMyLTE4O3U9eDAreDN8MDt4MV49dTw8N3x1Pj4+MzItNzt1PXgxK3gwfDA7eDJePXU8PDl8dT4+PjMyLTk7dT14Mit4MXwwO3gzXj11PDwxM3x1Pj4+MzItMTM7dT14Myt4MnwwO3gwXj11PDwxOHx1Pj4+MzItMTg7dT14NSt4NHwwO3g2Xj11PDw3fHU+Pj4zMi03O3U9eDYreDV8MDt4N149dTw8OXx1Pj4+MzItOTt1PXg3K3g2fDA7eDRePXU8PDEzfHU+Pj4zMi0xMzt1PXg0K3g3fDA7eDVePXU8PDE4fHU+Pj4zMi0xODt1PXgxMCt4OXwwO3gxMV49dTw8N3x1Pj4+MzItNzt1PXgxMSt4MTB8MDt4OF49dTw8OXx1Pj4+MzItOTt1PXg4K3gxMXwwO3g5Xj11PDwxM3x1Pj4+MzItMTM7dT14OSt4OHwwO3gxMF49dTw8MTh8dT4+PjMyLTE4O3U9eDE1K3gxNHwwO3gxMl49dTw8N3x1Pj4+MzItNzt1PXgxMit4MTV8MDt4MTNePXU8PDl8dT4+PjMyLTk7dT14MTMreDEyfDA7eDE0Xj11PDwxM3x1Pj4+MzItMTM7dT14MTQreDEzfDA7eDE1Xj11PDwxOHx1Pj4+MzItMTh9b1swXT14MD4+PjAmMjU1O29bMV09eDA+Pj44JjI1NTtvWzJdPXgwPj4+MTYmMjU1O29bM109eDA+Pj4yNCYyNTU7b1s0XT14NT4+PjAmMjU1O29bNV09eDU+Pj44JjI1NTtvWzZdPXg1Pj4+MTYmMjU1O29bN109eDU+Pj4yNCYyNTU7b1s4XT14MTA+Pj4wJjI1NTtvWzldPXgxMD4+PjgmMjU1O29bMTBdPXgxMD4+PjE2JjI1NTtvWzExXT14MTA+Pj4yNCYyNTU7b1sxMl09eDE1Pj4+MCYyNTU7b1sxM109eDE1Pj4+OCYyNTU7b1sxNF09eDE1Pj4+MTYmMjU1O29bMTVdPXgxNT4+PjI0JjI1NTtvWzE2XT14Nj4+PjAmMjU1O29bMTddPXg2Pj4+OCYyNTU7b1sxOF09eDY+Pj4xNiYyNTU7b1sxOV09eDY+Pj4yNCYyNTU7b1syMF09eDc+Pj4wJjI1NTtvWzIxXT14Nz4+PjgmMjU1O29bMjJdPXg3Pj4+MTYmMjU1O29bMjNdPXg3Pj4+MjQmMjU1O29bMjRdPXg4Pj4+MCYyNTU7b1syNV09eDg+Pj44JjI1NTtvWzI2XT14OD4+PjE2JjI1NTtvWzI3XT14OD4+PjI0JjI1NTtvWzI4XT14OT4+PjAmMjU1O29bMjldPXg5Pj4+OCYyNTU7b1szMF09eDk+Pj4xNiYyNTU7b1szMV09eDk+Pj4yNCYyNTV9ZnVuY3Rpb24gY3J5cHRvX2NvcmVfc2Fsc2EyMChvdXQsaW5wLGssYyl7Y29yZV9zYWxzYTIwKG91dCxpbnAsayxjKX1mdW5jdGlvbiBjcnlwdG9fY29yZV9oc2Fsc2EyMChvdXQsaW5wLGssYyl7Y29yZV9oc2Fsc2EyMChvdXQsaW5wLGssYyl9dmFyIHNpZ21hPW5ldyBVaW50OEFycmF5KFsxMDEsMTIwLDExMiw5NywxMTAsMTAwLDMyLDUxLDUwLDQ1LDk4LDEyMSwxMTYsMTAxLDMyLDEwN10pO2Z1bmN0aW9uIGNyeXB0b19zdHJlYW1fc2Fsc2EyMF94b3IoYyxjcG9zLG0sbXBvcyxiLG4sayl7dmFyIHo9bmV3IFVpbnQ4QXJyYXkoMTYpLHg9bmV3IFVpbnQ4QXJyYXkoNjQpO3ZhciB1LGk7Zm9yKGk9MDtpPDE2O2krKyl6W2ldPTA7Zm9yKGk9MDtpPDg7aSsrKXpbaV09bltpXTt3aGlsZShiPj02NCl7Y3J5cHRvX2NvcmVfc2Fsc2EyMCh4LHosayxzaWdtYSk7Zm9yKGk9MDtpPDY0O2krKyljW2Nwb3MraV09bVttcG9zK2ldXnhbaV07dT0xO2ZvcihpPTg7aTwxNjtpKyspe3U9dSsoeltpXSYyNTUpfDA7eltpXT11JjI1NTt1Pj4+PTh9Yi09NjQ7Y3Bvcys9NjQ7bXBvcys9NjR9aWYoYj4wKXtjcnlwdG9fY29yZV9zYWxzYTIwKHgseixrLHNpZ21hKTtmb3IoaT0wO2k8YjtpKyspY1tjcG9zK2ldPW1bbXBvcytpXV54W2ldfXJldHVybiAwfWZ1bmN0aW9uIGNyeXB0b19zdHJlYW1fc2Fsc2EyMChjLGNwb3MsYixuLGspe3ZhciB6PW5ldyBVaW50OEFycmF5KDE2KSx4PW5ldyBVaW50OEFycmF5KDY0KTt2YXIgdSxpO2ZvcihpPTA7aTwxNjtpKyspeltpXT0wO2ZvcihpPTA7aTw4O2krKyl6W2ldPW5baV07d2hpbGUoYj49NjQpe2NyeXB0b19jb3JlX3NhbHNhMjAoeCx6LGssc2lnbWEpO2ZvcihpPTA7aTw2NDtpKyspY1tjcG9zK2ldPXhbaV07dT0xO2ZvcihpPTg7aTwxNjtpKyspe3U9dSsoeltpXSYyNTUpfDA7eltpXT11JjI1NTt1Pj4+PTh9Yi09NjQ7Y3Bvcys9NjR9aWYoYj4wKXtjcnlwdG9fY29yZV9zYWxzYTIwKHgseixrLHNpZ21hKTtmb3IoaT0wO2k8YjtpKyspY1tjcG9zK2ldPXhbaV19cmV0dXJuIDB9ZnVuY3Rpb24gY3J5cHRvX3N0cmVhbShjLGNwb3MsZCxuLGspe3ZhciBzPW5ldyBVaW50OEFycmF5KDMyKTtjcnlwdG9fY29yZV9oc2Fsc2EyMChzLG4sayxzaWdtYSk7dmFyIHNuPW5ldyBVaW50OEFycmF5KDgpO2Zvcih2YXIgaT0wO2k8ODtpKyspc25baV09bltpKzE2XTtyZXR1cm4gY3J5cHRvX3N0cmVhbV9zYWxzYTIwKGMsY3BvcyxkLHNuLHMpfWZ1bmN0aW9uIGNyeXB0b19zdHJlYW1feG9yKGMsY3BvcyxtLG1wb3MsZCxuLGspe3ZhciBzPW5ldyBVaW50OEFycmF5KDMyKTtjcnlwdG9fY29yZV9oc2Fsc2EyMChzLG4sayxzaWdtYSk7dmFyIHNuPW5ldyBVaW50OEFycmF5KDgpO2Zvcih2YXIgaT0wO2k8ODtpKyspc25baV09bltpKzE2XTtyZXR1cm4gY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvcihjLGNwb3MsbSxtcG9zLGQsc24scyl9dmFyIHBvbHkxMzA1PWZ1bmN0aW9uKGtleSl7dGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoMTYpO3RoaXMucj1uZXcgVWludDE2QXJyYXkoMTApO3RoaXMuaD1uZXcgVWludDE2QXJyYXkoMTApO3RoaXMucGFkPW5ldyBVaW50MTZBcnJheSg4KTt0aGlzLmxlZnRvdmVyPTA7dGhpcy5maW49MDt2YXIgdDAsdDEsdDIsdDMsdDQsdDUsdDYsdDc7dDA9a2V5WzBdJjI1NXwoa2V5WzFdJjI1NSk8PDg7dGhpcy5yWzBdPXQwJjgxOTE7dDE9a2V5WzJdJjI1NXwoa2V5WzNdJjI1NSk8PDg7dGhpcy5yWzFdPSh0MD4+PjEzfHQxPDwzKSY4MTkxO3QyPWtleVs0XSYyNTV8KGtleVs1XSYyNTUpPDw4O3RoaXMuclsyXT0odDE+Pj4xMHx0Mjw8NikmNzkzOTt0Mz1rZXlbNl0mMjU1fChrZXlbN10mMjU1KTw8ODt0aGlzLnJbM109KHQyPj4+N3x0Mzw8OSkmODE5MTt0ND1rZXlbOF0mMjU1fChrZXlbOV0mMjU1KTw8ODt0aGlzLnJbNF09KHQzPj4+NHx0NDw8MTIpJjI1NTt0aGlzLnJbNV09dDQ+Pj4xJjgxOTA7dDU9a2V5WzEwXSYyNTV8KGtleVsxMV0mMjU1KTw8ODt0aGlzLnJbNl09KHQ0Pj4+MTR8dDU8PDIpJjgxOTE7dDY9a2V5WzEyXSYyNTV8KGtleVsxM10mMjU1KTw8ODt0aGlzLnJbN109KHQ1Pj4+MTF8dDY8PDUpJjgwNjU7dDc9a2V5WzE0XSYyNTV8KGtleVsxNV0mMjU1KTw8ODt0aGlzLnJbOF09KHQ2Pj4+OHx0Nzw8OCkmODE5MTt0aGlzLnJbOV09dDc+Pj41JjEyNzt0aGlzLnBhZFswXT1rZXlbMTZdJjI1NXwoa2V5WzE3XSYyNTUpPDw4O3RoaXMucGFkWzFdPWtleVsxOF0mMjU1fChrZXlbMTldJjI1NSk8PDg7dGhpcy5wYWRbMl09a2V5WzIwXSYyNTV8KGtleVsyMV0mMjU1KTw8ODt0aGlzLnBhZFszXT1rZXlbMjJdJjI1NXwoa2V5WzIzXSYyNTUpPDw4O3RoaXMucGFkWzRdPWtleVsyNF0mMjU1fChrZXlbMjVdJjI1NSk8PDg7dGhpcy5wYWRbNV09a2V5WzI2XSYyNTV8KGtleVsyN10mMjU1KTw8ODt0aGlzLnBhZFs2XT1rZXlbMjhdJjI1NXwoa2V5WzI5XSYyNTUpPDw4O3RoaXMucGFkWzddPWtleVszMF0mMjU1fChrZXlbMzFdJjI1NSk8PDh9O3BvbHkxMzA1LnByb3RvdHlwZS5ibG9ja3M9ZnVuY3Rpb24obSxtcG9zLGJ5dGVzKXt2YXIgaGliaXQ9dGhpcy5maW4/MDoxPDwxMTt2YXIgdDAsdDEsdDIsdDMsdDQsdDUsdDYsdDcsYzt2YXIgZDAsZDEsZDIsZDMsZDQsZDUsZDYsZDcsZDgsZDk7dmFyIGgwPXRoaXMuaFswXSxoMT10aGlzLmhbMV0saDI9dGhpcy5oWzJdLGgzPXRoaXMuaFszXSxoND10aGlzLmhbNF0saDU9dGhpcy5oWzVdLGg2PXRoaXMuaFs2XSxoNz10aGlzLmhbN10saDg9dGhpcy5oWzhdLGg5PXRoaXMuaFs5XTt2YXIgcjA9dGhpcy5yWzBdLHIxPXRoaXMuclsxXSxyMj10aGlzLnJbMl0scjM9dGhpcy5yWzNdLHI0PXRoaXMucls0XSxyNT10aGlzLnJbNV0scjY9dGhpcy5yWzZdLHI3PXRoaXMucls3XSxyOD10aGlzLnJbOF0scjk9dGhpcy5yWzldO3doaWxlKGJ5dGVzPj0xNil7dDA9bVttcG9zKzBdJjI1NXwobVttcG9zKzFdJjI1NSk8PDg7aDArPXQwJjgxOTE7dDE9bVttcG9zKzJdJjI1NXwobVttcG9zKzNdJjI1NSk8PDg7aDErPSh0MD4+PjEzfHQxPDwzKSY4MTkxO3QyPW1bbXBvcys0XSYyNTV8KG1bbXBvcys1XSYyNTUpPDw4O2gyKz0odDE+Pj4xMHx0Mjw8NikmODE5MTt0Mz1tW21wb3MrNl0mMjU1fChtW21wb3MrN10mMjU1KTw8ODtoMys9KHQyPj4+N3x0Mzw8OSkmODE5MTt0ND1tW21wb3MrOF0mMjU1fChtW21wb3MrOV0mMjU1KTw8ODtoNCs9KHQzPj4+NHx0NDw8MTIpJjgxOTE7aDUrPXQ0Pj4+MSY4MTkxO3Q1PW1bbXBvcysxMF0mMjU1fChtW21wb3MrMTFdJjI1NSk8PDg7aDYrPSh0ND4+PjE0fHQ1PDwyKSY4MTkxO3Q2PW1bbXBvcysxMl0mMjU1fChtW21wb3MrMTNdJjI1NSk8PDg7aDcrPSh0NT4+PjExfHQ2PDw1KSY4MTkxO3Q3PW1bbXBvcysxNF0mMjU1fChtW21wb3MrMTVdJjI1NSk8PDg7aDgrPSh0Nj4+Pjh8dDc8PDgpJjgxOTE7aDkrPXQ3Pj4+NXxoaWJpdDtjPTA7ZDA9YztkMCs9aDAqcjA7ZDArPWgxKig1KnI5KTtkMCs9aDIqKDUqcjgpO2QwKz1oMyooNSpyNyk7ZDArPWg0Kig1KnI2KTtjPWQwPj4+MTM7ZDAmPTgxOTE7ZDArPWg1Kig1KnI1KTtkMCs9aDYqKDUqcjQpO2QwKz1oNyooNSpyMyk7ZDArPWg4Kig1KnIyKTtkMCs9aDkqKDUqcjEpO2MrPWQwPj4+MTM7ZDAmPTgxOTE7ZDE9YztkMSs9aDAqcjE7ZDErPWgxKnIwO2QxKz1oMiooNSpyOSk7ZDErPWgzKig1KnI4KTtkMSs9aDQqKDUqcjcpO2M9ZDE+Pj4xMztkMSY9ODE5MTtkMSs9aDUqKDUqcjYpO2QxKz1oNiooNSpyNSk7ZDErPWg3Kig1KnI0KTtkMSs9aDgqKDUqcjMpO2QxKz1oOSooNSpyMik7Yys9ZDE+Pj4xMztkMSY9ODE5MTtkMj1jO2QyKz1oMCpyMjtkMis9aDEqcjE7ZDIrPWgyKnIwO2QyKz1oMyooNSpyOSk7ZDIrPWg0Kig1KnI4KTtjPWQyPj4+MTM7ZDImPTgxOTE7ZDIrPWg1Kig1KnI3KTtkMis9aDYqKDUqcjYpO2QyKz1oNyooNSpyNSk7ZDIrPWg4Kig1KnI0KTtkMis9aDkqKDUqcjMpO2MrPWQyPj4+MTM7ZDImPTgxOTE7ZDM9YztkMys9aDAqcjM7ZDMrPWgxKnIyO2QzKz1oMipyMTtkMys9aDMqcjA7ZDMrPWg0Kig1KnI5KTtjPWQzPj4+MTM7ZDMmPTgxOTE7ZDMrPWg1Kig1KnI4KTtkMys9aDYqKDUqcjcpO2QzKz1oNyooNSpyNik7ZDMrPWg4Kig1KnI1KTtkMys9aDkqKDUqcjQpO2MrPWQzPj4+MTM7ZDMmPTgxOTE7ZDQ9YztkNCs9aDAqcjQ7ZDQrPWgxKnIzO2Q0Kz1oMipyMjtkNCs9aDMqcjE7ZDQrPWg0KnIwO2M9ZDQ+Pj4xMztkNCY9ODE5MTtkNCs9aDUqKDUqcjkpO2Q0Kz1oNiooNSpyOCk7ZDQrPWg3Kig1KnI3KTtkNCs9aDgqKDUqcjYpO2Q0Kz1oOSooNSpyNSk7Yys9ZDQ+Pj4xMztkNCY9ODE5MTtkNT1jO2Q1Kz1oMCpyNTtkNSs9aDEqcjQ7ZDUrPWgyKnIzO2Q1Kz1oMypyMjtkNSs9aDQqcjE7Yz1kNT4+PjEzO2Q1Jj04MTkxO2Q1Kz1oNSpyMDtkNSs9aDYqKDUqcjkpO2Q1Kz1oNyooNSpyOCk7ZDUrPWg4Kig1KnI3KTtkNSs9aDkqKDUqcjYpO2MrPWQ1Pj4+MTM7ZDUmPTgxOTE7ZDY9YztkNis9aDAqcjY7ZDYrPWgxKnI1O2Q2Kz1oMipyNDtkNis9aDMqcjM7ZDYrPWg0KnIyO2M9ZDY+Pj4xMztkNiY9ODE5MTtkNis9aDUqcjE7ZDYrPWg2KnIwO2Q2Kz1oNyooNSpyOSk7ZDYrPWg4Kig1KnI4KTtkNis9aDkqKDUqcjcpO2MrPWQ2Pj4+MTM7ZDYmPTgxOTE7ZDc9YztkNys9aDAqcjc7ZDcrPWgxKnI2O2Q3Kz1oMipyNTtkNys9aDMqcjQ7ZDcrPWg0KnIzO2M9ZDc+Pj4xMztkNyY9ODE5MTtkNys9aDUqcjI7ZDcrPWg2KnIxO2Q3Kz1oNypyMDtkNys9aDgqKDUqcjkpO2Q3Kz1oOSooNSpyOCk7Yys9ZDc+Pj4xMztkNyY9ODE5MTtkOD1jO2Q4Kz1oMCpyODtkOCs9aDEqcjc7ZDgrPWgyKnI2O2Q4Kz1oMypyNTtkOCs9aDQqcjQ7Yz1kOD4+PjEzO2Q4Jj04MTkxO2Q4Kz1oNSpyMztkOCs9aDYqcjI7ZDgrPWg3KnIxO2Q4Kz1oOCpyMDtkOCs9aDkqKDUqcjkpO2MrPWQ4Pj4+MTM7ZDgmPTgxOTE7ZDk9YztkOSs9aDAqcjk7ZDkrPWgxKnI4O2Q5Kz1oMipyNztkOSs9aDMqcjY7ZDkrPWg0KnI1O2M9ZDk+Pj4xMztkOSY9ODE5MTtkOSs9aDUqcjQ7ZDkrPWg2KnIzO2Q5Kz1oNypyMjtkOSs9aDgqcjE7ZDkrPWg5KnIwO2MrPWQ5Pj4+MTM7ZDkmPTgxOTE7Yz0oYzw8MikrY3wwO2M9YytkMHwwO2QwPWMmODE5MTtjPWM+Pj4xMztkMSs9YztoMD1kMDtoMT1kMTtoMj1kMjtoMz1kMztoND1kNDtoNT1kNTtoNj1kNjtoNz1kNztoOD1kODtoOT1kOTttcG9zKz0xNjtieXRlcy09MTZ9dGhpcy5oWzBdPWgwO3RoaXMuaFsxXT1oMTt0aGlzLmhbMl09aDI7dGhpcy5oWzNdPWgzO3RoaXMuaFs0XT1oNDt0aGlzLmhbNV09aDU7dGhpcy5oWzZdPWg2O3RoaXMuaFs3XT1oNzt0aGlzLmhbOF09aDg7dGhpcy5oWzldPWg5fTtwb2x5MTMwNS5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKG1hYyxtYWNwb3Mpe3ZhciBnPW5ldyBVaW50MTZBcnJheSgxMCk7dmFyIGMsbWFzayxmLGk7aWYodGhpcy5sZWZ0b3Zlcil7aT10aGlzLmxlZnRvdmVyO3RoaXMuYnVmZmVyW2krK109MTtmb3IoO2k8MTY7aSsrKXRoaXMuYnVmZmVyW2ldPTA7dGhpcy5maW49MTt0aGlzLmJsb2Nrcyh0aGlzLmJ1ZmZlciwwLDE2KX1jPXRoaXMuaFsxXT4+PjEzO3RoaXMuaFsxXSY9ODE5MTtmb3IoaT0yO2k8MTA7aSsrKXt0aGlzLmhbaV0rPWM7Yz10aGlzLmhbaV0+Pj4xMzt0aGlzLmhbaV0mPTgxOTF9dGhpcy5oWzBdKz1jKjU7Yz10aGlzLmhbMF0+Pj4xMzt0aGlzLmhbMF0mPTgxOTE7dGhpcy5oWzFdKz1jO2M9dGhpcy5oWzFdPj4+MTM7dGhpcy5oWzFdJj04MTkxO3RoaXMuaFsyXSs9YztnWzBdPXRoaXMuaFswXSs1O2M9Z1swXT4+PjEzO2dbMF0mPTgxOTE7Zm9yKGk9MTtpPDEwO2krKyl7Z1tpXT10aGlzLmhbaV0rYztjPWdbaV0+Pj4xMztnW2ldJj04MTkxfWdbOV0tPTE8PDEzO21hc2s9KGNeMSktMTtmb3IoaT0wO2k8MTA7aSsrKWdbaV0mPW1hc2s7bWFzaz1+bWFzaztmb3IoaT0wO2k8MTA7aSsrKXRoaXMuaFtpXT10aGlzLmhbaV0mbWFza3xnW2ldO3RoaXMuaFswXT0odGhpcy5oWzBdfHRoaXMuaFsxXTw8MTMpJjY1NTM1O3RoaXMuaFsxXT0odGhpcy5oWzFdPj4+M3x0aGlzLmhbMl08PDEwKSY2NTUzNTt0aGlzLmhbMl09KHRoaXMuaFsyXT4+PjZ8dGhpcy5oWzNdPDw3KSY2NTUzNTt0aGlzLmhbM109KHRoaXMuaFszXT4+Pjl8dGhpcy5oWzRdPDw0KSY2NTUzNTt0aGlzLmhbNF09KHRoaXMuaFs0XT4+PjEyfHRoaXMuaFs1XTw8MXx0aGlzLmhbNl08PDE0KSY2NTUzNTt0aGlzLmhbNV09KHRoaXMuaFs2XT4+PjJ8dGhpcy5oWzddPDwxMSkmNjU1MzU7dGhpcy5oWzZdPSh0aGlzLmhbN10+Pj41fHRoaXMuaFs4XTw8OCkmNjU1MzU7dGhpcy5oWzddPSh0aGlzLmhbOF0+Pj44fHRoaXMuaFs5XTw8NSkmNjU1MzU7Zj10aGlzLmhbMF0rdGhpcy5wYWRbMF07dGhpcy5oWzBdPWYmNjU1MzU7Zm9yKGk9MTtpPDg7aSsrKXtmPSh0aGlzLmhbaV0rdGhpcy5wYWRbaV18MCkrKGY+Pj4xNil8MDt0aGlzLmhbaV09ZiY2NTUzNX1tYWNbbWFjcG9zKzBdPXRoaXMuaFswXT4+PjAmMjU1O21hY1ttYWNwb3MrMV09dGhpcy5oWzBdPj4+OCYyNTU7bWFjW21hY3BvcysyXT10aGlzLmhbMV0+Pj4wJjI1NTttYWNbbWFjcG9zKzNdPXRoaXMuaFsxXT4+PjgmMjU1O21hY1ttYWNwb3MrNF09dGhpcy5oWzJdPj4+MCYyNTU7bWFjW21hY3Bvcys1XT10aGlzLmhbMl0+Pj44JjI1NTttYWNbbWFjcG9zKzZdPXRoaXMuaFszXT4+PjAmMjU1O21hY1ttYWNwb3MrN109dGhpcy5oWzNdPj4+OCYyNTU7bWFjW21hY3Bvcys4XT10aGlzLmhbNF0+Pj4wJjI1NTttYWNbbWFjcG9zKzldPXRoaXMuaFs0XT4+PjgmMjU1O21hY1ttYWNwb3MrMTBdPXRoaXMuaFs1XT4+PjAmMjU1O21hY1ttYWNwb3MrMTFdPXRoaXMuaFs1XT4+PjgmMjU1O21hY1ttYWNwb3MrMTJdPXRoaXMuaFs2XT4+PjAmMjU1O21hY1ttYWNwb3MrMTNdPXRoaXMuaFs2XT4+PjgmMjU1O21hY1ttYWNwb3MrMTRdPXRoaXMuaFs3XT4+PjAmMjU1O21hY1ttYWNwb3MrMTVdPXRoaXMuaFs3XT4+PjgmMjU1fTtwb2x5MTMwNS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKG0sbXBvcyxieXRlcyl7dmFyIGksd2FudDtpZih0aGlzLmxlZnRvdmVyKXt3YW50PTE2LXRoaXMubGVmdG92ZXI7aWYod2FudD5ieXRlcyl3YW50PWJ5dGVzO2ZvcihpPTA7aTx3YW50O2krKyl0aGlzLmJ1ZmZlclt0aGlzLmxlZnRvdmVyK2ldPW1bbXBvcytpXTtieXRlcy09d2FudDttcG9zKz13YW50O3RoaXMubGVmdG92ZXIrPXdhbnQ7aWYodGhpcy5sZWZ0b3ZlcjwxNilyZXR1cm47dGhpcy5ibG9ja3ModGhpcy5idWZmZXIsMCwxNik7dGhpcy5sZWZ0b3Zlcj0wfWlmKGJ5dGVzPj0xNil7d2FudD1ieXRlcy1ieXRlcyUxNjt0aGlzLmJsb2NrcyhtLG1wb3Msd2FudCk7bXBvcys9d2FudDtieXRlcy09d2FudH1pZihieXRlcyl7Zm9yKGk9MDtpPGJ5dGVzO2krKyl0aGlzLmJ1ZmZlclt0aGlzLmxlZnRvdmVyK2ldPW1bbXBvcytpXTt0aGlzLmxlZnRvdmVyKz1ieXRlc319O2Z1bmN0aW9uIGNyeXB0b19vbmV0aW1lYXV0aChvdXQsb3V0cG9zLG0sbXBvcyxuLGspe3ZhciBzPW5ldyBwb2x5MTMwNShrKTtzLnVwZGF0ZShtLG1wb3Msbik7cy5maW5pc2gob3V0LG91dHBvcyk7cmV0dXJuIDB9ZnVuY3Rpb24gY3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeShoLGhwb3MsbSxtcG9zLG4sayl7dmFyIHg9bmV3IFVpbnQ4QXJyYXkoMTYpO2NyeXB0b19vbmV0aW1lYXV0aCh4LDAsbSxtcG9zLG4sayk7cmV0dXJuIGNyeXB0b192ZXJpZnlfMTYoaCxocG9zLHgsMCl9ZnVuY3Rpb24gY3J5cHRvX3NlY3JldGJveChjLG0sZCxuLGspe3ZhciBpO2lmKGQ8MzIpcmV0dXJuLTE7Y3J5cHRvX3N0cmVhbV94b3IoYywwLG0sMCxkLG4sayk7Y3J5cHRvX29uZXRpbWVhdXRoKGMsMTYsYywzMixkLTMyLGMpO2ZvcihpPTA7aTwxNjtpKyspY1tpXT0wO3JldHVybiAwfWZ1bmN0aW9uIGNyeXB0b19zZWNyZXRib3hfb3BlbihtLGMsZCxuLGspe3ZhciBpO3ZhciB4PW5ldyBVaW50OEFycmF5KDMyKTtpZihkPDMyKXJldHVybi0xO2NyeXB0b19zdHJlYW0oeCwwLDMyLG4sayk7aWYoY3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeShjLDE2LGMsMzIsZC0zMix4KSE9PTApcmV0dXJuLTE7Y3J5cHRvX3N0cmVhbV94b3IobSwwLGMsMCxkLG4sayk7Zm9yKGk9MDtpPDMyO2krKyltW2ldPTA7cmV0dXJuIDB9ZnVuY3Rpb24gc2V0MjU1MTkocixhKXt2YXIgaTtmb3IoaT0wO2k8MTY7aSsrKXJbaV09YVtpXXwwfWZ1bmN0aW9uIGNhcjI1NTE5KG8pe3ZhciBpLHYsYz0xO2ZvcihpPTA7aTwxNjtpKyspe3Y9b1tpXStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTtvW2ldPXYtYyo2NTUzNn1vWzBdKz1jLTErMzcqKGMtMSl9ZnVuY3Rpb24gc2VsMjU1MTkocCxxLGIpe3ZhciB0LGM9fihiLTEpO2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt0PWMmKHBbaV1ecVtpXSk7cFtpXV49dDtxW2ldXj10fX1mdW5jdGlvbiBwYWNrMjU1MTkobyxuKXt2YXIgaSxqLGI7dmFyIG09Z2YoKSx0PWdmKCk7Zm9yKGk9MDtpPDE2O2krKyl0W2ldPW5baV07Y2FyMjU1MTkodCk7Y2FyMjU1MTkodCk7Y2FyMjU1MTkodCk7Zm9yKGo9MDtqPDI7aisrKXttWzBdPXRbMF0tNjU1MTc7Zm9yKGk9MTtpPDE1O2krKyl7bVtpXT10W2ldLTY1NTM1LShtW2ktMV0+PjE2JjEpO21baS0xXSY9NjU1MzV9bVsxNV09dFsxNV0tMzI3NjctKG1bMTRdPj4xNiYxKTtiPW1bMTVdPj4xNiYxO21bMTRdJj02NTUzNTtzZWwyNTUxOSh0LG0sMS1iKX1mb3IoaT0wO2k8MTY7aSsrKXtvWzIqaV09dFtpXSYyNTU7b1syKmkrMV09dFtpXT4+OH19ZnVuY3Rpb24gbmVxMjU1MTkoYSxiKXt2YXIgYz1uZXcgVWludDhBcnJheSgzMiksZD1uZXcgVWludDhBcnJheSgzMik7cGFjazI1NTE5KGMsYSk7cGFjazI1NTE5KGQsYik7cmV0dXJuIGNyeXB0b192ZXJpZnlfMzIoYywwLGQsMCl9ZnVuY3Rpb24gcGFyMjU1MTkoYSl7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoMzIpO3BhY2syNTUxOShkLGEpO3JldHVybiBkWzBdJjF9ZnVuY3Rpb24gdW5wYWNrMjU1MTkobyxuKXt2YXIgaTtmb3IoaT0wO2k8MTY7aSsrKW9baV09blsyKmldKyhuWzIqaSsxXTw8OCk7b1sxNV0mPTMyNzY3fWZ1bmN0aW9uIEEobyxhLGIpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKW9baV09YVtpXStiW2ldfWZ1bmN0aW9uIFoobyxhLGIpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKW9baV09YVtpXS1iW2ldfWZ1bmN0aW9uIE0obyxhLGIpe3ZhciB2LGMsdDA9MCx0MT0wLHQyPTAsdDM9MCx0ND0wLHQ1PTAsdDY9MCx0Nz0wLHQ4PTAsdDk9MCx0MTA9MCx0MTE9MCx0MTI9MCx0MTM9MCx0MTQ9MCx0MTU9MCx0MTY9MCx0MTc9MCx0MTg9MCx0MTk9MCx0MjA9MCx0MjE9MCx0MjI9MCx0MjM9MCx0MjQ9MCx0MjU9MCx0MjY9MCx0Mjc9MCx0Mjg9MCx0Mjk9MCx0MzA9MCxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdLGI0PWJbNF0sYjU9Yls1XSxiNj1iWzZdLGI3PWJbN10sYjg9Yls4XSxiOT1iWzldLGIxMD1iWzEwXSxiMTE9YlsxMV0sYjEyPWJbMTJdLGIxMz1iWzEzXSxiMTQ9YlsxNF0sYjE1PWJbMTVdO3Y9YVswXTt0MCs9dipiMDt0MSs9dipiMTt0Mis9dipiMjt0Mys9dipiMzt0NCs9dipiNDt0NSs9dipiNTt0Nis9dipiNjt0Nys9dipiNzt0OCs9dipiODt0OSs9dipiOTt0MTArPXYqYjEwO3QxMSs9dipiMTE7dDEyKz12KmIxMjt0MTMrPXYqYjEzO3QxNCs9dipiMTQKO3QxNSs9dipiMTU7dj1hWzFdO3QxKz12KmIwO3QyKz12KmIxO3QzKz12KmIyO3Q0Kz12KmIzO3Q1Kz12KmI0O3Q2Kz12KmI1O3Q3Kz12KmI2O3Q4Kz12KmI3O3Q5Kz12KmI4O3QxMCs9dipiOTt0MTErPXYqYjEwO3QxMis9dipiMTE7dDEzKz12KmIxMjt0MTQrPXYqYjEzO3QxNSs9dipiMTQ7dDE2Kz12KmIxNTt2PWFbMl07dDIrPXYqYjA7dDMrPXYqYjE7dDQrPXYqYjI7dDUrPXYqYjM7dDYrPXYqYjQ7dDcrPXYqYjU7dDgrPXYqYjY7dDkrPXYqYjc7dDEwKz12KmI4O3QxMSs9dipiOTt0MTIrPXYqYjEwO3QxMys9dipiMTE7dDE0Kz12KmIxMjt0MTUrPXYqYjEzO3QxNis9dipiMTQ7dDE3Kz12KmIxNTt2PWFbM107dDMrPXYqYjA7dDQrPXYqYjE7dDUrPXYqYjI7dDYrPXYqYjM7dDcrPXYqYjQ7dDgrPXYqYjU7dDkrPXYqYjY7dDEwKz12KmI3O3QxMSs9dipiODt0MTIrPXYqYjk7dDEzKz12KmIxMDt0MTQrPXYqYjExO3QxNSs9dipiMTI7dDE2Kz12KmIxMzt0MTcrPXYqYjE0O3QxOCs9dipiMTU7dj1hWzRdO3Q0Kz12KmIwO3Q1Kz12KmIxO3Q2Kz12KmIyO3Q3Kz12KmIzO3Q4Kz12KmI0O3Q5Kz12KmI1O3QxMCs9dipiNjt0MTErPXYqYjc7dDEyKz12KmI4O3QxMys9dipiOTt0MTQrPXYqYjEwO3QxNSs9dipiMTE7dDE2Kz12KmIxMjt0MTcrPXYqYjEzO3QxOCs9dipiMTQ7dDE5Kz12KmIxNTt2PWFbNV07dDUrPXYqYjA7dDYrPXYqYjE7dDcrPXYqYjI7dDgrPXYqYjM7dDkrPXYqYjQ7dDEwKz12KmI1O3QxMSs9dipiNjt0MTIrPXYqYjc7dDEzKz12KmI4O3QxNCs9dipiOTt0MTUrPXYqYjEwO3QxNis9dipiMTE7dDE3Kz12KmIxMjt0MTgrPXYqYjEzO3QxOSs9dipiMTQ7dDIwKz12KmIxNTt2PWFbNl07dDYrPXYqYjA7dDcrPXYqYjE7dDgrPXYqYjI7dDkrPXYqYjM7dDEwKz12KmI0O3QxMSs9dipiNTt0MTIrPXYqYjY7dDEzKz12KmI3O3QxNCs9dipiODt0MTUrPXYqYjk7dDE2Kz12KmIxMDt0MTcrPXYqYjExO3QxOCs9dipiMTI7dDE5Kz12KmIxMzt0MjArPXYqYjE0O3QyMSs9dipiMTU7dj1hWzddO3Q3Kz12KmIwO3Q4Kz12KmIxO3Q5Kz12KmIyO3QxMCs9dipiMzt0MTErPXYqYjQ7dDEyKz12KmI1O3QxMys9dipiNjt0MTQrPXYqYjc7dDE1Kz12KmI4O3QxNis9dipiOTt0MTcrPXYqYjEwO3QxOCs9dipiMTE7dDE5Kz12KmIxMjt0MjArPXYqYjEzO3QyMSs9dipiMTQ7dDIyKz12KmIxNTt2PWFbOF07dDgrPXYqYjA7dDkrPXYqYjE7dDEwKz12KmIyO3QxMSs9dipiMzt0MTIrPXYqYjQ7dDEzKz12KmI1O3QxNCs9dipiNjt0MTUrPXYqYjc7dDE2Kz12KmI4O3QxNys9dipiOTt0MTgrPXYqYjEwO3QxOSs9dipiMTE7dDIwKz12KmIxMjt0MjErPXYqYjEzO3QyMis9dipiMTQ7dDIzKz12KmIxNTt2PWFbOV07dDkrPXYqYjA7dDEwKz12KmIxO3QxMSs9dipiMjt0MTIrPXYqYjM7dDEzKz12KmI0O3QxNCs9dipiNTt0MTUrPXYqYjY7dDE2Kz12KmI3O3QxNys9dipiODt0MTgrPXYqYjk7dDE5Kz12KmIxMDt0MjArPXYqYjExO3QyMSs9dipiMTI7dDIyKz12KmIxMzt0MjMrPXYqYjE0O3QyNCs9dipiMTU7dj1hWzEwXTt0MTArPXYqYjA7dDExKz12KmIxO3QxMis9dipiMjt0MTMrPXYqYjM7dDE0Kz12KmI0O3QxNSs9dipiNTt0MTYrPXYqYjY7dDE3Kz12KmI3O3QxOCs9dipiODt0MTkrPXYqYjk7dDIwKz12KmIxMDt0MjErPXYqYjExO3QyMis9dipiMTI7dDIzKz12KmIxMzt0MjQrPXYqYjE0O3QyNSs9dipiMTU7dj1hWzExXTt0MTErPXYqYjA7dDEyKz12KmIxO3QxMys9dipiMjt0MTQrPXYqYjM7dDE1Kz12KmI0O3QxNis9dipiNTt0MTcrPXYqYjY7dDE4Kz12KmI3O3QxOSs9dipiODt0MjArPXYqYjk7dDIxKz12KmIxMDt0MjIrPXYqYjExO3QyMys9dipiMTI7dDI0Kz12KmIxMzt0MjUrPXYqYjE0O3QyNis9dipiMTU7dj1hWzEyXTt0MTIrPXYqYjA7dDEzKz12KmIxO3QxNCs9dipiMjt0MTUrPXYqYjM7dDE2Kz12KmI0O3QxNys9dipiNTt0MTgrPXYqYjY7dDE5Kz12KmI3O3QyMCs9dipiODt0MjErPXYqYjk7dDIyKz12KmIxMDt0MjMrPXYqYjExO3QyNCs9dipiMTI7dDI1Kz12KmIxMzt0MjYrPXYqYjE0O3QyNys9dipiMTU7dj1hWzEzXTt0MTMrPXYqYjA7dDE0Kz12KmIxO3QxNSs9dipiMjt0MTYrPXYqYjM7dDE3Kz12KmI0O3QxOCs9dipiNTt0MTkrPXYqYjY7dDIwKz12KmI3O3QyMSs9dipiODt0MjIrPXYqYjk7dDIzKz12KmIxMDt0MjQrPXYqYjExO3QyNSs9dipiMTI7dDI2Kz12KmIxMzt0MjcrPXYqYjE0O3QyOCs9dipiMTU7dj1hWzE0XTt0MTQrPXYqYjA7dDE1Kz12KmIxO3QxNis9dipiMjt0MTcrPXYqYjM7dDE4Kz12KmI0O3QxOSs9dipiNTt0MjArPXYqYjY7dDIxKz12KmI3O3QyMis9dipiODt0MjMrPXYqYjk7dDI0Kz12KmIxMDt0MjUrPXYqYjExO3QyNis9dipiMTI7dDI3Kz12KmIxMzt0MjgrPXYqYjE0O3QyOSs9dipiMTU7dj1hWzE1XTt0MTUrPXYqYjA7dDE2Kz12KmIxO3QxNys9dipiMjt0MTgrPXYqYjM7dDE5Kz12KmI0O3QyMCs9dipiNTt0MjErPXYqYjY7dDIyKz12KmI3O3QyMys9dipiODt0MjQrPXYqYjk7dDI1Kz12KmIxMDt0MjYrPXYqYjExO3QyNys9dipiMTI7dDI4Kz12KmIxMzt0MjkrPXYqYjE0O3QzMCs9dipiMTU7dDArPTM4KnQxNjt0MSs9MzgqdDE3O3QyKz0zOCp0MTg7dDMrPTM4KnQxOTt0NCs9MzgqdDIwO3Q1Kz0zOCp0MjE7dDYrPTM4KnQyMjt0Nys9MzgqdDIzO3Q4Kz0zOCp0MjQ7dDkrPTM4KnQyNTt0MTArPTM4KnQyNjt0MTErPTM4KnQyNzt0MTIrPTM4KnQyODt0MTMrPTM4KnQyOTt0MTQrPTM4KnQzMDtjPTE7dj10MCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MD12LWMqNjU1MzY7dj10MStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MT12LWMqNjU1MzY7dj10MitjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Mj12LWMqNjU1MzY7dj10MytjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Mz12LWMqNjU1MzY7dj10NCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0ND12LWMqNjU1MzY7dj10NStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0NT12LWMqNjU1MzY7dj10NitjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Nj12LWMqNjU1MzY7dj10NytjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Nz12LWMqNjU1MzY7dj10OCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0OD12LWMqNjU1MzY7dj10OStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0OT12LWMqNjU1MzY7dj10MTArYys2NTUzNTtjPU1hdGguZmxvb3Iodi82NTUzNik7dDEwPXYtYyo2NTUzNjt2PXQxMStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MTE9di1jKjY1NTM2O3Y9dDEyK2MrNjU1MzU7Yz1NYXRoLmZsb29yKHYvNjU1MzYpO3QxMj12LWMqNjU1MzY7dj10MTMrYys2NTUzNTtjPU1hdGguZmxvb3Iodi82NTUzNik7dDEzPXYtYyo2NTUzNjt2PXQxNCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MTQ9di1jKjY1NTM2O3Y9dDE1K2MrNjU1MzU7Yz1NYXRoLmZsb29yKHYvNjU1MzYpO3QxNT12LWMqNjU1MzY7dDArPWMtMSszNyooYy0xKTtjPTE7dj10MCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MD12LWMqNjU1MzY7dj10MStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MT12LWMqNjU1MzY7dj10MitjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Mj12LWMqNjU1MzY7dj10MytjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Mz12LWMqNjU1MzY7dj10NCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0ND12LWMqNjU1MzY7dj10NStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0NT12LWMqNjU1MzY7dj10NitjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Nj12LWMqNjU1MzY7dj10NytjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0Nz12LWMqNjU1MzY7dj10OCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0OD12LWMqNjU1MzY7dj10OStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0OT12LWMqNjU1MzY7dj10MTArYys2NTUzNTtjPU1hdGguZmxvb3Iodi82NTUzNik7dDEwPXYtYyo2NTUzNjt2PXQxMStjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MTE9di1jKjY1NTM2O3Y9dDEyK2MrNjU1MzU7Yz1NYXRoLmZsb29yKHYvNjU1MzYpO3QxMj12LWMqNjU1MzY7dj10MTMrYys2NTUzNTtjPU1hdGguZmxvb3Iodi82NTUzNik7dDEzPXYtYyo2NTUzNjt2PXQxNCtjKzY1NTM1O2M9TWF0aC5mbG9vcih2LzY1NTM2KTt0MTQ9di1jKjY1NTM2O3Y9dDE1K2MrNjU1MzU7Yz1NYXRoLmZsb29yKHYvNjU1MzYpO3QxNT12LWMqNjU1MzY7dDArPWMtMSszNyooYy0xKTtvWzBdPXQwO29bMV09dDE7b1syXT10MjtvWzNdPXQzO29bNF09dDQ7b1s1XT10NTtvWzZdPXQ2O29bN109dDc7b1s4XT10ODtvWzldPXQ5O29bMTBdPXQxMDtvWzExXT10MTE7b1sxMl09dDEyO29bMTNdPXQxMztvWzE0XT10MTQ7b1sxNV09dDE1fWZ1bmN0aW9uIFMobyxhKXtNKG8sYSxhKX1mdW5jdGlvbiBpbnYyNTUxOShvLGkpe3ZhciBjPWdmKCk7dmFyIGE7Zm9yKGE9MDthPDE2O2ErKyljW2FdPWlbYV07Zm9yKGE9MjUzO2E+PTA7YS0tKXtTKGMsYyk7aWYoYSE9PTImJmEhPT00KU0oYyxjLGkpfWZvcihhPTA7YTwxNjthKyspb1thXT1jW2FdfWZ1bmN0aW9uIHBvdzI1MjMobyxpKXt2YXIgYz1nZigpO3ZhciBhO2ZvcihhPTA7YTwxNjthKyspY1thXT1pW2FdO2ZvcihhPTI1MDthPj0wO2EtLSl7UyhjLGMpO2lmKGEhPT0xKU0oYyxjLGkpfWZvcihhPTA7YTwxNjthKyspb1thXT1jW2FdfWZ1bmN0aW9uIGNyeXB0b19zY2FsYXJtdWx0KHEsbixwKXt2YXIgej1uZXcgVWludDhBcnJheSgzMik7dmFyIHg9bmV3IEZsb2F0NjRBcnJheSg4MCkscixpO3ZhciBhPWdmKCksYj1nZigpLGM9Z2YoKSxkPWdmKCksZT1nZigpLGY9Z2YoKTtmb3IoaT0wO2k8MzE7aSsrKXpbaV09bltpXTt6WzMxXT1uWzMxXSYxMjd8NjQ7elswXSY9MjQ4O3VucGFjazI1NTE5KHgscCk7Zm9yKGk9MDtpPDE2O2krKyl7YltpXT14W2ldO2RbaV09YVtpXT1jW2ldPTB9YVswXT1kWzBdPTE7Zm9yKGk9MjU0O2k+PTA7LS1pKXtyPXpbaT4+PjNdPj4+KGkmNykmMTtzZWwyNTUxOShhLGIscik7c2VsMjU1MTkoYyxkLHIpO0EoZSxhLGMpO1ooYSxhLGMpO0EoYyxiLGQpO1ooYixiLGQpO1MoZCxlKTtTKGYsYSk7TShhLGMsYSk7TShjLGIsZSk7QShlLGEsYyk7WihhLGEsYyk7UyhiLGEpO1ooYyxkLGYpO00oYSxjLF8xMjE2NjUpO0EoYSxhLGQpO00oYyxjLGEpO00oYSxkLGYpO00oZCxiLHgpO1MoYixlKTtzZWwyNTUxOShhLGIscik7c2VsMjU1MTkoYyxkLHIpfWZvcihpPTA7aTwxNjtpKyspe3hbaSsxNl09YVtpXTt4W2krMzJdPWNbaV07eFtpKzQ4XT1iW2ldO3hbaSs2NF09ZFtpXX12YXIgeDMyPXguc3ViYXJyYXkoMzIpO3ZhciB4MTY9eC5zdWJhcnJheSgxNik7aW52MjU1MTkoeDMyLHgzMik7TSh4MTYseDE2LHgzMik7cGFjazI1NTE5KHEseDE2KTtyZXR1cm4gMH1mdW5jdGlvbiBjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHEsbil7cmV0dXJuIGNyeXB0b19zY2FsYXJtdWx0KHEsbixfOSl9ZnVuY3Rpb24gY3J5cHRvX2JveF9rZXlwYWlyKHkseCl7cmFuZG9tYnl0ZXMoeCwzMik7cmV0dXJuIGNyeXB0b19zY2FsYXJtdWx0X2Jhc2UoeSx4KX1mdW5jdGlvbiBjcnlwdG9fYm94X2JlZm9yZW5tKGsseSx4KXt2YXIgcz1uZXcgVWludDhBcnJheSgzMik7Y3J5cHRvX3NjYWxhcm11bHQocyx4LHkpO3JldHVybiBjcnlwdG9fY29yZV9oc2Fsc2EyMChrLF8wLHMsc2lnbWEpfXZhciBjcnlwdG9fYm94X2FmdGVybm09Y3J5cHRvX3NlY3JldGJveDt2YXIgY3J5cHRvX2JveF9vcGVuX2FmdGVybm09Y3J5cHRvX3NlY3JldGJveF9vcGVuO2Z1bmN0aW9uIGNyeXB0b19ib3goYyxtLGQsbix5LHgpe3ZhciBrPW5ldyBVaW50OEFycmF5KDMyKTtjcnlwdG9fYm94X2JlZm9yZW5tKGsseSx4KTtyZXR1cm4gY3J5cHRvX2JveF9hZnRlcm5tKGMsbSxkLG4sayl9ZnVuY3Rpb24gY3J5cHRvX2JveF9vcGVuKG0sYyxkLG4seSx4KXt2YXIgaz1uZXcgVWludDhBcnJheSgzMik7Y3J5cHRvX2JveF9iZWZvcmVubShrLHkseCk7cmV0dXJuIGNyeXB0b19ib3hfb3Blbl9hZnRlcm5tKG0sYyxkLG4sayl9dmFyIEs9WzExMTYzNTI0MDgsMzYwOTc2NzQ1OCwxODk5NDQ3NDQxLDYwMjg5MTcyNSwzMDQ5MzIzNDcxLDM5NjQ0ODQzOTksMzkyMTAwOTU3MywyMTczMjk1NTQ4LDk2MTk4NzE2Myw0MDgxNjI4NDcyLDE1MDg5NzA5OTMsMzA1MzgzNDI2NSwyNDUzNjM1NzQ4LDI5Mzc2NzE1NzksMjg3MDc2MzIyMSwzNjY0NjA5NTYwLDM2MjQzODEwODAsMjczNDg4MzM5NCwzMTA1OTg0MDEsMTE2NDk5NjU0Miw2MDcyMjUyNzgsMTMyMzYxMDc2NCwxNDI2ODgxOTg3LDM1OTAzMDQ5OTQsMTkyNTA3ODM4OCw0MDY4MTgyMzgzLDIxNjIwNzgyMDYsOTkxMzM2MTEzLDI2MTQ4ODgxMDMsNjMzODAzMzE3LDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCwzODM1MzkwNDAxLDI2NjY2MTM0NTgsNDAyMjIyNDc3NCw5NDQ3MTExMzksMjY0MzQ3MDc4LDIzNDEyNjI3NzMsNjA0ODA3NjI4LDIwMDc4MDA5MzMsNzcwMjU1OTgzLDE0OTU5OTA5MDEsMTI0OTE1MDEyMiwxODU2NDMxMjM1LDE1NTUwODE2OTIsMzE3NTIxODEzMiwxOTk2MDY0OTg2LDIxOTg5NTA4MzcsMjU1NDIyMDg4MiwzOTk5NzE5MzM5LDI4MjE4MzQzNDksNzY2Nzg0MDE2LDI5NTI5OTY4MDgsMjU2NjU5NDg3OSwzMjEwMzEzNjcxLDMyMDMzMzc5NTYsMzMzNjU3MTg5MSwxMDM0NDU3MDI2LDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSwxMTM5MjY5OTMsMzc1ODMyNjM4MywzMzgyNDE4OTUsMTY4NzE3OTM2LDY2NjMwNzIwNSwxMTg4MTc5OTY0LDc3MzUyOTkxMiwxNTQ2MDQ1NzM0LDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSwxMzk2MTgyMjkxLDI2NDM4MzM4MjMsMTY5NTE4MzcwMCwyMzQzNTI3MzkwLDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCwyMTc3MDI2MzUwLDEyMDY3NTkxNDIsMjQ1Njk1NjAzNywzNDQwNzc2MjcsMjczMDQ4NTkyMSwxMjkwODYzNDYwLDI4MjAzMDI0MTEsMzE1ODQ1NDI3MywzMjU5NzMwODAwLDM1MDU5NTI2NTcsMzM0NTc2NDc3MSwxMDYyMTcwMDgsMzUxNjA2NTgxNywzNjA2MDA4MzQ0LDM2MDAzNTI4MDQsMTQzMjcyNTc3Niw0MDk0NTcxOTA5LDE0NjcwMzE1OTQsMjc1NDIzMzQ0LDg1MTE2OTcyMCw0MzAyMjc3MzQsMzEwMDgyMzc1Miw1MDY5NDg2MTYsMTM2MzI1ODE5NSw2NTkwNjA1NTYsMzc1MDY4NTU5Myw4ODM5OTc4NzcsMzc4NTA1MDI4MCw5NTgxMzk1NzEsMzMxODMwNzQyNywxMzIyODIyMjE4LDM4MTI3MjM0MDMsMTUzNzAwMjA2MywyMDAzMDM0OTk1LDE3NDc4NzM3NzksMzYwMjAzNjg5OSwxOTU1NTYyMjIyLDE1NzU5OTAwMTIsMjAyNDEwNDgxNSwxMTI1NTkyOTI4LDIyMjc3MzA0NTIsMjcxNjkwNDMwNiwyMzYxODUyNDI0LDQ0Mjc3NjA0NCwyNDI4NDM2NDc0LDU5MzY5ODM0NCwyNzU2NzM0MTg3LDM3MzMxMTAyNDksMzIwNDAzMTQ3OSwyOTk5MzUxNTczLDMzMjkzMjUyOTgsMzgxNTkyMDQyNywzMzkxNTY5NjE0LDM5MjgzODM5MDAsMzUxNTI2NzI3MSw1NjYyODA3MTEsMzk0MDE4NzYwNiwzNDU0MDY5NTM0LDQxMTg2MzAyNzEsNDAwMDIzOTk5MiwxMTY0MTg0NzQsMTkxNDEzODU1NCwxNzQyOTI0MjEsMjczMTA1NTI3MCwyODkzODAzNTYsMzIwMzk5MzAwNiw0NjAzOTMyNjksMzIwNjIwMzE1LDY4NTQ3MTczMyw1ODc0OTY4MzYsODUyMTQyOTcxLDEwODY3OTI4NTEsMTAxNzAzNjI5OCwzNjU1NDMxMDAsMTEyNjAwMDU4MCwyNjE4Mjk3Njc2LDEyODgwMzM0NzAsMzQwOTg1NTE1OCwxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYsMTYwNzE2NzkxNSw5ODcxNjc0NjgsMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXTtmdW5jdGlvbiBjcnlwdG9faGFzaGJsb2Nrc19obChoaCxobCxtLG4pe3ZhciB3aD1uZXcgSW50MzJBcnJheSgxNiksd2w9bmV3IEludDMyQXJyYXkoMTYpLGJoMCxiaDEsYmgyLGJoMyxiaDQsYmg1LGJoNixiaDcsYmwwLGJsMSxibDIsYmwzLGJsNCxibDUsYmw2LGJsNyx0aCx0bCxpLGosaCxsLGEsYixjLGQ7dmFyIGFoMD1oaFswXSxhaDE9aGhbMV0sYWgyPWhoWzJdLGFoMz1oaFszXSxhaDQ9aGhbNF0sYWg1PWhoWzVdLGFoNj1oaFs2XSxhaDc9aGhbN10sYWwwPWhsWzBdLGFsMT1obFsxXSxhbDI9aGxbMl0sYWwzPWhsWzNdLGFsND1obFs0XSxhbDU9aGxbNV0sYWw2PWhsWzZdLGFsNz1obFs3XTt2YXIgcG9zPTA7d2hpbGUobj49MTI4KXtmb3IoaT0wO2k8MTY7aSsrKXtqPTgqaStwb3M7d2hbaV09bVtqKzBdPDwyNHxtW2orMV08PDE2fG1baisyXTw8OHxtW2orM107d2xbaV09bVtqKzRdPDwyNHxtW2orNV08PDE2fG1bais2XTw8OHxtW2orN119Zm9yKGk9MDtpPDgwO2krKyl7YmgwPWFoMDtiaDE9YWgxO2JoMj1haDI7YmgzPWFoMztiaDQ9YWg0O2JoNT1haDU7Ymg2PWFoNjtiaDc9YWg3O2JsMD1hbDA7YmwxPWFsMTtibDI9YWwyO2JsMz1hbDM7Ymw0PWFsNDtibDU9YWw1O2JsNj1hbDY7Ymw3PWFsNztoPWFoNztsPWFsNzthPWwmNjU1MzU7Yj1sPj4+MTY7Yz1oJjY1NTM1O2Q9aD4+PjE2O2g9KGFoND4+PjE0fGFsNDw8MzItMTQpXihhaDQ+Pj4xOHxhbDQ8PDMyLTE4KV4oYWw0Pj4+NDEtMzJ8YWg0PDwzMi0oNDEtMzIpKTtsPShhbDQ+Pj4xNHxhaDQ8PDMyLTE0KV4oYWw0Pj4+MTh8YWg0PDwzMi0xOCleKGFoND4+PjQxLTMyfGFsNDw8MzItKDQxLTMyKSk7YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7aD1haDQmYWg1Xn5haDQmYWg2O2w9YWw0JmFsNV5+YWw0JmFsNjthKz1sJjY1NTM1O2IrPWw+Pj4xNjtjKz1oJjY1NTM1O2QrPWg+Pj4xNjtoPUtbaSoyXTtsPUtbaSoyKzFdO2ErPWwmNjU1MzU7Yis9bD4+PjE2O2MrPWgmNjU1MzU7ZCs9aD4+PjE2O2g9d2hbaSUxNl07bD13bFtpJTE2XTthKz1sJjY1NTM1O2IrPWw+Pj4xNjtjKz1oJjY1NTM1O2QrPWg+Pj4xNjtiKz1hPj4+MTY7Yys9Yj4+PjE2O2QrPWM+Pj4xNjt0aD1jJjY1NTM1fGQ8PDE2O3RsPWEmNjU1MzV8Yjw8MTY7aD10aDtsPXRsO2E9bCY2NTUzNTtiPWw+Pj4xNjtjPWgmNjU1MzU7ZD1oPj4+MTY7aD0oYWgwPj4+Mjh8YWwwPDwzMi0yOCleKGFsMD4+PjM0LTMyfGFoMDw8MzItKDM0LTMyKSleKGFsMD4+PjM5LTMyfGFoMDw8MzItKDM5LTMyKSk7bD0oYWwwPj4+Mjh8YWgwPDwzMi0yOCleKGFoMD4+PjM0LTMyfGFsMDw8MzItKDM0LTMyKSleKGFoMD4+PjM5LTMyfGFsMDw8MzItKDM5LTMyKSk7YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7aD1haDAmYWgxXmFoMCZhaDJeYWgxJmFoMjtsPWFsMCZhbDFeYWwwJmFsMl5hbDEmYWwyO2ErPWwmNjU1MzU7Yis9bD4+PjE2O2MrPWgmNjU1MzU7ZCs9aD4+PjE2O2IrPWE+Pj4xNjtjKz1iPj4+MTY7ZCs9Yz4+PjE2O2JoNz1jJjY1NTM1fGQ8PDE2O2JsNz1hJjY1NTM1fGI8PDE2O2g9YmgzO2w9YmwzO2E9bCY2NTUzNTtiPWw+Pj4xNjtjPWgmNjU1MzU7ZD1oPj4+MTY7aD10aDtsPXRsO2ErPWwmNjU1MzU7Yis9bD4+PjE2O2MrPWgmNjU1MzU7ZCs9aD4+PjE2O2IrPWE+Pj4xNjtjKz1iPj4+MTY7ZCs9Yz4+PjE2O2JoMz1jJjY1NTM1fGQ8PDE2O2JsMz1hJjY1NTM1fGI8PDE2O2FoMT1iaDA7YWgyPWJoMTthaDM9YmgyO2FoND1iaDM7YWg1PWJoNDthaDY9Ymg1O2FoNz1iaDY7YWgwPWJoNzthbDE9YmwwO2FsMj1ibDE7YWwzPWJsMjthbDQ9YmwzO2FsNT1ibDQ7YWw2PWJsNTthbDc9Ymw2O2FsMD1ibDc7aWYoaSUxNj09PTE1KXtmb3Ioaj0wO2o8MTY7aisrKXtoPXdoW2pdO2w9d2xbal07YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPXdoWyhqKzkpJTE2XTtsPXdsWyhqKzkpJTE2XTthKz1sJjY1NTM1O2IrPWw+Pj4xNjtjKz1oJjY1NTM1O2QrPWg+Pj4xNjt0aD13aFsoaisxKSUxNl07dGw9d2xbKGorMSklMTZdO2g9KHRoPj4+MXx0bDw8MzItMSleKHRoPj4+OHx0bDw8MzItOCledGg+Pj43O2w9KHRsPj4+MXx0aDw8MzItMSleKHRsPj4+OHx0aDw8MzItOCleKHRsPj4+N3x0aDw8MzItNyk7YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7dGg9d2hbKGorMTQpJTE2XTt0bD13bFsoaisxNCklMTZdO2g9KHRoPj4+MTl8dGw8PDMyLTE5KV4odGw+Pj42MS0zMnx0aDw8MzItKDYxLTMyKSledGg+Pj42O2w9KHRsPj4+MTl8dGg8PDMyLTE5KV4odGg+Pj42MS0zMnx0bDw8MzItKDYxLTMyKSleKHRsPj4+Nnx0aDw8MzItNik7YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7d2hbal09YyY2NTUzNXxkPDwxNjt3bFtqXT1hJjY1NTM1fGI8PDE2fX19aD1haDA7bD1hbDA7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzBdO2w9aGxbMF07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbMF09YWgwPWMmNjU1MzV8ZDw8MTY7aGxbMF09YWwwPWEmNjU1MzV8Yjw8MTY7aD1haDE7bD1hbDE7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzFdO2w9aGxbMV07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbMV09YWgxPWMmNjU1MzV8ZDw8MTY7aGxbMV09YWwxPWEmNjU1MzV8Yjw8MTY7aD1haDI7bD1hbDI7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzJdO2w9aGxbMl07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbMl09YWgyPWMmNjU1MzV8ZDw8MTY7aGxbMl09YWwyPWEmNjU1MzV8Yjw8MTY7aD1haDM7bD1hbDM7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzNdO2w9aGxbM107YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbM109YWgzPWMmNjU1MzV8ZDw8MTY7aGxbM109YWwzPWEmNjU1MzV8Yjw8MTY7aD1haDQ7bD1hbDQ7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzRdO2w9aGxbNF07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbNF09YWg0PWMmNjU1MzV8ZDw8MTY7aGxbNF09YWw0PWEmNjU1MzV8Yjw8MTY7aD1haDU7bD1hbDU7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzVdO2w9aGxbNV07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbNV09YWg1PWMmNjU1MzV8ZDw8MTY7aGxbNV09YWw1PWEmNjU1MzV8Yjw8MTY7aD1haDY7bD1hbDY7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzZdO2w9aGxbNl07YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbNl09YWg2PWMmNjU1MzV8ZDw8MTY7aGxbNl09YWw2PWEmNjU1MzV8Yjw8MTY7aD1haDc7bD1hbDc7YT1sJjY1NTM1O2I9bD4+PjE2O2M9aCY2NTUzNTtkPWg+Pj4xNjtoPWhoWzddO2w9aGxbN107YSs9bCY2NTUzNTtiKz1sPj4+MTY7Yys9aCY2NTUzNTtkKz1oPj4+MTY7Yis9YT4+PjE2O2MrPWI+Pj4xNjtkKz1jPj4+MTY7aGhbN109YWg3PWMmNjU1MzV8ZDw8MTY7aGxbN109YWw3PWEmNjU1MzV8Yjw8MTY7cG9zKz0xMjg7bi09MTI4fXJldHVybiBufWZ1bmN0aW9uIGNyeXB0b19oYXNoKG91dCxtLG4pe3ZhciBoaD1uZXcgSW50MzJBcnJheSg4KSxobD1uZXcgSW50MzJBcnJheSg4KSx4PW5ldyBVaW50OEFycmF5KDI1NiksaSxiPW47aGhbMF09MTc3OTAzMzcwMztoaFsxXT0zMTQ0MTM0Mjc3O2hoWzJdPTEwMTM5MDQyNDI7aGhbM109Mjc3MzQ4MDc2MjtoaFs0XT0xMzU5ODkzMTE5O2hoWzVdPTI2MDA4MjI5MjQ7aGhbNl09NTI4NzM0NjM1O2hoWzddPTE1NDE0NTkyMjU7aGxbMF09NDA4OTIzNTcyMDtobFsxXT0yMjI3ODczNTk1O2hsWzJdPTQyNzExNzU3MjM7aGxbM109MTU5NTc1MDEyOTtobFs0XT0yOTE3NTY1MTM3O2hsWzVdPTcyNTUxMTE5OTtobFs2XT00MjE1Mzg5NTQ3O2hsWzddPTMyNzAzMzIwOTtjcnlwdG9faGFzaGJsb2Nrc19obChoaCxobCxtLG4pO24lPTEyODtmb3IoaT0wO2k8bjtpKyspeFtpXT1tW2ItbitpXTt4W25dPTEyODtuPTI1Ni0xMjgqKG48MTEyPzE6MCk7eFtuLTldPTA7dHM2NCh4LG4tOCxiLzUzNjg3MDkxMnwwLGI8PDMpO2NyeXB0b19oYXNoYmxvY2tzX2hsKGhoLGhsLHgsbik7Zm9yKGk9MDtpPDg7aSsrKXRzNjQob3V0LDgqaSxoaFtpXSxobFtpXSk7cmV0dXJuIDB9ZnVuY3Rpb24gYWRkKHAscSl7dmFyIGE9Z2YoKSxiPWdmKCksYz1nZigpLGQ9Z2YoKSxlPWdmKCksZj1nZigpLGc9Z2YoKSxoPWdmKCksdD1nZigpO1ooYSxwWzFdLHBbMF0pO1oodCxxWzFdLHFbMF0pO00oYSxhLHQpO0EoYixwWzBdLHBbMV0pO0EodCxxWzBdLHFbMV0pO00oYixiLHQpO00oYyxwWzNdLHFbM10pO00oYyxjLEQyKTtNKGQscFsyXSxxWzJdKTtBKGQsZCxkKTtaKGUsYixhKTtaKGYsZCxjKTtBKGcsZCxjKTtBKGgsYixhKTtNKHBbMF0sZSxmKTtNKHBbMV0saCxnKTtNKHBbMl0sZyxmKTtNKHBbM10sZSxoKX1mdW5jdGlvbiBjc3dhcChwLHEsYil7dmFyIGk7Zm9yKGk9MDtpPDQ7aSsrKXtzZWwyNTUxOShwW2ldLHFbaV0sYil9fWZ1bmN0aW9uIHBhY2socixwKXt2YXIgdHg9Z2YoKSx0eT1nZigpLHppPWdmKCk7aW52MjU1MTkoemkscFsyXSk7TSh0eCxwWzBdLHppKTtNKHR5LHBbMV0semkpO3BhY2syNTUxOShyLHR5KTtyWzMxXV49cGFyMjU1MTkodHgpPDw3fWZ1bmN0aW9uIHNjYWxhcm11bHQocCxxLHMpe3ZhciBiLGk7c2V0MjU1MTkocFswXSxnZjApO3NldDI1NTE5KHBbMV0sZ2YxKTtzZXQyNTUxOShwWzJdLGdmMSk7c2V0MjU1MTkocFszXSxnZjApO2ZvcihpPTI1NTtpPj0wOy0taSl7Yj1zW2kvOHwwXT4+KGkmNykmMTtjc3dhcChwLHEsYik7YWRkKHEscCk7YWRkKHAscCk7Y3N3YXAocCxxLGIpfX1mdW5jdGlvbiBzY2FsYXJiYXNlKHAscyl7dmFyIHE9W2dmKCksZ2YoKSxnZigpLGdmKCldO3NldDI1NTE5KHFbMF0sWCk7c2V0MjU1MTkocVsxXSxZKTtzZXQyNTUxOShxWzJdLGdmMSk7TShxWzNdLFgsWSk7c2NhbGFybXVsdChwLHEscyl9ZnVuY3Rpb24gY3J5cHRvX3NpZ25fa2V5cGFpcihwayxzayxzZWVkZWQpe3ZhciBkPW5ldyBVaW50OEFycmF5KDY0KTt2YXIgcD1bZ2YoKSxnZigpLGdmKCksZ2YoKV07dmFyIGk7aWYoIXNlZWRlZClyYW5kb21ieXRlcyhzaywzMik7Y3J5cHRvX2hhc2goZCxzaywzMik7ZFswXSY9MjQ4O2RbMzFdJj0xMjc7ZFszMV18PTY0O3NjYWxhcmJhc2UocCxkKTtwYWNrKHBrLHApO2ZvcihpPTA7aTwzMjtpKyspc2tbaSszMl09cGtbaV07cmV0dXJuIDB9dmFyIEw9bmV3IEZsb2F0NjRBcnJheShbMjM3LDIxMSwyNDUsOTIsMjYsOTksMTgsODgsMjE0LDE1NiwyNDcsMTYyLDIyMiwyNDksMjIyLDIwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDE2XSk7ZnVuY3Rpb24gbW9kTChyLHgpe3ZhciBjYXJyeSxpLGosaztmb3IoaT02MztpPj0zMjstLWkpe2NhcnJ5PTA7Zm9yKGo9aS0zMixrPWktMTI7ajxrOysrail7eFtqXSs9Y2FycnktMTYqeFtpXSpMW2otKGktMzIpXTtjYXJyeT14W2pdKzEyOD4+ODt4W2pdLT1jYXJyeSoyNTZ9eFtqXSs9Y2Fycnk7eFtpXT0wfWNhcnJ5PTA7Zm9yKGo9MDtqPDMyO2orKyl7eFtqXSs9Y2FycnktKHhbMzFdPj40KSpMW2pdO2NhcnJ5PXhbal0+Pjg7eFtqXSY9MjU1fWZvcihqPTA7ajwzMjtqKyspeFtqXS09Y2FycnkqTFtqXTtmb3IoaT0wO2k8MzI7aSsrKXt4W2krMV0rPXhbaV0+Pjg7cltpXT14W2ldJjI1NX19ZnVuY3Rpb24gcmVkdWNlKHIpe3ZhciB4PW5ldyBGbG9hdDY0QXJyYXkoNjQpLGk7Zm9yKGk9MDtpPDY0O2krKyl4W2ldPXJbaV07Zm9yKGk9MDtpPDY0O2krKylyW2ldPTA7bW9kTChyLHgpfWZ1bmN0aW9uIGNyeXB0b19zaWduKHNtLG0sbixzayl7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoNjQpLGg9bmV3IFVpbnQ4QXJyYXkoNjQpLHI9bmV3IFVpbnQ4QXJyYXkoNjQpO3ZhciBpLGoseD1uZXcgRmxvYXQ2NEFycmF5KDY0KTt2YXIgcD1bZ2YoKSxnZigpLGdmKCksZ2YoKV07Y3J5cHRvX2hhc2goZCxzaywzMik7ZFswXSY9MjQ4O2RbMzFdJj0xMjc7ZFszMV18PTY0O3ZhciBzbWxlbj1uKzY0O2ZvcihpPTA7aTxuO2krKylzbVs2NCtpXT1tW2ldO2ZvcihpPTA7aTwzMjtpKyspc21bMzIraV09ZFszMitpXTtjcnlwdG9faGFzaChyLHNtLnN1YmFycmF5KDMyKSxuKzMyKTtyZWR1Y2Uocik7c2NhbGFyYmFzZShwLHIpO3BhY2soc20scCk7Zm9yKGk9MzI7aTw2NDtpKyspc21baV09c2tbaV07Y3J5cHRvX2hhc2goaCxzbSxuKzY0KTtyZWR1Y2UoaCk7Zm9yKGk9MDtpPDY0O2krKyl4W2ldPTA7Zm9yKGk9MDtpPDMyO2krKyl4W2ldPXJbaV07Zm9yKGk9MDtpPDMyO2krKyl7Zm9yKGo9MDtqPDMyO2orKyl7eFtpK2pdKz1oW2ldKmRbal19fW1vZEwoc20uc3ViYXJyYXkoMzIpLHgpO3JldHVybiBzbWxlbn1mdW5jdGlvbiB1bnBhY2tuZWcocixwKXt2YXIgdD1nZigpLGNoaz1nZigpLG51bT1nZigpLGRlbj1nZigpLGRlbjI9Z2YoKSxkZW40PWdmKCksZGVuNj1nZigpO3NldDI1NTE5KHJbMl0sZ2YxKTt1bnBhY2syNTUxOShyWzFdLHApO1MobnVtLHJbMV0pO00oZGVuLG51bSxEKTtaKG51bSxudW0sclsyXSk7QShkZW4sclsyXSxkZW4pO1MoZGVuMixkZW4pO1MoZGVuNCxkZW4yKTtNKGRlbjYsZGVuNCxkZW4yKTtNKHQsZGVuNixudW0pO00odCx0LGRlbik7cG93MjUyMyh0LHQpO00odCx0LG51bSk7TSh0LHQsZGVuKTtNKHQsdCxkZW4pO00oclswXSx0LGRlbik7UyhjaGssclswXSk7TShjaGssY2hrLGRlbik7aWYobmVxMjU1MTkoY2hrLG51bSkpTShyWzBdLHJbMF0sSSk7UyhjaGssclswXSk7TShjaGssY2hrLGRlbik7aWYobmVxMjU1MTkoY2hrLG51bSkpcmV0dXJuLTE7aWYocGFyMjU1MTkoclswXSk9PT1wWzMxXT4+NylaKHJbMF0sZ2YwLHJbMF0pO00oclszXSxyWzBdLHJbMV0pO3JldHVybiAwfWZ1bmN0aW9uIGNyeXB0b19zaWduX29wZW4obSxzbSxuLHBrKXt2YXIgaSxtbGVuO3ZhciB0PW5ldyBVaW50OEFycmF5KDMyKSxoPW5ldyBVaW50OEFycmF5KDY0KTt2YXIgcD1bZ2YoKSxnZigpLGdmKCksZ2YoKV0scT1bZ2YoKSxnZigpLGdmKCksZ2YoKV07bWxlbj0tMTtpZihuPDY0KXJldHVybi0xO2lmKHVucGFja25lZyhxLHBrKSlyZXR1cm4tMTtmb3IoaT0wO2k8bjtpKyspbVtpXT1zbVtpXTtmb3IoaT0wO2k8MzI7aSsrKW1baSszMl09cGtbaV07Y3J5cHRvX2hhc2goaCxtLG4pO3JlZHVjZShoKTtzY2FsYXJtdWx0KHAscSxoKTtzY2FsYXJiYXNlKHEsc20uc3ViYXJyYXkoMzIpKTthZGQocCxxKTtwYWNrKHQscCk7bi09NjQ7aWYoY3J5cHRvX3ZlcmlmeV8zMihzbSwwLHQsMCkpe2ZvcihpPTA7aTxuO2krKyltW2ldPTA7cmV0dXJuLTF9Zm9yKGk9MDtpPG47aSsrKW1baV09c21baSs2NF07bWxlbj1uO3JldHVybiBtbGVufXZhciBjcnlwdG9fc2VjcmV0Ym94X0tFWUJZVEVTPTMyLGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUz0yNCxjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFUz0zMixjcnlwdG9fc2VjcmV0Ym94X0JPWFpFUk9CWVRFUz0xNixjcnlwdG9fc2NhbGFybXVsdF9CWVRFUz0zMixjcnlwdG9fc2NhbGFybXVsdF9TQ0FMQVJCWVRFUz0zMixjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTPTMyLGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVM9MzIsY3J5cHRvX2JveF9CRUZPUkVOTUJZVEVTPTMyLGNyeXB0b19ib3hfTk9OQ0VCWVRFUz1jcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMsY3J5cHRvX2JveF9aRVJPQllURVM9Y3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMsY3J5cHRvX2JveF9CT1haRVJPQllURVM9Y3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMsY3J5cHRvX3NpZ25fQllURVM9NjQsY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVM9MzIsY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVM9NjQsY3J5cHRvX3NpZ25fU0VFREJZVEVTPTMyLGNyeXB0b19oYXNoX0JZVEVTPTY0O25hY2wubG93bGV2ZWw9e2NyeXB0b19jb3JlX2hzYWxzYTIwOmNyeXB0b19jb3JlX2hzYWxzYTIwLGNyeXB0b19zdHJlYW1feG9yOmNyeXB0b19zdHJlYW1feG9yLGNyeXB0b19zdHJlYW06Y3J5cHRvX3N0cmVhbSxjcnlwdG9fc3RyZWFtX3NhbHNhMjBfeG9yOmNyeXB0b19zdHJlYW1fc2Fsc2EyMF94b3IsY3J5cHRvX3N0cmVhbV9zYWxzYTIwOmNyeXB0b19zdHJlYW1fc2Fsc2EyMCxjcnlwdG9fb25ldGltZWF1dGg6Y3J5cHRvX29uZXRpbWVhdXRoLGNyeXB0b19vbmV0aW1lYXV0aF92ZXJpZnk6Y3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeSxjcnlwdG9fdmVyaWZ5XzE2OmNyeXB0b192ZXJpZnlfMTYsY3J5cHRvX3ZlcmlmeV8zMjpjcnlwdG9fdmVyaWZ5XzMyLGNyeXB0b19zZWNyZXRib3g6Y3J5cHRvX3NlY3JldGJveCxjcnlwdG9fc2VjcmV0Ym94X29wZW46Y3J5cHRvX3NlY3JldGJveF9vcGVuLGNyeXB0b19zY2FsYXJtdWx0OmNyeXB0b19zY2FsYXJtdWx0LGNyeXB0b19zY2FsYXJtdWx0X2Jhc2U6Y3J5cHRvX3NjYWxhcm11bHRfYmFzZSxjcnlwdG9fYm94X2JlZm9yZW5tOmNyeXB0b19ib3hfYmVmb3Jlbm0sY3J5cHRvX2JveF9hZnRlcm5tOmNyeXB0b19ib3hfYWZ0ZXJubSxjcnlwdG9fYm94OmNyeXB0b19ib3gsY3J5cHRvX2JveF9vcGVuOmNyeXB0b19ib3hfb3BlbixjcnlwdG9fYm94X2tleXBhaXI6Y3J5cHRvX2JveF9rZXlwYWlyLGNyeXB0b19oYXNoOmNyeXB0b19oYXNoLGNyeXB0b19zaWduOmNyeXB0b19zaWduLGNyeXB0b19zaWduX2tleXBhaXI6Y3J5cHRvX3NpZ25fa2V5cGFpcixjcnlwdG9fc2lnbl9vcGVuOmNyeXB0b19zaWduX29wZW4sY3J5cHRvX3NlY3JldGJveF9LRVlCWVRFUzpjcnlwdG9fc2VjcmV0Ym94X0tFWUJZVEVTLGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUzpjcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMsY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVM6Y3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMsY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVM6Y3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMsY3J5cHRvX3NjYWxhcm11bHRfQllURVM6Y3J5cHRvX3NjYWxhcm11bHRfQllURVMsY3J5cHRvX3NjYWxhcm11bHRfU0NBTEFSQllURVM6Y3J5cHRvX3NjYWxhcm11bHRfU0NBTEFSQllURVMsY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUzpjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTLGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVM6Y3J5cHRvX2JveF9TRUNSRVRLRVlCWVRFUyxjcnlwdG9fYm94X0JFRk9SRU5NQllURVM6Y3J5cHRvX2JveF9CRUZPUkVOTUJZVEVTLGNyeXB0b19ib3hfTk9OQ0VCWVRFUzpjcnlwdG9fYm94X05PTkNFQllURVMsY3J5cHRvX2JveF9aRVJPQllURVM6Y3J5cHRvX2JveF9aRVJPQllURVMsY3J5cHRvX2JveF9CT1haRVJPQllURVM6Y3J5cHRvX2JveF9CT1haRVJPQllURVMsY3J5cHRvX3NpZ25fQllURVM6Y3J5cHRvX3NpZ25fQllURVMsY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVM6Y3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVMsY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVM6Y3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMsY3J5cHRvX3NpZ25fU0VFREJZVEVTOmNyeXB0b19zaWduX1NFRURCWVRFUyxjcnlwdG9faGFzaF9CWVRFUzpjcnlwdG9faGFzaF9CWVRFU307ZnVuY3Rpb24gY2hlY2tMZW5ndGhzKGssbil7aWYoay5sZW5ndGghPT1jcnlwdG9fc2VjcmV0Ym94X0tFWUJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIGtleSBzaXplIik7aWYobi5sZW5ndGghPT1jcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMpdGhyb3cgbmV3IEVycm9yKCJiYWQgbm9uY2Ugc2l6ZSIpfWZ1bmN0aW9uIGNoZWNrQm94TGVuZ3Rocyhwayxzayl7aWYocGsubGVuZ3RoIT09Y3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUyl0aHJvdyBuZXcgRXJyb3IoImJhZCBwdWJsaWMga2V5IHNpemUiKTtpZihzay5sZW5ndGghPT1jcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHNlY3JldCBrZXkgc2l6ZSIpfWZ1bmN0aW9uIGNoZWNrQXJyYXlUeXBlcygpe3ZhciB0LGk7Zm9yKGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtpZigodD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzW2ldKSkhPT0iW29iamVjdCBVaW50OEFycmF5XSIpdGhyb3cgbmV3IFR5cGVFcnJvcigidW5leHBlY3RlZCB0eXBlICIrdCsiLCB1c2UgVWludDhBcnJheSIpfX1mdW5jdGlvbiBjbGVhbnVwKGFycil7Zm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoO2krKylhcnJbaV09MH1pZighbmFjbC51dGlsKXtuYWNsLnV0aWw9e307bmFjbC51dGlsLmRlY29kZVVURjg9bmFjbC51dGlsLmVuY29kZVVURjg9bmFjbC51dGlsLmVuY29kZUJhc2U2ND1uYWNsLnV0aWwuZGVjb2RlQmFzZTY0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJuYWNsLnV0aWwgbW92ZWQgaW50byBzZXBhcmF0ZSBwYWNrYWdlOiBodHRwczovL2dpdGh1Yi5jb20vZGNoZXN0L3R3ZWV0bmFjbC11dGlsLWpzIil9fW5hY2wucmFuZG9tQnl0ZXM9ZnVuY3Rpb24obil7dmFyIGI9bmV3IFVpbnQ4QXJyYXkobik7cmFuZG9tYnl0ZXMoYixuKTtyZXR1cm4gYn07bmFjbC5zZWNyZXRib3g9ZnVuY3Rpb24obXNnLG5vbmNlLGtleSl7Y2hlY2tBcnJheVR5cGVzKG1zZyxub25jZSxrZXkpO2NoZWNrTGVuZ3RocyhrZXksbm9uY2UpO3ZhciBtPW5ldyBVaW50OEFycmF5KGNyeXB0b19zZWNyZXRib3hfWkVST0JZVEVTK21zZy5sZW5ndGgpO3ZhciBjPW5ldyBVaW50OEFycmF5KG0ubGVuZ3RoKTtmb3IodmFyIGk9MDtpPG1zZy5sZW5ndGg7aSsrKW1baStjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFU109bXNnW2ldO2NyeXB0b19zZWNyZXRib3goYyxtLG0ubGVuZ3RoLG5vbmNlLGtleSk7cmV0dXJuIGMuc3ViYXJyYXkoY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMpfTtuYWNsLnNlY3JldGJveC5vcGVuPWZ1bmN0aW9uKGJveCxub25jZSxrZXkpe2NoZWNrQXJyYXlUeXBlcyhib3gsbm9uY2Usa2V5KTtjaGVja0xlbmd0aHMoa2V5LG5vbmNlKTt2YXIgYz1uZXcgVWludDhBcnJheShjcnlwdG9fc2VjcmV0Ym94X0JPWFpFUk9CWVRFUytib3gubGVuZ3RoKTt2YXIgbT1uZXcgVWludDhBcnJheShjLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxib3gubGVuZ3RoO2krKyljW2krY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVNdPWJveFtpXTtpZihjLmxlbmd0aDwzMilyZXR1cm4gZmFsc2U7aWYoY3J5cHRvX3NlY3JldGJveF9vcGVuKG0sYyxjLmxlbmd0aCxub25jZSxrZXkpIT09MClyZXR1cm4gZmFsc2U7cmV0dXJuIG0uc3ViYXJyYXkoY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMpfTtuYWNsLnNlY3JldGJveC5rZXlMZW5ndGg9Y3J5cHRvX3NlY3JldGJveF9LRVlCWVRFUztuYWNsLnNlY3JldGJveC5ub25jZUxlbmd0aD1jcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVM7bmFjbC5zZWNyZXRib3gub3ZlcmhlYWRMZW5ndGg9Y3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVM7bmFjbC5zY2FsYXJNdWx0PWZ1bmN0aW9uKG4scCl7Y2hlY2tBcnJheVR5cGVzKG4scCk7aWYobi5sZW5ndGghPT1jcnlwdG9fc2NhbGFybXVsdF9TQ0FMQVJCWVRFUyl0aHJvdyBuZXcgRXJyb3IoImJhZCBuIHNpemUiKTtpZihwLmxlbmd0aCE9PWNyeXB0b19zY2FsYXJtdWx0X0JZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHAgc2l6ZSIpO3ZhciBxPW5ldyBVaW50OEFycmF5KGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTKTtjcnlwdG9fc2NhbGFybXVsdChxLG4scCk7cmV0dXJuIHF9O25hY2wuc2NhbGFyTXVsdC5iYXNlPWZ1bmN0aW9uKG4pe2NoZWNrQXJyYXlUeXBlcyhuKTtpZihuLmxlbmd0aCE9PWNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIG4gc2l6ZSIpO3ZhciBxPW5ldyBVaW50OEFycmF5KGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTKTtjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHEsbik7cmV0dXJuIHF9O25hY2wuc2NhbGFyTXVsdC5zY2FsYXJMZW5ndGg9Y3J5cHRvX3NjYWxhcm11bHRfU0NBTEFSQllURVM7bmFjbC5zY2FsYXJNdWx0Lmdyb3VwRWxlbWVudExlbmd0aD1jcnlwdG9fc2NhbGFybXVsdF9CWVRFUztuYWNsLmJveD1mdW5jdGlvbihtc2csbm9uY2UscHVibGljS2V5LHNlY3JldEtleSl7dmFyIGs9bmFjbC5ib3guYmVmb3JlKHB1YmxpY0tleSxzZWNyZXRLZXkpO3JldHVybiBuYWNsLnNlY3JldGJveChtc2csbm9uY2Usayl9O25hY2wuYm94LmJlZm9yZT1mdW5jdGlvbihwdWJsaWNLZXksc2VjcmV0S2V5KXtjaGVja0FycmF5VHlwZXMocHVibGljS2V5LHNlY3JldEtleSk7Y2hlY2tCb3hMZW5ndGhzKHB1YmxpY0tleSxzZWNyZXRLZXkpO3ZhciBrPW5ldyBVaW50OEFycmF5KGNyeXB0b19ib3hfQkVGT1JFTk1CWVRFUyk7Y3J5cHRvX2JveF9iZWZvcmVubShrLHB1YmxpY0tleSxzZWNyZXRLZXkpO3JldHVybiBrfTtuYWNsLmJveC5hZnRlcj1uYWNsLnNlY3JldGJveDtuYWNsLmJveC5vcGVuPWZ1bmN0aW9uKG1zZyxub25jZSxwdWJsaWNLZXksc2VjcmV0S2V5KXt2YXIgaz1uYWNsLmJveC5iZWZvcmUocHVibGljS2V5LHNlY3JldEtleSk7cmV0dXJuIG5hY2wuc2VjcmV0Ym94Lm9wZW4obXNnLG5vbmNlLGspfTtuYWNsLmJveC5vcGVuLmFmdGVyPW5hY2wuc2VjcmV0Ym94Lm9wZW47bmFjbC5ib3gua2V5UGFpcj1mdW5jdGlvbigpe3ZhciBwaz1uZXcgVWludDhBcnJheShjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTKTt2YXIgc2s9bmV3IFVpbnQ4QXJyYXkoY3J5cHRvX2JveF9TRUNSRVRLRVlCWVRFUyk7Y3J5cHRvX2JveF9rZXlwYWlyKHBrLHNrKTtyZXR1cm57cHVibGljS2V5OnBrLHNlY3JldEtleTpza319O25hY2wuYm94LmtleVBhaXIuZnJvbVNlY3JldEtleT1mdW5jdGlvbihzZWNyZXRLZXkpe2NoZWNrQXJyYXlUeXBlcyhzZWNyZXRLZXkpO2lmKHNlY3JldEtleS5sZW5ndGghPT1jcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHNlY3JldCBrZXkgc2l6ZSIpO3ZhciBwaz1uZXcgVWludDhBcnJheShjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTKTtjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHBrLHNlY3JldEtleSk7cmV0dXJue3B1YmxpY0tleTpwayxzZWNyZXRLZXk6bmV3IFVpbnQ4QXJyYXkoc2VjcmV0S2V5KX19O25hY2wuYm94LnB1YmxpY0tleUxlbmd0aD1jcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTO25hY2wuYm94LnNlY3JldEtleUxlbmd0aD1jcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTO25hY2wuYm94LnNoYXJlZEtleUxlbmd0aD1jcnlwdG9fYm94X0JFRk9SRU5NQllURVM7bmFjbC5ib3gubm9uY2VMZW5ndGg9Y3J5cHRvX2JveF9OT05DRUJZVEVTO25hY2wuYm94Lm92ZXJoZWFkTGVuZ3RoPW5hY2wuc2VjcmV0Ym94Lm92ZXJoZWFkTGVuZ3RoO25hY2wuc2lnbj1mdW5jdGlvbihtc2csc2VjcmV0S2V5KXtjaGVja0FycmF5VHlwZXMobXNnLHNlY3JldEtleSk7aWYoc2VjcmV0S2V5Lmxlbmd0aCE9PWNyeXB0b19zaWduX1NFQ1JFVEtFWUJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHNlY3JldCBrZXkgc2l6ZSIpO3ZhciBzaWduZWRNc2c9bmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fQllURVMrbXNnLmxlbmd0aCk7Y3J5cHRvX3NpZ24oc2lnbmVkTXNnLG1zZyxtc2cubGVuZ3RoLHNlY3JldEtleSk7cmV0dXJuIHNpZ25lZE1zZ307bmFjbC5zaWduLm9wZW49ZnVuY3Rpb24oc2lnbmVkTXNnLHB1YmxpY0tleSl7aWYoYXJndW1lbnRzLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJuYWNsLnNpZ24ub3BlbiBhY2NlcHRzIDIgYXJndW1lbnRzOyBkaWQgeW91IG1lYW4gdG8gdXNlIG5hY2wuc2lnbi5kZXRhY2hlZC52ZXJpZnk/Iik7Y2hlY2tBcnJheVR5cGVzKHNpZ25lZE1zZyxwdWJsaWNLZXkpO2lmKHB1YmxpY0tleS5sZW5ndGghPT1jcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUyl0aHJvdyBuZXcgRXJyb3IoImJhZCBwdWJsaWMga2V5IHNpemUiKTt2YXIgdG1wPW5ldyBVaW50OEFycmF5KHNpZ25lZE1zZy5sZW5ndGgpO3ZhciBtbGVuPWNyeXB0b19zaWduX29wZW4odG1wLHNpZ25lZE1zZyxzaWduZWRNc2cubGVuZ3RoLHB1YmxpY0tleSk7aWYobWxlbjwwKXJldHVybiBudWxsO3ZhciBtPW5ldyBVaW50OEFycmF5KG1sZW4pO2Zvcih2YXIgaT0wO2k8bS5sZW5ndGg7aSsrKW1baV09dG1wW2ldO3JldHVybiBtfTtuYWNsLnNpZ24uZGV0YWNoZWQ9ZnVuY3Rpb24obXNnLHNlY3JldEtleSl7dmFyIHNpZ25lZE1zZz1uYWNsLnNpZ24obXNnLHNlY3JldEtleSk7dmFyIHNpZz1uZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9CWVRFUyk7Zm9yKHZhciBpPTA7aTxzaWcubGVuZ3RoO2krKylzaWdbaV09c2lnbmVkTXNnW2ldO3JldHVybiBzaWd9O25hY2wuc2lnbi5kZXRhY2hlZC52ZXJpZnk9ZnVuY3Rpb24obXNnLHNpZyxwdWJsaWNLZXkpe2NoZWNrQXJyYXlUeXBlcyhtc2csc2lnLHB1YmxpY0tleSk7aWYoc2lnLmxlbmd0aCE9PWNyeXB0b19zaWduX0JZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHNpZ25hdHVyZSBzaXplIik7aWYocHVibGljS2V5Lmxlbmd0aCE9PWNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKXRocm93IG5ldyBFcnJvcigiYmFkIHB1YmxpYyBrZXkgc2l6ZSIpO3ZhciBzbT1uZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9CWVRFUyttc2cubGVuZ3RoKTt2YXIgbT1uZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9CWVRFUyttc2cubGVuZ3RoKTt2YXIgaTtmb3IoaT0wO2k8Y3J5cHRvX3NpZ25fQllURVM7aSsrKXNtW2ldPXNpZ1tpXTtmb3IoaT0wO2k8bXNnLmxlbmd0aDtpKyspc21baStjcnlwdG9fc2lnbl9CWVRFU109bXNnW2ldO3JldHVybiBjcnlwdG9fc2lnbl9vcGVuKG0sc20sc20ubGVuZ3RoLHB1YmxpY0tleSk+PTB9O25hY2wuc2lnbi5rZXlQYWlyPWZ1bmN0aW9uKCl7dmFyIHBrPW5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKTt2YXIgc2s9bmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMpO2NyeXB0b19zaWduX2tleXBhaXIocGssc2spO3JldHVybntwdWJsaWNLZXk6cGssc2VjcmV0S2V5OnNrfX07bmFjbC5zaWduLmtleVBhaXIuZnJvbVNlY3JldEtleT1mdW5jdGlvbihzZWNyZXRLZXkpe2NoZWNrQXJyYXlUeXBlcyhzZWNyZXRLZXkpO2lmKHNlY3JldEtleS5sZW5ndGghPT1jcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUyl0aHJvdyBuZXcgRXJyb3IoImJhZCBzZWNyZXQga2V5IHNpemUiKTt2YXIgcGs9bmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVMpO2Zvcih2YXIgaT0wO2k8cGsubGVuZ3RoO2krKylwa1tpXT1zZWNyZXRLZXlbMzIraV07cmV0dXJue3B1YmxpY0tleTpwayxzZWNyZXRLZXk6bmV3IFVpbnQ4QXJyYXkoc2VjcmV0S2V5KX19O25hY2wuc2lnbi5rZXlQYWlyLmZyb21TZWVkPWZ1bmN0aW9uKHNlZWQpe2NoZWNrQXJyYXlUeXBlcyhzZWVkKTtpZihzZWVkLmxlbmd0aCE9PWNyeXB0b19zaWduX1NFRURCWVRFUyl0aHJvdyBuZXcgRXJyb3IoImJhZCBzZWVkIHNpemUiKTt2YXIgcGs9bmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fUFVCTElDS0VZQllURVMpO3ZhciBzaz1uZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUyk7Zm9yKHZhciBpPTA7aTwzMjtpKyspc2tbaV09c2VlZFtpXTtjcnlwdG9fc2lnbl9rZXlwYWlyKHBrLHNrLHRydWUpO3JldHVybntwdWJsaWNLZXk6cGssc2VjcmV0S2V5OnNrfX07bmFjbC5zaWduLnB1YmxpY0tleUxlbmd0aD1jcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUztuYWNsLnNpZ24uc2VjcmV0S2V5TGVuZ3RoPWNyeXB0b19zaWduX1NFQ1JFVEtFWUJZVEVTO25hY2wuc2lnbi5zZWVkTGVuZ3RoPWNyeXB0b19zaWduX1NFRURCWVRFUztuYWNsLnNpZ24uc2lnbmF0dXJlTGVuZ3RoPWNyeXB0b19zaWduX0JZVEVTO25hY2wuaGFzaD1mdW5jdGlvbihtc2cpe2NoZWNrQXJyYXlUeXBlcyhtc2cpO3ZhciBoPW5ldyBVaW50OEFycmF5KGNyeXB0b19oYXNoX0JZVEVTKTtjcnlwdG9faGFzaChoLG1zZyxtc2cubGVuZ3RoKTtyZXR1cm4gaH07bmFjbC5oYXNoLmhhc2hMZW5ndGg9Y3J5cHRvX2hhc2hfQllURVM7bmFjbC52ZXJpZnk9ZnVuY3Rpb24oeCx5KXtjaGVja0FycmF5VHlwZXMoeCx5KTtpZih4Lmxlbmd0aD09PTB8fHkubGVuZ3RoPT09MClyZXR1cm4gZmFsc2U7aWYoeC5sZW5ndGghPT15Lmxlbmd0aClyZXR1cm4gZmFsc2U7cmV0dXJuIHZuKHgsMCx5LDAseC5sZW5ndGgpPT09MD90cnVlOmZhbHNlfTtuYWNsLnNldFBSTkc9ZnVuY3Rpb24oZm4pe3JhbmRvbWJ5dGVzPWZufTsoZnVuY3Rpb24oKXt2YXIgY3J5cHRvPXR5cGVvZiBzZWxmIT09InVuZGVmaW5lZCI/c2VsZi5jcnlwdG98fHNlbGYubXNDcnlwdG86bnVsbDtpZihjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpe3ZhciBRVU9UQT02NTUzNjtuYWNsLnNldFBSTkcoZnVuY3Rpb24oeCxuKXt2YXIgaSx2PW5ldyBVaW50OEFycmF5KG4pO2ZvcihpPTA7aTxuO2krPVFVT1RBKXtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHYuc3ViYXJyYXkoaSxpK01hdGgubWluKG4taSxRVU9UQSkpKX1mb3IoaT0wO2k8bjtpKyspeFtpXT12W2ldO2NsZWFudXAodil9KX1lbHNlIGlmKHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCIpe2NyeXB0bz1yZXF1aXJlKCJjcnlwdG8iKTtpZihjcnlwdG8mJmNyeXB0by5yYW5kb21CeXRlcyl7bmFjbC5zZXRQUk5HKGZ1bmN0aW9uKHgsbil7dmFyIGksdj1jcnlwdG8ucmFuZG9tQnl0ZXMobik7Zm9yKGk9MDtpPG47aSsrKXhbaV09dltpXTtjbGVhbnVwKHYpfSl9fX0pKCl9KSh0eXBlb2YgbW9kdWxlIT09InVuZGVmaW5lZCImJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzOnNlbGYubmFjbD1zZWxmLm5hY2x8fHt9KX0se2NyeXB0bzoxNjl9XSwxNjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe30se31dLDE2NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGNvbXBhcmUoYSxiKXtpZihhPT09Yil7cmV0dXJuIDB9dmFyIHg9YS5sZW5ndGg7dmFyIHk9Yi5sZW5ndGg7Zm9yKHZhciBpPTAsbGVuPU1hdGgubWluKHgseSk7aTxsZW47KytpKXtpZihhW2ldIT09YltpXSl7eD1hW2ldO3k9YltpXTticmVha319aWYoeDx5KXtyZXR1cm4tMX1pZih5PHgpe3JldHVybiAxfXJldHVybiAwfWZ1bmN0aW9uIGlzQnVmZmVyKGIpe2lmKGdsb2JhbC5CdWZmZXImJnR5cGVvZiBnbG9iYWwuQnVmZmVyLmlzQnVmZmVyPT09ImZ1bmN0aW9uIil7cmV0dXJuIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIoYil9cmV0dXJuISEoYiE9bnVsbCYmYi5faXNCdWZmZXIpfXZhciB1dGlsPXJlcXVpcmUoInV0aWwvIik7dmFyIGhhc093bj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBwU2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlO3ZhciBmdW5jdGlvbnNIYXZlTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gZm9vKCl7fS5uYW1lPT09ImZvbyJ9KCk7ZnVuY3Rpb24gcFRvU3RyaW5nKG9iail7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzVmlldyhhcnJidWYpe2lmKGlzQnVmZmVyKGFycmJ1Zikpe3JldHVybiBmYWxzZX1pZih0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyIT09ImZ1bmN0aW9uIil7cmV0dXJuIGZhbHNlfWlmKHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXc9PT0iZnVuY3Rpb24iKXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KGFycmJ1Zil9aWYoIWFycmJ1Zil7cmV0dXJuIGZhbHNlfWlmKGFycmJ1ZiBpbnN0YW5jZW9mIERhdGFWaWV3KXtyZXR1cm4gdHJ1ZX1pZihhcnJidWYuYnVmZmVyJiZhcnJidWYuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3JldHVybiB0cnVlfXJldHVybiBmYWxzZX12YXIgYXNzZXJ0PW1vZHVsZS5leHBvcnRzPW9rO3ZhciByZWdleD0vXHMqZnVuY3Rpb25ccysoW15cKFxzXSopXHMqLztmdW5jdGlvbiBnZXROYW1lKGZ1bmMpe2lmKCF1dGlsLmlzRnVuY3Rpb24oZnVuYykpe3JldHVybn1pZihmdW5jdGlvbnNIYXZlTmFtZXMpe3JldHVybiBmdW5jLm5hbWV9dmFyIHN0cj1mdW5jLnRvU3RyaW5nKCk7dmFyIG1hdGNoPXN0ci5tYXRjaChyZWdleCk7cmV0dXJuIG1hdGNoJiZtYXRjaFsxXX1hc3NlcnQuQXNzZXJ0aW9uRXJyb3I9ZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucyl7dGhpcy5uYW1lPSJBc3NlcnRpb25FcnJvciI7dGhpcy5hY3R1YWw9b3B0aW9ucy5hY3R1YWw7dGhpcy5leHBlY3RlZD1vcHRpb25zLmV4cGVjdGVkO3RoaXMub3BlcmF0b3I9b3B0aW9ucy5vcGVyYXRvcjtpZihvcHRpb25zLm1lc3NhZ2Upe3RoaXMubWVzc2FnZT1vcHRpb25zLm1lc3NhZ2U7dGhpcy5nZW5lcmF0ZWRNZXNzYWdlPWZhbHNlfWVsc2V7dGhpcy5tZXNzYWdlPWdldE1lc3NhZ2UodGhpcyk7dGhpcy5nZW5lcmF0ZWRNZXNzYWdlPXRydWV9dmFyIHN0YWNrU3RhcnRGdW5jdGlvbj1vcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbnx8ZmFpbDtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSl7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxzdGFja1N0YXJ0RnVuY3Rpb24pfWVsc2V7dmFyIGVycj1uZXcgRXJyb3I7aWYoZXJyLnN0YWNrKXt2YXIgb3V0PWVyci5zdGFjazt2YXIgZm5fbmFtZT1nZXROYW1lKHN0YWNrU3RhcnRGdW5jdGlvbik7dmFyIGlkeD1vdXQuaW5kZXhPZigiXG4iK2ZuX25hbWUpO2lmKGlkeD49MCl7dmFyIG5leHRfbGluZT1vdXQuaW5kZXhPZigiXG4iLGlkeCsxKTtvdXQ9b3V0LnN1YnN0cmluZyhuZXh0X2xpbmUrMSl9dGhpcy5zdGFjaz1vdXR9fX07dXRpbC5pbmhlcml0cyhhc3NlcnQuQXNzZXJ0aW9uRXJyb3IsRXJyb3IpO2Z1bmN0aW9uIHRydW5jYXRlKHMsbil7aWYodHlwZW9mIHM9PT0ic3RyaW5nIil7cmV0dXJuIHMubGVuZ3RoPG4/czpzLnNsaWNlKDAsbil9ZWxzZXtyZXR1cm4gc319ZnVuY3Rpb24gaW5zcGVjdChzb21ldGhpbmcpe2lmKGZ1bmN0aW9uc0hhdmVOYW1lc3x8IXV0aWwuaXNGdW5jdGlvbihzb21ldGhpbmcpKXtyZXR1cm4gdXRpbC5pbnNwZWN0KHNvbWV0aGluZyl9dmFyIHJhd25hbWU9Z2V0TmFtZShzb21ldGhpbmcpO3ZhciBuYW1lPXJhd25hbWU/IjogIityYXduYW1lOiIiO3JldHVybiJbRnVuY3Rpb24iK25hbWUrIl0ifWZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZil7cmV0dXJuIHRydW5jYXRlKGluc3BlY3Qoc2VsZi5hY3R1YWwpLDEyOCkrIiAiK3NlbGYub3BlcmF0b3IrIiAiK3RydW5jYXRlKGluc3BlY3Qoc2VsZi5leHBlY3RlZCksMTI4KX1mdW5jdGlvbiBmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLG9wZXJhdG9yLHN0YWNrU3RhcnRGdW5jdGlvbil7dGhyb3cgbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTptZXNzYWdlLGFjdHVhbDphY3R1YWwsZXhwZWN0ZWQ6ZXhwZWN0ZWQsb3BlcmF0b3I6b3BlcmF0b3Isc3RhY2tTdGFydEZ1bmN0aW9uOnN0YWNrU3RhcnRGdW5jdGlvbn0pfWFzc2VydC5mYWlsPWZhaWw7ZnVuY3Rpb24gb2sodmFsdWUsbWVzc2FnZSl7aWYoIXZhbHVlKWZhaWwodmFsdWUsdHJ1ZSxtZXNzYWdlLCI9PSIsYXNzZXJ0Lm9rKX1hc3NlcnQub2s9b2s7YXNzZXJ0LmVxdWFsPWZ1bmN0aW9uIGVxdWFsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXtpZihhY3R1YWwhPWV4cGVjdGVkKWZhaWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2UsIj09Iixhc3NlcnQuZXF1YWwpfTthc3NlcnQubm90RXF1YWw9ZnVuY3Rpb24gbm90RXF1YWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2Upe2lmKGFjdHVhbD09ZXhwZWN0ZWQpe2ZhaWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2UsIiE9Iixhc3NlcnQubm90RXF1YWwpfX07YXNzZXJ0LmRlZXBFcXVhbD1mdW5jdGlvbiBkZWVwRXF1YWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2Upe2lmKCFfZGVlcEVxdWFsKGFjdHVhbCxleHBlY3RlZCxmYWxzZSkpe2ZhaWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2UsImRlZXBFcXVhbCIsYXNzZXJ0LmRlZXBFcXVhbCl9fTthc3NlcnQuZGVlcFN0cmljdEVxdWFsPWZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSl7aWYoIV9kZWVwRXF1YWwoYWN0dWFsLGV4cGVjdGVkLHRydWUpKXtmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLCJkZWVwU3RyaWN0RXF1YWwiLGFzc2VydC5kZWVwU3RyaWN0RXF1YWwpfX07ZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsZXhwZWN0ZWQsc3RyaWN0LG1lbW9zKXtpZihhY3R1YWw9PT1leHBlY3RlZCl7cmV0dXJuIHRydWV9ZWxzZSBpZihpc0J1ZmZlcihhY3R1YWwpJiZpc0J1ZmZlcihleHBlY3RlZCkpe3JldHVybiBjb21wYXJlKGFjdHVhbCxleHBlY3RlZCk9PT0wfWVsc2UgaWYodXRpbC5pc0RhdGUoYWN0dWFsKSYmdXRpbC5pc0RhdGUoZXhwZWN0ZWQpKXtyZXR1cm4gYWN0dWFsLmdldFRpbWUoKT09PWV4cGVjdGVkLmdldFRpbWUoKX1lbHNlIGlmKHV0aWwuaXNSZWdFeHAoYWN0dWFsKSYmdXRpbC5pc1JlZ0V4cChleHBlY3RlZCkpe3JldHVybiBhY3R1YWwuc291cmNlPT09ZXhwZWN0ZWQuc291cmNlJiZhY3R1YWwuZ2xvYmFsPT09ZXhwZWN0ZWQuZ2xvYmFsJiZhY3R1YWwubXVsdGlsaW5lPT09ZXhwZWN0ZWQubXVsdGlsaW5lJiZhY3R1YWwubGFzdEluZGV4PT09ZXhwZWN0ZWQubGFzdEluZGV4JiZhY3R1YWwuaWdub3JlQ2FzZT09PWV4cGVjdGVkLmlnbm9yZUNhc2V9ZWxzZSBpZigoYWN0dWFsPT09bnVsbHx8dHlwZW9mIGFjdHVhbCE9PSJvYmplY3QiKSYmKGV4cGVjdGVkPT09bnVsbHx8dHlwZW9mIGV4cGVjdGVkIT09Im9iamVjdCIpKXtyZXR1cm4gc3RyaWN0P2FjdHVhbD09PWV4cGVjdGVkOmFjdHVhbD09ZXhwZWN0ZWR9ZWxzZSBpZihpc1ZpZXcoYWN0dWFsKSYmaXNWaWV3KGV4cGVjdGVkKSYmcFRvU3RyaW5nKGFjdHVhbCk9PT1wVG9TdHJpbmcoZXhwZWN0ZWQpJiYhKGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8YWN0dWFsIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSl7cmV0dXJuIGNvbXBhcmUobmV3IFVpbnQ4QXJyYXkoYWN0dWFsLmJ1ZmZlciksbmV3IFVpbnQ4QXJyYXkoZXhwZWN0ZWQuYnVmZmVyKSk9PT0wfWVsc2UgaWYoaXNCdWZmZXIoYWN0dWFsKSE9PWlzQnVmZmVyKGV4cGVjdGVkKSl7cmV0dXJuIGZhbHNlfWVsc2V7bWVtb3M9bWVtb3N8fHthY3R1YWw6W10sZXhwZWN0ZWQ6W119O3ZhciBhY3R1YWxJbmRleD1tZW1vcy5hY3R1YWwuaW5kZXhPZihhY3R1YWwpO2lmKGFjdHVhbEluZGV4IT09LTEpe2lmKGFjdHVhbEluZGV4PT09bWVtb3MuZXhwZWN0ZWQuaW5kZXhPZihleHBlY3RlZCkpe3JldHVybiB0cnVlfX1tZW1vcy5hY3R1YWwucHVzaChhY3R1YWwpO21lbW9zLmV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpO3JldHVybiBvYmpFcXVpdihhY3R1YWwsZXhwZWN0ZWQsc3RyaWN0LG1lbW9zKX19ZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCk9PSJbb2JqZWN0IEFyZ3VtZW50c10ifWZ1bmN0aW9uIG9iakVxdWl2KGEsYixzdHJpY3QsYWN0dWFsVmlzaXRlZE9iamVjdHMpe2lmKGE9PT1udWxsfHxhPT09dW5kZWZpbmVkfHxiPT09bnVsbHx8Yj09PXVuZGVmaW5lZClyZXR1cm4gZmFsc2U7aWYodXRpbC5pc1ByaW1pdGl2ZShhKXx8dXRpbC5pc1ByaW1pdGl2ZShiKSlyZXR1cm4gYT09PWI7aWYoc3RyaWN0JiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYikpcmV0dXJuIGZhbHNlO3ZhciBhSXNBcmdzPWlzQXJndW1lbnRzKGEpO3ZhciBiSXNBcmdzPWlzQXJndW1lbnRzKGIpO2lmKGFJc0FyZ3MmJiFiSXNBcmdzfHwhYUlzQXJncyYmYklzQXJncylyZXR1cm4gZmFsc2U7aWYoYUlzQXJncyl7YT1wU2xpY2UuY2FsbChhKTtiPXBTbGljZS5jYWxsKGIpO3JldHVybiBfZGVlcEVxdWFsKGEsYixzdHJpY3QpfXZhciBrYT1vYmplY3RLZXlzKGEpO3ZhciBrYj1vYmplY3RLZXlzKGIpO3ZhciBrZXksaTtpZihrYS5sZW5ndGghPT1rYi5sZW5ndGgpcmV0dXJuIGZhbHNlO2thLnNvcnQoKTtrYi5zb3J0KCk7Zm9yKGk9a2EubGVuZ3RoLTE7aT49MDtpLS0pe2lmKGthW2ldIT09a2JbaV0pcmV0dXJuIGZhbHNlfWZvcihpPWthLmxlbmd0aC0xO2k+PTA7aS0tKXtrZXk9a2FbaV07aWYoIV9kZWVwRXF1YWwoYVtrZXldLGJba2V5XSxzdHJpY3QsYWN0dWFsVmlzaXRlZE9iamVjdHMpKXJldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX1hc3NlcnQubm90RGVlcEVxdWFsPWZ1bmN0aW9uIG5vdERlZXBFcXVhbChhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSl7aWYoX2RlZXBFcXVhbChhY3R1YWwsZXhwZWN0ZWQsZmFsc2UpKXtmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLCJub3REZWVwRXF1YWwiLGFzc2VydC5ub3REZWVwRXF1YWwpfX07YXNzZXJ0Lm5vdERlZXBTdHJpY3RFcXVhbD1ub3REZWVwU3RyaWN0RXF1YWw7ZnVuY3Rpb24gbm90RGVlcFN0cmljdEVxdWFsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlKXtpZihfZGVlcEVxdWFsKGFjdHVhbCxleHBlY3RlZCx0cnVlKSl7ZmFpbChhY3R1YWwsZXhwZWN0ZWQsbWVzc2FnZSwibm90RGVlcFN0cmljdEVxdWFsIixub3REZWVwU3RyaWN0RXF1YWwpfX1hc3NlcnQuc3RyaWN0RXF1YWw9ZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2Upe2lmKGFjdHVhbCE9PWV4cGVjdGVkKXtmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLCI9PT0iLGFzc2VydC5zdHJpY3RFcXVhbCl9fTthc3NlcnQubm90U3RyaWN0RXF1YWw9ZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLGV4cGVjdGVkLG1lc3NhZ2Upe2lmKGFjdHVhbD09PWV4cGVjdGVkKXtmYWlsKGFjdHVhbCxleHBlY3RlZCxtZXNzYWdlLCIhPT0iLGFzc2VydC5ub3RTdHJpY3RFcXVhbCl9fTtmdW5jdGlvbiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsZXhwZWN0ZWQpe2lmKCFhY3R1YWx8fCFleHBlY3RlZCl7cmV0dXJuIGZhbHNlfWlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChleHBlY3RlZCk9PSJbb2JqZWN0IFJlZ0V4cF0iKXtyZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpfXRyeXtpZihhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCl7cmV0dXJuIHRydWV9fWNhdGNoKGUpe31pZihFcnJvci5pc1Byb3RvdHlwZU9mKGV4cGVjdGVkKSl7cmV0dXJuIGZhbHNlfXJldHVybiBleHBlY3RlZC5jYWxsKHt9LGFjdHVhbCk9PT10cnVlfWZ1bmN0aW9uIF90cnlCbG9jayhibG9jayl7dmFyIGVycm9yO3RyeXtibG9jaygpfWNhdGNoKGUpe2Vycm9yPWV9cmV0dXJuIGVycm9yfWZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csYmxvY2ssZXhwZWN0ZWQsbWVzc2FnZSl7dmFyIGFjdHVhbDtpZih0eXBlb2YgYmxvY2shPT0iZnVuY3Rpb24iKXt0aHJvdyBuZXcgVHlwZUVycm9yKCciYmxvY2siIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpfWlmKHR5cGVvZiBleHBlY3RlZD09PSJzdHJpbmciKXttZXNzYWdlPWV4cGVjdGVkO2V4cGVjdGVkPW51bGx9YWN0dWFsPV90cnlCbG9jayhibG9jayk7bWVzc2FnZT0oZXhwZWN0ZWQmJmV4cGVjdGVkLm5hbWU/IiAoIitleHBlY3RlZC5uYW1lKyIpLiI6Ii4iKSsobWVzc2FnZT8iICIrbWVzc2FnZToiLiIpO2lmKHNob3VsZFRocm93JiYhYWN0dWFsKXtmYWlsKGFjdHVhbCxleHBlY3RlZCwiTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24iK21lc3NhZ2UpfXZhciB1c2VyUHJvdmlkZWRNZXNzYWdlPXR5cGVvZiBtZXNzYWdlPT09InN0cmluZyIKO3ZhciBpc1Vud2FudGVkRXhjZXB0aW9uPSFzaG91bGRUaHJvdyYmdXRpbC5pc0Vycm9yKGFjdHVhbCk7dmFyIGlzVW5leHBlY3RlZEV4Y2VwdGlvbj0hc2hvdWxkVGhyb3cmJmFjdHVhbCYmIWV4cGVjdGVkO2lmKGlzVW53YW50ZWRFeGNlcHRpb24mJnVzZXJQcm92aWRlZE1lc3NhZ2UmJmV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCxleHBlY3RlZCl8fGlzVW5leHBlY3RlZEV4Y2VwdGlvbil7ZmFpbChhY3R1YWwsZXhwZWN0ZWQsIkdvdCB1bndhbnRlZCBleGNlcHRpb24iK21lc3NhZ2UpfWlmKHNob3VsZFRocm93JiZhY3R1YWwmJmV4cGVjdGVkJiYhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLGV4cGVjdGVkKXx8IXNob3VsZFRocm93JiZhY3R1YWwpe3Rocm93IGFjdHVhbH19YXNzZXJ0LnRocm93cz1mdW5jdGlvbihibG9jayxlcnJvcixtZXNzYWdlKXtfdGhyb3dzKHRydWUsYmxvY2ssZXJyb3IsbWVzc2FnZSl9O2Fzc2VydC5kb2VzTm90VGhyb3c9ZnVuY3Rpb24oYmxvY2ssZXJyb3IsbWVzc2FnZSl7X3Rocm93cyhmYWxzZSxibG9jayxlcnJvcixtZXNzYWdlKX07YXNzZXJ0LmlmRXJyb3I9ZnVuY3Rpb24oZXJyKXtpZihlcnIpdGhyb3cgZXJyfTt2YXIgb2JqZWN0S2V5cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24ob2JqKXt2YXIga2V5cz1bXTtmb3IodmFyIGtleSBpbiBvYmope2lmKGhhc093bi5jYWxsKG9iaixrZXkpKWtleXMucHVzaChrZXkpfXJldHVybiBrZXlzfX0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT09InVuZGVmaW5lZCI/c2VsZjp0eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCI/d2luZG93Ont9KX0seyJ1dGlsLyI6MjExfV0sMTY4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7ZXhwb3J0cy5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGg7ZXhwb3J0cy50b0J5dGVBcnJheT10b0J5dGVBcnJheTtleHBvcnRzLmZyb21CeXRlQXJyYXk9ZnJvbUJ5dGVBcnJheTt2YXIgbG9va3VwPVtdO3ZhciByZXZMb29rdXA9W107dmFyIEFycj10eXBlb2YgVWludDhBcnJheSE9PSJ1bmRlZmluZWQiP1VpbnQ4QXJyYXk6QXJyYXk7dmFyIGNvZGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iO2Zvcih2YXIgaT0wLGxlbj1jb2RlLmxlbmd0aDtpPGxlbjsrK2kpe2xvb2t1cFtpXT1jb2RlW2ldO3Jldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldPWl9cmV2TG9va3VwWyItIi5jaGFyQ29kZUF0KDApXT02MjtyZXZMb29rdXBbIl8iLmNoYXJDb2RlQXQoMCldPTYzO2Z1bmN0aW9uIHBsYWNlSG9sZGVyc0NvdW50KGI2NCl7dmFyIGxlbj1iNjQubGVuZ3RoO2lmKGxlbiU0PjApe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCIpfXJldHVybiBiNjRbbGVuLTJdPT09Ij0iPzI6YjY0W2xlbi0xXT09PSI9Ij8xOjB9ZnVuY3Rpb24gYnl0ZUxlbmd0aChiNjQpe3JldHVybiBiNjQubGVuZ3RoKjMvNC1wbGFjZUhvbGRlcnNDb3VudChiNjQpfWZ1bmN0aW9uIHRvQnl0ZUFycmF5KGI2NCl7dmFyIGksaixsLHRtcCxwbGFjZUhvbGRlcnMsYXJyO3ZhciBsZW49YjY0Lmxlbmd0aDtwbGFjZUhvbGRlcnM9cGxhY2VIb2xkZXJzQ291bnQoYjY0KTthcnI9bmV3IEFycihsZW4qMy80LXBsYWNlSG9sZGVycyk7bD1wbGFjZUhvbGRlcnM+MD9sZW4tNDpsZW47dmFyIEw9MDtmb3IoaT0wLGo9MDtpPGw7aSs9NCxqKz0zKXt0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MTh8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDwxMnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsyKV08PDZ8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMyldO2FycltMKytdPXRtcD4+MTYmMjU1O2FycltMKytdPXRtcD4+OCYyNTU7YXJyW0wrK109dG1wJjI1NX1pZihwbGFjZUhvbGRlcnM9PT0yKXt0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV0+PjQ7YXJyW0wrK109dG1wJjI1NX1lbHNlIGlmKHBsYWNlSG9sZGVycz09PTEpe3RtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxMHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDR8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMildPj4yO2FycltMKytdPXRtcD4+OCYyNTU7YXJyW0wrK109dG1wJjI1NX1yZXR1cm4gYXJyfWZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChudW0pe3JldHVybiBsb29rdXBbbnVtPj4xOCY2M10rbG9va3VwW251bT4+MTImNjNdK2xvb2t1cFtudW0+PjYmNjNdK2xvb2t1cFtudW0mNjNdfWZ1bmN0aW9uIGVuY29kZUNodW5rKHVpbnQ4LHN0YXJ0LGVuZCl7dmFyIHRtcDt2YXIgb3V0cHV0PVtdO2Zvcih2YXIgaT1zdGFydDtpPGVuZDtpKz0zKXt0bXA9KHVpbnQ4W2ldPDwxNikrKHVpbnQ4W2krMV08PDgpK3VpbnQ4W2krMl07b3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpfXJldHVybiBvdXRwdXQuam9pbigiIil9ZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSh1aW50OCl7dmFyIHRtcDt2YXIgbGVuPXVpbnQ4Lmxlbmd0aDt2YXIgZXh0cmFCeXRlcz1sZW4lMzt2YXIgb3V0cHV0PSIiO3ZhciBwYXJ0cz1bXTt2YXIgbWF4Q2h1bmtMZW5ndGg9MTYzODM7Zm9yKHZhciBpPTAsbGVuMj1sZW4tZXh0cmFCeXRlcztpPGxlbjI7aSs9bWF4Q2h1bmtMZW5ndGgpe3BhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsaSxpK21heENodW5rTGVuZ3RoPmxlbjI/bGVuMjppK21heENodW5rTGVuZ3RoKSl9aWYoZXh0cmFCeXRlcz09PTEpe3RtcD11aW50OFtsZW4tMV07b3V0cHV0Kz1sb29rdXBbdG1wPj4yXTtvdXRwdXQrPWxvb2t1cFt0bXA8PDQmNjNdO291dHB1dCs9Ij09In1lbHNlIGlmKGV4dHJhQnl0ZXM9PT0yKXt0bXA9KHVpbnQ4W2xlbi0yXTw8OCkrdWludDhbbGVuLTFdO291dHB1dCs9bG9va3VwW3RtcD4+MTBdO291dHB1dCs9bG9va3VwW3RtcD4+NCY2M107b3V0cHV0Kz1sb29rdXBbdG1wPDwyJjYzXTtvdXRwdXQrPSI9In1wYXJ0cy5wdXNoKG91dHB1dCk7cmV0dXJuIHBhcnRzLmpvaW4oIiIpfX0se31dLDE2OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7YXJndW1lbnRzWzRdWzE2Nl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpfSx7ZHVwOjE2Nn1dLDE3MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKHByb2Nlc3MsQnVmZmVyKXt2YXIgbXNnPXJlcXVpcmUoInBha28vbGliL3psaWIvbWVzc2FnZXMiKTt2YXIgenN0cmVhbT1yZXF1aXJlKCJwYWtvL2xpYi96bGliL3pzdHJlYW0iKTt2YXIgemxpYl9kZWZsYXRlPXJlcXVpcmUoInBha28vbGliL3psaWIvZGVmbGF0ZS5qcyIpO3ZhciB6bGliX2luZmxhdGU9cmVxdWlyZSgicGFrby9saWIvemxpYi9pbmZsYXRlLmpzIik7dmFyIGNvbnN0YW50cz1yZXF1aXJlKCJwYWtvL2xpYi96bGliL2NvbnN0YW50cyIpO2Zvcih2YXIga2V5IGluIGNvbnN0YW50cyl7ZXhwb3J0c1trZXldPWNvbnN0YW50c1trZXldfWV4cG9ydHMuTk9ORT0wO2V4cG9ydHMuREVGTEFURT0xO2V4cG9ydHMuSU5GTEFURT0yO2V4cG9ydHMuR1pJUD0zO2V4cG9ydHMuR1VOWklQPTQ7ZXhwb3J0cy5ERUZMQVRFUkFXPTU7ZXhwb3J0cy5JTkZMQVRFUkFXPTY7ZXhwb3J0cy5VTlpJUD03O2Z1bmN0aW9uIFpsaWIobW9kZSl7aWYobW9kZTxleHBvcnRzLkRFRkxBVEV8fG1vZGU+ZXhwb3J0cy5VTlpJUCl0aHJvdyBuZXcgVHlwZUVycm9yKCJCYWQgYXJndW1lbnQiKTt0aGlzLm1vZGU9bW9kZTt0aGlzLmluaXRfZG9uZT1mYWxzZTt0aGlzLndyaXRlX2luX3Byb2dyZXNzPWZhbHNlO3RoaXMucGVuZGluZ19jbG9zZT1mYWxzZTt0aGlzLndpbmRvd0JpdHM9MDt0aGlzLmxldmVsPTA7dGhpcy5tZW1MZXZlbD0wO3RoaXMuc3RyYXRlZ3k9MDt0aGlzLmRpY3Rpb25hcnk9bnVsbH1abGliLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHdpbmRvd0JpdHMsbGV2ZWwsbWVtTGV2ZWwsc3RyYXRlZ3ksZGljdGlvbmFyeSl7dGhpcy53aW5kb3dCaXRzPXdpbmRvd0JpdHM7dGhpcy5sZXZlbD1sZXZlbDt0aGlzLm1lbUxldmVsPW1lbUxldmVsO3RoaXMuc3RyYXRlZ3k9c3RyYXRlZ3k7aWYodGhpcy5tb2RlPT09ZXhwb3J0cy5HWklQfHx0aGlzLm1vZGU9PT1leHBvcnRzLkdVTlpJUCl0aGlzLndpbmRvd0JpdHMrPTE2O2lmKHRoaXMubW9kZT09PWV4cG9ydHMuVU5aSVApdGhpcy53aW5kb3dCaXRzKz0zMjtpZih0aGlzLm1vZGU9PT1leHBvcnRzLkRFRkxBVEVSQVd8fHRoaXMubW9kZT09PWV4cG9ydHMuSU5GTEFURVJBVyl0aGlzLndpbmRvd0JpdHM9LXRoaXMud2luZG93Qml0czt0aGlzLnN0cm09bmV3IHpzdHJlYW07c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBleHBvcnRzLkRFRkxBVEU6Y2FzZSBleHBvcnRzLkdaSVA6Y2FzZSBleHBvcnRzLkRFRkxBVEVSQVc6dmFyIHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSx0aGlzLmxldmVsLGV4cG9ydHMuWl9ERUZMQVRFRCx0aGlzLndpbmRvd0JpdHMsdGhpcy5tZW1MZXZlbCx0aGlzLnN0cmF0ZWd5KTticmVhaztjYXNlIGV4cG9ydHMuSU5GTEFURTpjYXNlIGV4cG9ydHMuR1VOWklQOmNhc2UgZXhwb3J0cy5JTkZMQVRFUkFXOmNhc2UgZXhwb3J0cy5VTlpJUDp2YXIgc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLHRoaXMud2luZG93Qml0cyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbW9kZSAiK3RoaXMubW9kZSl9aWYoc3RhdHVzIT09ZXhwb3J0cy5aX09LKXt0aGlzLl9lcnJvcihzdGF0dXMpO3JldHVybn10aGlzLndyaXRlX2luX3Byb2dyZXNzPWZhbHNlO3RoaXMuaW5pdF9kb25lPXRydWV9O1psaWIucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZGVmbGF0ZVBhcmFtcyBOb3Qgc3VwcG9ydGVkIil9O1psaWIucHJvdG90eXBlLl93cml0ZUNoZWNrPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaW5pdF9kb25lKXRocm93IG5ldyBFcnJvcigid3JpdGUgYmVmb3JlIGluaXQiKTtpZih0aGlzLm1vZGU9PT1leHBvcnRzLk5PTkUpdGhyb3cgbmV3IEVycm9yKCJhbHJlYWR5IGZpbmFsaXplZCIpO2lmKHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3MpdGhyb3cgbmV3IEVycm9yKCJ3cml0ZSBhbHJlYWR5IGluIHByb2dyZXNzIik7aWYodGhpcy5wZW5kaW5nX2Nsb3NlKXRocm93IG5ldyBFcnJvcigiY2xvc2UgaXMgcGVuZGluZyIpfTtabGliLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihmbHVzaCxpbnB1dCxpbl9vZmYsaW5fbGVuLG91dCxvdXRfb2ZmLG91dF9sZW4pe3RoaXMuX3dyaXRlQ2hlY2soKTt0aGlzLndyaXRlX2luX3Byb2dyZXNzPXRydWU7dmFyIHNlbGY9dGhpcztwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7c2VsZi53cml0ZV9pbl9wcm9ncmVzcz1mYWxzZTt2YXIgcmVzPXNlbGYuX3dyaXRlKGZsdXNoLGlucHV0LGluX29mZixpbl9sZW4sb3V0LG91dF9vZmYsb3V0X2xlbik7c2VsZi5jYWxsYmFjayhyZXNbMF0scmVzWzFdKTtpZihzZWxmLnBlbmRpbmdfY2xvc2Upc2VsZi5jbG9zZSgpfSk7cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIGJ1ZmZlclNldChkYXRhLG9mZnNldCl7Zm9yKHZhciBpPTA7aTxkYXRhLmxlbmd0aDtpKyspe3RoaXNbb2Zmc2V0K2ldPWRhdGFbaV19fVpsaWIucHJvdG90eXBlLndyaXRlU3luYz1mdW5jdGlvbihmbHVzaCxpbnB1dCxpbl9vZmYsaW5fbGVuLG91dCxvdXRfb2ZmLG91dF9sZW4pe3RoaXMuX3dyaXRlQ2hlY2soKTtyZXR1cm4gdGhpcy5fd3JpdGUoZmx1c2gsaW5wdXQsaW5fb2ZmLGluX2xlbixvdXQsb3V0X29mZixvdXRfbGVuKX07WmxpYi5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGZsdXNoLGlucHV0LGluX29mZixpbl9sZW4sb3V0LG91dF9vZmYsb3V0X2xlbil7dGhpcy53cml0ZV9pbl9wcm9ncmVzcz10cnVlO2lmKGZsdXNoIT09ZXhwb3J0cy5aX05PX0ZMVVNIJiZmbHVzaCE9PWV4cG9ydHMuWl9QQVJUSUFMX0ZMVVNIJiZmbHVzaCE9PWV4cG9ydHMuWl9TWU5DX0ZMVVNIJiZmbHVzaCE9PWV4cG9ydHMuWl9GVUxMX0ZMVVNIJiZmbHVzaCE9PWV4cG9ydHMuWl9GSU5JU0gmJmZsdXNoIT09ZXhwb3J0cy5aX0JMT0NLKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmx1c2ggdmFsdWUiKX1pZihpbnB1dD09bnVsbCl7aW5wdXQ9bmV3IEJ1ZmZlcigwKTtpbl9sZW49MDtpbl9vZmY9MH1pZihvdXQuX3NldClvdXQuc2V0PW91dC5fc2V0O2Vsc2Ugb3V0LnNldD1idWZmZXJTZXQ7dmFyIHN0cm09dGhpcy5zdHJtO3N0cm0uYXZhaWxfaW49aW5fbGVuO3N0cm0uaW5wdXQ9aW5wdXQ7c3RybS5uZXh0X2luPWluX29mZjtzdHJtLmF2YWlsX291dD1vdXRfbGVuO3N0cm0ub3V0cHV0PW91dDtzdHJtLm5leHRfb3V0PW91dF9vZmY7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBleHBvcnRzLkRFRkxBVEU6Y2FzZSBleHBvcnRzLkdaSVA6Y2FzZSBleHBvcnRzLkRFRkxBVEVSQVc6dmFyIHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZShzdHJtLGZsdXNoKTticmVhaztjYXNlIGV4cG9ydHMuVU5aSVA6Y2FzZSBleHBvcnRzLklORkxBVEU6Y2FzZSBleHBvcnRzLkdVTlpJUDpjYXNlIGV4cG9ydHMuSU5GTEFURVJBVzp2YXIgc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlKHN0cm0sZmx1c2gpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG1vZGUgIit0aGlzLm1vZGUpfWlmKHN0YXR1cyE9PWV4cG9ydHMuWl9TVFJFQU1fRU5EJiZzdGF0dXMhPT1leHBvcnRzLlpfT0spe3RoaXMuX2Vycm9yKHN0YXR1cyl9dGhpcy53cml0ZV9pbl9wcm9ncmVzcz1mYWxzZTtyZXR1cm5bc3RybS5hdmFpbF9pbixzdHJtLmF2YWlsX291dF19O1psaWIucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy53cml0ZV9pbl9wcm9ncmVzcyl7dGhpcy5wZW5kaW5nX2Nsb3NlPXRydWU7cmV0dXJufXRoaXMucGVuZGluZ19jbG9zZT1mYWxzZTtpZih0aGlzLm1vZGU9PT1leHBvcnRzLkRFRkxBVEV8fHRoaXMubW9kZT09PWV4cG9ydHMuR1pJUHx8dGhpcy5tb2RlPT09ZXhwb3J0cy5ERUZMQVRFUkFXKXt6bGliX2RlZmxhdGUuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pfWVsc2V7emxpYl9pbmZsYXRlLmluZmxhdGVFbmQodGhpcy5zdHJtKX10aGlzLm1vZGU9ZXhwb3J0cy5OT05FfTtabGliLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgZXhwb3J0cy5ERUZMQVRFOmNhc2UgZXhwb3J0cy5ERUZMQVRFUkFXOnZhciBzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGVSZXNldCh0aGlzLnN0cm0pO2JyZWFrO2Nhc2UgZXhwb3J0cy5JTkZMQVRFOmNhc2UgZXhwb3J0cy5JTkZMQVRFUkFXOnZhciBzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVSZXNldCh0aGlzLnN0cm0pO2JyZWFrfWlmKHN0YXR1cyE9PWV4cG9ydHMuWl9PSyl7dGhpcy5fZXJyb3Ioc3RhdHVzKX19O1psaWIucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihzdGF0dXMpe3RoaXMub25lcnJvcihtc2dbc3RhdHVzXSsiOiAiK3RoaXMuc3RybS5tc2csc3RhdHVzKTt0aGlzLndyaXRlX2luX3Byb2dyZXNzPWZhbHNlO2lmKHRoaXMucGVuZGluZ19jbG9zZSl0aGlzLmNsb3NlKCl9O2V4cG9ydHMuWmxpYj1abGlifSkuY2FsbCh0aGlzLHJlcXVpcmUoIl9wcm9jZXNzIikscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKX0se19wcm9jZXNzOjE5MyxidWZmZXI6MTczLCJwYWtvL2xpYi96bGliL2NvbnN0YW50cyI6MTgyLCJwYWtvL2xpYi96bGliL2RlZmxhdGUuanMiOjE4NCwicGFrby9saWIvemxpYi9pbmZsYXRlLmpzIjoxODYsInBha28vbGliL3psaWIvbWVzc2FnZXMiOjE4OCwicGFrby9saWIvemxpYi96c3RyZWFtIjoxOTB9XSwxNzE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzLEJ1ZmZlcil7dmFyIFRyYW5zZm9ybT1yZXF1aXJlKCJfc3RyZWFtX3RyYW5zZm9ybSIpO3ZhciBiaW5kaW5nPXJlcXVpcmUoIi4vYmluZGluZyIpO3ZhciB1dGlsPXJlcXVpcmUoInV0aWwiKTt2YXIgYXNzZXJ0PXJlcXVpcmUoImFzc2VydCIpLm9rO2JpbmRpbmcuWl9NSU5fV0lORE9XQklUUz04O2JpbmRpbmcuWl9NQVhfV0lORE9XQklUUz0xNTtiaW5kaW5nLlpfREVGQVVMVF9XSU5ET1dCSVRTPTE1O2JpbmRpbmcuWl9NSU5fQ0hVTks9NjQ7YmluZGluZy5aX01BWF9DSFVOSz1JbmZpbml0eTtiaW5kaW5nLlpfREVGQVVMVF9DSFVOSz0xNioxMDI0O2JpbmRpbmcuWl9NSU5fTUVNTEVWRUw9MTtiaW5kaW5nLlpfTUFYX01FTUxFVkVMPTk7YmluZGluZy5aX0RFRkFVTFRfTUVNTEVWRUw9ODtiaW5kaW5nLlpfTUlOX0xFVkVMPS0xO2JpbmRpbmcuWl9NQVhfTEVWRUw9OTtiaW5kaW5nLlpfREVGQVVMVF9MRVZFTD1iaW5kaW5nLlpfREVGQVVMVF9DT01QUkVTU0lPTjtPYmplY3Qua2V5cyhiaW5kaW5nKS5mb3JFYWNoKGZ1bmN0aW9uKGspe2lmKGsubWF0Y2goL15aLykpZXhwb3J0c1trXT1iaW5kaW5nW2tdfSk7ZXhwb3J0cy5jb2Rlcz17Wl9PSzpiaW5kaW5nLlpfT0ssWl9TVFJFQU1fRU5EOmJpbmRpbmcuWl9TVFJFQU1fRU5ELFpfTkVFRF9ESUNUOmJpbmRpbmcuWl9ORUVEX0RJQ1QsWl9FUlJOTzpiaW5kaW5nLlpfRVJSTk8sWl9TVFJFQU1fRVJST1I6YmluZGluZy5aX1NUUkVBTV9FUlJPUixaX0RBVEFfRVJST1I6YmluZGluZy5aX0RBVEFfRVJST1IsWl9NRU1fRVJST1I6YmluZGluZy5aX01FTV9FUlJPUixaX0JVRl9FUlJPUjpiaW5kaW5nLlpfQlVGX0VSUk9SLFpfVkVSU0lPTl9FUlJPUjpiaW5kaW5nLlpfVkVSU0lPTl9FUlJPUn07T2JqZWN0LmtleXMoZXhwb3J0cy5jb2RlcykuZm9yRWFjaChmdW5jdGlvbihrKXtleHBvcnRzLmNvZGVzW2V4cG9ydHMuY29kZXNba11dPWt9KTtleHBvcnRzLkRlZmxhdGU9RGVmbGF0ZTtleHBvcnRzLkluZmxhdGU9SW5mbGF0ZTtleHBvcnRzLkd6aXA9R3ppcDtleHBvcnRzLkd1bnppcD1HdW56aXA7ZXhwb3J0cy5EZWZsYXRlUmF3PURlZmxhdGVSYXc7ZXhwb3J0cy5JbmZsYXRlUmF3PUluZmxhdGVSYXc7ZXhwb3J0cy5VbnppcD1VbnppcDtleHBvcnRzLmNyZWF0ZURlZmxhdGU9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBEZWZsYXRlKG8pfTtleHBvcnRzLmNyZWF0ZUluZmxhdGU9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBJbmZsYXRlKG8pfTtleHBvcnRzLmNyZWF0ZURlZmxhdGVSYXc9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBEZWZsYXRlUmF3KG8pfTtleHBvcnRzLmNyZWF0ZUluZmxhdGVSYXc9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBJbmZsYXRlUmF3KG8pfTtleHBvcnRzLmNyZWF0ZUd6aXA9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBHemlwKG8pfTtleHBvcnRzLmNyZWF0ZUd1bnppcD1mdW5jdGlvbihvKXtyZXR1cm4gbmV3IEd1bnppcChvKX07ZXhwb3J0cy5jcmVhdGVVbnppcD1mdW5jdGlvbihvKXtyZXR1cm4gbmV3IFVuemlwKG8pfTtleHBvcnRzLmRlZmxhdGU9ZnVuY3Rpb24oYnVmZmVyLG9wdHMsY2FsbGJhY2spe2lmKHR5cGVvZiBvcHRzPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2s9b3B0cztvcHRzPXt9fXJldHVybiB6bGliQnVmZmVyKG5ldyBEZWZsYXRlKG9wdHMpLGJ1ZmZlcixjYWxsYmFjayl9O2V4cG9ydHMuZGVmbGF0ZVN5bmM9ZnVuY3Rpb24oYnVmZmVyLG9wdHMpe3JldHVybiB6bGliQnVmZmVyU3luYyhuZXcgRGVmbGF0ZShvcHRzKSxidWZmZXIpfTtleHBvcnRzLmd6aXA9ZnVuY3Rpb24oYnVmZmVyLG9wdHMsY2FsbGJhY2spe2lmKHR5cGVvZiBvcHRzPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2s9b3B0cztvcHRzPXt9fXJldHVybiB6bGliQnVmZmVyKG5ldyBHemlwKG9wdHMpLGJ1ZmZlcixjYWxsYmFjayl9O2V4cG9ydHMuZ3ppcFN5bmM9ZnVuY3Rpb24oYnVmZmVyLG9wdHMpe3JldHVybiB6bGliQnVmZmVyU3luYyhuZXcgR3ppcChvcHRzKSxidWZmZXIpfTtleHBvcnRzLmRlZmxhdGVSYXc9ZnVuY3Rpb24oYnVmZmVyLG9wdHMsY2FsbGJhY2spe2lmKHR5cGVvZiBvcHRzPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2s9b3B0cztvcHRzPXt9fXJldHVybiB6bGliQnVmZmVyKG5ldyBEZWZsYXRlUmF3KG9wdHMpLGJ1ZmZlcixjYWxsYmFjayl9O2V4cG9ydHMuZGVmbGF0ZVJhd1N5bmM9ZnVuY3Rpb24oYnVmZmVyLG9wdHMpe3JldHVybiB6bGliQnVmZmVyU3luYyhuZXcgRGVmbGF0ZVJhdyhvcHRzKSxidWZmZXIpfTtleHBvcnRzLnVuemlwPWZ1bmN0aW9uKGJ1ZmZlcixvcHRzLGNhbGxiYWNrKXtpZih0eXBlb2Ygb3B0cz09PSJmdW5jdGlvbiIpe2NhbGxiYWNrPW9wdHM7b3B0cz17fX1yZXR1cm4gemxpYkJ1ZmZlcihuZXcgVW56aXAob3B0cyksYnVmZmVyLGNhbGxiYWNrKX07ZXhwb3J0cy51bnppcFN5bmM9ZnVuY3Rpb24oYnVmZmVyLG9wdHMpe3JldHVybiB6bGliQnVmZmVyU3luYyhuZXcgVW56aXAob3B0cyksYnVmZmVyKX07ZXhwb3J0cy5pbmZsYXRlPWZ1bmN0aW9uKGJ1ZmZlcixvcHRzLGNhbGxiYWNrKXtpZih0eXBlb2Ygb3B0cz09PSJmdW5jdGlvbiIpe2NhbGxiYWNrPW9wdHM7b3B0cz17fX1yZXR1cm4gemxpYkJ1ZmZlcihuZXcgSW5mbGF0ZShvcHRzKSxidWZmZXIsY2FsbGJhY2spfTtleHBvcnRzLmluZmxhdGVTeW5jPWZ1bmN0aW9uKGJ1ZmZlcixvcHRzKXtyZXR1cm4gemxpYkJ1ZmZlclN5bmMobmV3IEluZmxhdGUob3B0cyksYnVmZmVyKX07ZXhwb3J0cy5ndW56aXA9ZnVuY3Rpb24oYnVmZmVyLG9wdHMsY2FsbGJhY2spe2lmKHR5cGVvZiBvcHRzPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2s9b3B0cztvcHRzPXt9fXJldHVybiB6bGliQnVmZmVyKG5ldyBHdW56aXAob3B0cyksYnVmZmVyLGNhbGxiYWNrKX07ZXhwb3J0cy5ndW56aXBTeW5jPWZ1bmN0aW9uKGJ1ZmZlcixvcHRzKXtyZXR1cm4gemxpYkJ1ZmZlclN5bmMobmV3IEd1bnppcChvcHRzKSxidWZmZXIpfTtleHBvcnRzLmluZmxhdGVSYXc9ZnVuY3Rpb24oYnVmZmVyLG9wdHMsY2FsbGJhY2spe2lmKHR5cGVvZiBvcHRzPT09ImZ1bmN0aW9uIil7Y2FsbGJhY2s9b3B0cztvcHRzPXt9fXJldHVybiB6bGliQnVmZmVyKG5ldyBJbmZsYXRlUmF3KG9wdHMpLGJ1ZmZlcixjYWxsYmFjayl9O2V4cG9ydHMuaW5mbGF0ZVJhd1N5bmM9ZnVuY3Rpb24oYnVmZmVyLG9wdHMpe3JldHVybiB6bGliQnVmZmVyU3luYyhuZXcgSW5mbGF0ZVJhdyhvcHRzKSxidWZmZXIpfTtmdW5jdGlvbiB6bGliQnVmZmVyKGVuZ2luZSxidWZmZXIsY2FsbGJhY2spe3ZhciBidWZmZXJzPVtdO3ZhciBucmVhZD0wO2VuZ2luZS5vbigiZXJyb3IiLG9uRXJyb3IpO2VuZ2luZS5vbigiZW5kIixvbkVuZCk7ZW5naW5lLmVuZChidWZmZXIpO2Zsb3coKTtmdW5jdGlvbiBmbG93KCl7dmFyIGNodW5rO3doaWxlKG51bGwhPT0oY2h1bms9ZW5naW5lLnJlYWQoKSkpe2J1ZmZlcnMucHVzaChjaHVuayk7bnJlYWQrPWNodW5rLmxlbmd0aH1lbmdpbmUub25jZSgicmVhZGFibGUiLGZsb3cpfWZ1bmN0aW9uIG9uRXJyb3IoZXJyKXtlbmdpbmUucmVtb3ZlTGlzdGVuZXIoImVuZCIsb25FbmQpO2VuZ2luZS5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLGZsb3cpO2NhbGxiYWNrKGVycil9ZnVuY3Rpb24gb25FbmQoKXt2YXIgYnVmPUJ1ZmZlci5jb25jYXQoYnVmZmVycyxucmVhZCk7YnVmZmVycz1bXTtjYWxsYmFjayhudWxsLGJ1Zik7ZW5naW5lLmNsb3NlKCl9fWZ1bmN0aW9uIHpsaWJCdWZmZXJTeW5jKGVuZ2luZSxidWZmZXIpe2lmKHR5cGVvZiBidWZmZXI9PT0ic3RyaW5nIilidWZmZXI9bmV3IEJ1ZmZlcihidWZmZXIpO2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmZmVyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJOb3QgYSBzdHJpbmcgb3IgYnVmZmVyIik7dmFyIGZsdXNoRmxhZz1iaW5kaW5nLlpfRklOSVNIO3JldHVybiBlbmdpbmUuX3Byb2Nlc3NDaHVuayhidWZmZXIsZmx1c2hGbGFnKX1mdW5jdGlvbiBEZWZsYXRlKG9wdHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIERlZmxhdGUpKXJldHVybiBuZXcgRGVmbGF0ZShvcHRzKTtabGliLmNhbGwodGhpcyxvcHRzLGJpbmRpbmcuREVGTEFURSl9ZnVuY3Rpb24gSW5mbGF0ZShvcHRzKXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbmZsYXRlKSlyZXR1cm4gbmV3IEluZmxhdGUob3B0cyk7WmxpYi5jYWxsKHRoaXMsb3B0cyxiaW5kaW5nLklORkxBVEUpfWZ1bmN0aW9uIEd6aXAob3B0cyl7aWYoISh0aGlzIGluc3RhbmNlb2YgR3ppcCkpcmV0dXJuIG5ldyBHemlwKG9wdHMpO1psaWIuY2FsbCh0aGlzLG9wdHMsYmluZGluZy5HWklQKX1mdW5jdGlvbiBHdW56aXAob3B0cyl7aWYoISh0aGlzIGluc3RhbmNlb2YgR3VuemlwKSlyZXR1cm4gbmV3IEd1bnppcChvcHRzKTtabGliLmNhbGwodGhpcyxvcHRzLGJpbmRpbmcuR1VOWklQKX1mdW5jdGlvbiBEZWZsYXRlUmF3KG9wdHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIERlZmxhdGVSYXcpKXJldHVybiBuZXcgRGVmbGF0ZVJhdyhvcHRzKTtabGliLmNhbGwodGhpcyxvcHRzLGJpbmRpbmcuREVGTEFURVJBVyl9ZnVuY3Rpb24gSW5mbGF0ZVJhdyhvcHRzKXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbmZsYXRlUmF3KSlyZXR1cm4gbmV3IEluZmxhdGVSYXcob3B0cyk7WmxpYi5jYWxsKHRoaXMsb3B0cyxiaW5kaW5nLklORkxBVEVSQVcpfWZ1bmN0aW9uIFVuemlwKG9wdHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFVuemlwKSlyZXR1cm4gbmV3IFVuemlwKG9wdHMpO1psaWIuY2FsbCh0aGlzLG9wdHMsYmluZGluZy5VTlpJUCl9ZnVuY3Rpb24gWmxpYihvcHRzLG1vZGUpe3RoaXMuX29wdHM9b3B0cz1vcHRzfHx7fTt0aGlzLl9jaHVua1NpemU9b3B0cy5jaHVua1NpemV8fGV4cG9ydHMuWl9ERUZBVUxUX0NIVU5LO1RyYW5zZm9ybS5jYWxsKHRoaXMsb3B0cyk7aWYob3B0cy5mbHVzaCl7aWYob3B0cy5mbHVzaCE9PWJpbmRpbmcuWl9OT19GTFVTSCYmb3B0cy5mbHVzaCE9PWJpbmRpbmcuWl9QQVJUSUFMX0ZMVVNIJiZvcHRzLmZsdXNoIT09YmluZGluZy5aX1NZTkNfRkxVU0gmJm9wdHMuZmx1c2ghPT1iaW5kaW5nLlpfRlVMTF9GTFVTSCYmb3B0cy5mbHVzaCE9PWJpbmRpbmcuWl9GSU5JU0gmJm9wdHMuZmx1c2ghPT1iaW5kaW5nLlpfQkxPQ0spe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBmbHVzaCBmbGFnOiAiK29wdHMuZmx1c2gpfX10aGlzLl9mbHVzaEZsYWc9b3B0cy5mbHVzaHx8YmluZGluZy5aX05PX0ZMVVNIO2lmKG9wdHMuY2h1bmtTaXplKXtpZihvcHRzLmNodW5rU2l6ZTxleHBvcnRzLlpfTUlOX0NIVU5LfHxvcHRzLmNodW5rU2l6ZT5leHBvcnRzLlpfTUFYX0NIVU5LKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY2h1bmsgc2l6ZTogIitvcHRzLmNodW5rU2l6ZSl9fWlmKG9wdHMud2luZG93Qml0cyl7aWYob3B0cy53aW5kb3dCaXRzPGV4cG9ydHMuWl9NSU5fV0lORE9XQklUU3x8b3B0cy53aW5kb3dCaXRzPmV4cG9ydHMuWl9NQVhfV0lORE9XQklUUyl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHdpbmRvd0JpdHM6ICIrb3B0cy53aW5kb3dCaXRzKX19aWYob3B0cy5sZXZlbCl7aWYob3B0cy5sZXZlbDxleHBvcnRzLlpfTUlOX0xFVkVMfHxvcHRzLmxldmVsPmV4cG9ydHMuWl9NQVhfTEVWRUwpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb21wcmVzc2lvbiBsZXZlbDogIitvcHRzLmxldmVsKX19aWYob3B0cy5tZW1MZXZlbCl7aWYob3B0cy5tZW1MZXZlbDxleHBvcnRzLlpfTUlOX01FTUxFVkVMfHxvcHRzLm1lbUxldmVsPmV4cG9ydHMuWl9NQVhfTUVNTEVWRUwpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBtZW1MZXZlbDogIitvcHRzLm1lbUxldmVsKX19aWYob3B0cy5zdHJhdGVneSl7aWYob3B0cy5zdHJhdGVneSE9ZXhwb3J0cy5aX0ZJTFRFUkVEJiZvcHRzLnN0cmF0ZWd5IT1leHBvcnRzLlpfSFVGRk1BTl9PTkxZJiZvcHRzLnN0cmF0ZWd5IT1leHBvcnRzLlpfUkxFJiZvcHRzLnN0cmF0ZWd5IT1leHBvcnRzLlpfRklYRUQmJm9wdHMuc3RyYXRlZ3khPWV4cG9ydHMuWl9ERUZBVUxUX1NUUkFURUdZKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyYXRlZ3k6ICIrb3B0cy5zdHJhdGVneSl9fWlmKG9wdHMuZGljdGlvbmFyeSl7aWYoIUJ1ZmZlci5pc0J1ZmZlcihvcHRzLmRpY3Rpb25hcnkpKXt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGljdGlvbmFyeTogaXQgc2hvdWxkIGJlIGEgQnVmZmVyIGluc3RhbmNlIil9fXRoaXMuX2JpbmRpbmc9bmV3IGJpbmRpbmcuWmxpYihtb2RlKTt2YXIgc2VsZj10aGlzO3RoaXMuX2hhZEVycm9yPWZhbHNlO3RoaXMuX2JpbmRpbmcub25lcnJvcj1mdW5jdGlvbihtZXNzYWdlLGVycm5vKXtzZWxmLl9iaW5kaW5nPW51bGw7c2VsZi5faGFkRXJyb3I9dHJ1ZTt2YXIgZXJyb3I9bmV3IEVycm9yKG1lc3NhZ2UpO2Vycm9yLmVycm5vPWVycm5vO2Vycm9yLmNvZGU9ZXhwb3J0cy5jb2Rlc1tlcnJub107c2VsZi5lbWl0KCJlcnJvciIsZXJyb3IpfTt2YXIgbGV2ZWw9ZXhwb3J0cy5aX0RFRkFVTFRfQ09NUFJFU1NJT047aWYodHlwZW9mIG9wdHMubGV2ZWw9PT0ibnVtYmVyIilsZXZlbD1vcHRzLmxldmVsO3ZhciBzdHJhdGVneT1leHBvcnRzLlpfREVGQVVMVF9TVFJBVEVHWTtpZih0eXBlb2Ygb3B0cy5zdHJhdGVneT09PSJudW1iZXIiKXN0cmF0ZWd5PW9wdHMuc3RyYXRlZ3k7dGhpcy5fYmluZGluZy5pbml0KG9wdHMud2luZG93Qml0c3x8ZXhwb3J0cy5aX0RFRkFVTFRfV0lORE9XQklUUyxsZXZlbCxvcHRzLm1lbUxldmVsfHxleHBvcnRzLlpfREVGQVVMVF9NRU1MRVZFTCxzdHJhdGVneSxvcHRzLmRpY3Rpb25hcnkpO3RoaXMuX2J1ZmZlcj1uZXcgQnVmZmVyKHRoaXMuX2NodW5rU2l6ZSk7dGhpcy5fb2Zmc2V0PTA7dGhpcy5fY2xvc2VkPWZhbHNlO3RoaXMuX2xldmVsPWxldmVsO3RoaXMuX3N0cmF0ZWd5PXN0cmF0ZWd5O3RoaXMub25jZSgiZW5kIix0aGlzLmNsb3NlKX11dGlsLmluaGVyaXRzKFpsaWIsVHJhbnNmb3JtKTtabGliLnByb3RvdHlwZS5wYXJhbXM9ZnVuY3Rpb24obGV2ZWwsc3RyYXRlZ3ksY2FsbGJhY2spe2lmKGxldmVsPGV4cG9ydHMuWl9NSU5fTEVWRUx8fGxldmVsPmV4cG9ydHMuWl9NQVhfTEVWRUwpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIGNvbXByZXNzaW9uIGxldmVsOiAiK2xldmVsKX1pZihzdHJhdGVneSE9ZXhwb3J0cy5aX0ZJTFRFUkVEJiZzdHJhdGVneSE9ZXhwb3J0cy5aX0hVRkZNQU5fT05MWSYmc3RyYXRlZ3khPWV4cG9ydHMuWl9STEUmJnN0cmF0ZWd5IT1leHBvcnRzLlpfRklYRUQmJnN0cmF0ZWd5IT1leHBvcnRzLlpfREVGQVVMVF9TVFJBVEVHWSl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBzdHJhdGVneTogIitzdHJhdGVneSl9aWYodGhpcy5fbGV2ZWwhPT1sZXZlbHx8dGhpcy5fc3RyYXRlZ3khPT1zdHJhdGVneSl7dmFyIHNlbGY9dGhpczt0aGlzLmZsdXNoKGJpbmRpbmcuWl9TWU5DX0ZMVVNILGZ1bmN0aW9uKCl7c2VsZi5fYmluZGluZy5wYXJhbXMobGV2ZWwsc3RyYXRlZ3kpO2lmKCFzZWxmLl9oYWRFcnJvcil7c2VsZi5fbGV2ZWw9bGV2ZWw7c2VsZi5fc3RyYXRlZ3k9c3RyYXRlZ3k7aWYoY2FsbGJhY2spY2FsbGJhY2soKX19KX1lbHNle3Byb2Nlc3MubmV4dFRpY2soY2FsbGJhY2spfX07WmxpYi5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmluZGluZy5yZXNldCgpfTtabGliLnByb3RvdHlwZS5fZmx1c2g9ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuX3RyYW5zZm9ybShuZXcgQnVmZmVyKDApLCIiLGNhbGxiYWNrKX07WmxpYi5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oa2luZCxjYWxsYmFjayl7dmFyIHdzPXRoaXMuX3dyaXRhYmxlU3RhdGU7aWYodHlwZW9mIGtpbmQ9PT0iZnVuY3Rpb24ifHxraW5kPT09dm9pZCAwJiYhY2FsbGJhY2spe2NhbGxiYWNrPWtpbmQ7a2luZD1iaW5kaW5nLlpfRlVMTF9GTFVTSH1pZih3cy5lbmRlZCl7aWYoY2FsbGJhY2spcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjayl9ZWxzZSBpZih3cy5lbmRpbmcpe2lmKGNhbGxiYWNrKXRoaXMub25jZSgiZW5kIixjYWxsYmFjayl9ZWxzZSBpZih3cy5uZWVkRHJhaW4pe3ZhciBzZWxmPXRoaXM7dGhpcy5vbmNlKCJkcmFpbiIsZnVuY3Rpb24oKXtzZWxmLmZsdXNoKGNhbGxiYWNrKX0pfWVsc2V7dGhpcy5fZmx1c2hGbGFnPWtpbmQ7dGhpcy53cml0ZShuZXcgQnVmZmVyKDApLCIiLGNhbGxiYWNrKX19O1psaWIucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZihjYWxsYmFjaylwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNrKTtpZih0aGlzLl9jbG9zZWQpcmV0dXJuO3RoaXMuX2Nsb3NlZD10cnVlO3RoaXMuX2JpbmRpbmcuY2xvc2UoKTt2YXIgc2VsZj10aGlzO3Byb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtzZWxmLmVtaXQoImNsb3NlIil9KX07WmxpYi5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIGZsdXNoRmxhZzt2YXIgd3M9dGhpcy5fd3JpdGFibGVTdGF0ZTt2YXIgZW5kaW5nPXdzLmVuZGluZ3x8d3MuZW5kZWQ7dmFyIGxhc3Q9ZW5kaW5nJiYoIWNodW5rfHx3cy5sZW5ndGg9PT1jaHVuay5sZW5ndGgpO2lmKCFjaHVuaz09PW51bGwmJiFCdWZmZXIuaXNCdWZmZXIoY2h1bmspKXJldHVybiBjYihuZXcgRXJyb3IoImludmFsaWQgaW5wdXQiKSk7aWYobGFzdClmbHVzaEZsYWc9YmluZGluZy5aX0ZJTklTSDtlbHNle2ZsdXNoRmxhZz10aGlzLl9mbHVzaEZsYWc7aWYoY2h1bmsubGVuZ3RoPj13cy5sZW5ndGgpe3RoaXMuX2ZsdXNoRmxhZz10aGlzLl9vcHRzLmZsdXNofHxiaW5kaW5nLlpfTk9fRkxVU0h9fXZhciBzZWxmPXRoaXM7dGhpcy5fcHJvY2Vzc0NodW5rKGNodW5rLGZsdXNoRmxhZyxjYil9O1psaWIucHJvdG90eXBlLl9wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmssZmx1c2hGbGFnLGNiKXt2YXIgYXZhaWxJbkJlZm9yZT1jaHVuayYmY2h1bmsubGVuZ3RoO3ZhciBhdmFpbE91dEJlZm9yZT10aGlzLl9jaHVua1NpemUtdGhpcy5fb2Zmc2V0O3ZhciBpbk9mZj0wO3ZhciBzZWxmPXRoaXM7dmFyIGFzeW5jPXR5cGVvZiBjYj09PSJmdW5jdGlvbiI7aWYoIWFzeW5jKXt2YXIgYnVmZmVycz1bXTt2YXIgbnJlYWQ9MDt2YXIgZXJyb3I7dGhpcy5vbigiZXJyb3IiLGZ1bmN0aW9uKGVyKXtlcnJvcj1lcn0pO2Rve3ZhciByZXM9dGhpcy5fYmluZGluZy53cml0ZVN5bmMoZmx1c2hGbGFnLGNodW5rLGluT2ZmLGF2YWlsSW5CZWZvcmUsdGhpcy5fYnVmZmVyLHRoaXMuX29mZnNldCxhdmFpbE91dEJlZm9yZSl9d2hpbGUoIXRoaXMuX2hhZEVycm9yJiZjYWxsYmFjayhyZXNbMF0scmVzWzFdKSk7aWYodGhpcy5faGFkRXJyb3Ipe3Rocm93IGVycm9yfXZhciBidWY9QnVmZmVyLmNvbmNhdChidWZmZXJzLG5yZWFkKTt0aGlzLmNsb3NlKCk7cmV0dXJuIGJ1Zn12YXIgcmVxPXRoaXMuX2JpbmRpbmcud3JpdGUoZmx1c2hGbGFnLGNodW5rLGluT2ZmLGF2YWlsSW5CZWZvcmUsdGhpcy5fYnVmZmVyLHRoaXMuX29mZnNldCxhdmFpbE91dEJlZm9yZSk7cmVxLmJ1ZmZlcj1jaHVuaztyZXEuY2FsbGJhY2s9Y2FsbGJhY2s7ZnVuY3Rpb24gY2FsbGJhY2soYXZhaWxJbkFmdGVyLGF2YWlsT3V0QWZ0ZXIpe2lmKHNlbGYuX2hhZEVycm9yKXJldHVybjt2YXIgaGF2ZT1hdmFpbE91dEJlZm9yZS1hdmFpbE91dEFmdGVyO2Fzc2VydChoYXZlPj0wLCJoYXZlIHNob3VsZCBub3QgZ28gZG93biIpO2lmKGhhdmU+MCl7dmFyIG91dD1zZWxmLl9idWZmZXIuc2xpY2Uoc2VsZi5fb2Zmc2V0LHNlbGYuX29mZnNldCtoYXZlKTtzZWxmLl9vZmZzZXQrPWhhdmU7aWYoYXN5bmMpe3NlbGYucHVzaChvdXQpfWVsc2V7YnVmZmVycy5wdXNoKG91dCk7bnJlYWQrPW91dC5sZW5ndGh9fWlmKGF2YWlsT3V0QWZ0ZXI9PT0wfHxzZWxmLl9vZmZzZXQ+PXNlbGYuX2NodW5rU2l6ZSl7YXZhaWxPdXRCZWZvcmU9c2VsZi5fY2h1bmtTaXplO3NlbGYuX29mZnNldD0wO3NlbGYuX2J1ZmZlcj1uZXcgQnVmZmVyKHNlbGYuX2NodW5rU2l6ZSl9aWYoYXZhaWxPdXRBZnRlcj09PTApe2luT2ZmKz1hdmFpbEluQmVmb3JlLWF2YWlsSW5BZnRlcjthdmFpbEluQmVmb3JlPWF2YWlsSW5BZnRlcjtpZighYXN5bmMpcmV0dXJuIHRydWU7dmFyIG5ld1JlcT1zZWxmLl9iaW5kaW5nLndyaXRlKGZsdXNoRmxhZyxjaHVuayxpbk9mZixhdmFpbEluQmVmb3JlLHNlbGYuX2J1ZmZlcixzZWxmLl9vZmZzZXQsc2VsZi5fY2h1bmtTaXplKTtuZXdSZXEuY2FsbGJhY2s9Y2FsbGJhY2s7bmV3UmVxLmJ1ZmZlcj1jaHVuaztyZXR1cm59aWYoIWFzeW5jKXJldHVybiBmYWxzZTtjYigpfX07dXRpbC5pbmhlcml0cyhEZWZsYXRlLFpsaWIpO3V0aWwuaW5oZXJpdHMoSW5mbGF0ZSxabGliKTt1dGlsLmluaGVyaXRzKEd6aXAsWmxpYik7dXRpbC5pbmhlcml0cyhHdW56aXAsWmxpYik7dXRpbC5pbmhlcml0cyhEZWZsYXRlUmF3LFpsaWIpO3V0aWwuaW5oZXJpdHMoSW5mbGF0ZVJhdyxabGliKTt1dGlsLmluaGVyaXRzKFVuemlwLFpsaWIpfSkuY2FsbCh0aGlzLHJlcXVpcmUoIl9wcm9jZXNzIikscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKX0seyIuL2JpbmRpbmciOjE3MCxfcHJvY2VzczoxOTMsX3N0cmVhbV90cmFuc2Zvcm06MjA1LGFzc2VydDoxNjcsYnVmZmVyOjE3Myx1dGlsOjIxMX1dLDE3MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7KGZ1bmN0aW9uKGdsb2JhbCl7InVzZSBzdHJpY3QiO3ZhciBidWZmZXI9cmVxdWlyZSgiYnVmZmVyIik7dmFyIEJ1ZmZlcj1idWZmZXIuQnVmZmVyO3ZhciBTbG93QnVmZmVyPWJ1ZmZlci5TbG93QnVmZmVyO3ZhciBNQVhfTEVOPWJ1ZmZlci5rTWF4TGVuZ3RofHwyMTQ3NDgzNjQ3O2V4cG9ydHMuYWxsb2M9ZnVuY3Rpb24gYWxsb2Moc2l6ZSxmaWxsLGVuY29kaW5nKXtpZih0eXBlb2YgQnVmZmVyLmFsbG9jPT09ImZ1bmN0aW9uIil7cmV0dXJuIEJ1ZmZlci5hbGxvYyhzaXplLGZpbGwsZW5jb2RpbmcpfWlmKHR5cGVvZiBlbmNvZGluZz09PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IG5vdCBiZSBudW1iZXIiKX1pZih0eXBlb2Ygc2l6ZSE9PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplIG11c3QgYmUgYSBudW1iZXIiKX1pZihzaXplPk1BWF9MRU4pe3Rocm93IG5ldyBSYW5nZUVycm9yKCJzaXplIGlzIHRvbyBsYXJnZSIpfXZhciBlbmM9ZW5jb2Rpbmc7dmFyIF9maWxsPWZpbGw7aWYoX2ZpbGw9PT11bmRlZmluZWQpe2VuYz11bmRlZmluZWQ7X2ZpbGw9MH12YXIgYnVmPW5ldyBCdWZmZXIoc2l6ZSk7aWYodHlwZW9mIF9maWxsPT09InN0cmluZyIpe3ZhciBmaWxsQnVmPW5ldyBCdWZmZXIoX2ZpbGwsZW5jKTt2YXIgZmxlbj1maWxsQnVmLmxlbmd0aDt2YXIgaT0tMTt3aGlsZSgrK2k8c2l6ZSl7YnVmW2ldPWZpbGxCdWZbaSVmbGVuXX19ZWxzZXtidWYuZmlsbChfZmlsbCl9cmV0dXJuIGJ1Zn07ZXhwb3J0cy5hbGxvY1Vuc2FmZT1mdW5jdGlvbiBhbGxvY1Vuc2FmZShzaXplKXtpZih0eXBlb2YgQnVmZmVyLmFsbG9jVW5zYWZlPT09ImZ1bmN0aW9uIil7cmV0dXJuIEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKX1pZih0eXBlb2Ygc2l6ZSE9PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplIG11c3QgYmUgYSBudW1iZXIiKX1pZihzaXplPk1BWF9MRU4pe3Rocm93IG5ldyBSYW5nZUVycm9yKCJzaXplIGlzIHRvbyBsYXJnZSIpfXJldHVybiBuZXcgQnVmZmVyKHNpemUpfTtleHBvcnRzLmZyb209ZnVuY3Rpb24gZnJvbSh2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7aWYodHlwZW9mIEJ1ZmZlci5mcm9tPT09ImZ1bmN0aW9uIiYmKCFnbG9iYWwuVWludDhBcnJheXx8VWludDhBcnJheS5mcm9tIT09QnVmZmVyLmZyb20pKXtyZXR1cm4gQnVmZmVyLmZyb20odmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfWlmKHR5cGVvZiB2YWx1ZT09PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyl9aWYodHlwZW9mIHZhbHVlPT09InN0cmluZyIpe3JldHVybiBuZXcgQnVmZmVyKHZhbHVlLGVuY29kaW5nT3JPZmZzZXQpfWlmKHR5cGVvZiBBcnJheUJ1ZmZlciE9PSJ1bmRlZmluZWQiJiZ2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgb2Zmc2V0PWVuY29kaW5nT3JPZmZzZXQ7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe3JldHVybiBuZXcgQnVmZmVyKHZhbHVlKX1pZih0eXBlb2Ygb2Zmc2V0PT09InVuZGVmaW5lZCIpe29mZnNldD0wfXZhciBsZW49bGVuZ3RoO2lmKHR5cGVvZiBsZW49PT0idW5kZWZpbmVkIil7bGVuPXZhbHVlLmJ5dGVMZW5ndGgtb2Zmc2V0fWlmKG9mZnNldD49dmFsdWUuYnl0ZUxlbmd0aCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKX1pZihsZW4+dmFsdWUuYnl0ZUxlbmd0aC1vZmZzZXQpe3Rocm93IG5ldyBSYW5nZUVycm9yKCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzIil9cmV0dXJuIG5ldyBCdWZmZXIodmFsdWUuc2xpY2Uob2Zmc2V0LG9mZnNldCtsZW4pKX1pZihCdWZmZXIuaXNCdWZmZXIodmFsdWUpKXt2YXIgb3V0PW5ldyBCdWZmZXIodmFsdWUubGVuZ3RoKTt2YWx1ZS5jb3B5KG91dCwwLDAsdmFsdWUubGVuZ3RoKTtyZXR1cm4gb3V0fWlmKHZhbHVlKXtpZihBcnJheS5pc0FycmF5KHZhbHVlKXx8dHlwZW9mIEFycmF5QnVmZmVyIT09InVuZGVmaW5lZCImJnZhbHVlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIHZhbHVlKXtyZXR1cm4gbmV3IEJ1ZmZlcih2YWx1ZSl9aWYodmFsdWUudHlwZT09PSJCdWZmZXIiJiZBcnJheS5pc0FycmF5KHZhbHVlLmRhdGEpKXtyZXR1cm4gbmV3IEJ1ZmZlcih2YWx1ZS5kYXRhKX19dGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCAiKyJBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LiIpfTtleHBvcnRzLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbiBhbGxvY1Vuc2FmZVNsb3coc2l6ZSl7aWYodHlwZW9mIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3c9PT0iZnVuY3Rpb24iKXtyZXR1cm4gQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyhzaXplKX1pZih0eXBlb2Ygc2l6ZSE9PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplIG11c3QgYmUgYSBudW1iZXIiKX1pZihzaXplPj1NQVhfTEVOKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcigic2l6ZSBpcyB0b28gbGFyZ2UiKX1yZXR1cm4gbmV3IFNsb3dCdWZmZXIoc2l6ZSl9fSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwhPT0idW5kZWZpbmVkIj9nbG9iYWw6dHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIj9zZWxmOnR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIj93aW5kb3c6e30pfSx7YnVmZmVyOjE3M31dLDE3MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBiYXNlNjQ9cmVxdWlyZSgiYmFzZTY0LWpzIik7dmFyIGllZWU3NTQ9cmVxdWlyZSgiaWVlZTc1NCIpO2V4cG9ydHMuQnVmZmVyPUJ1ZmZlcjtleHBvcnRzLlNsb3dCdWZmZXI9U2xvd0J1ZmZlcjtleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTPTUwO3ZhciBLX01BWF9MRU5HVEg9MjE0NzQ4MzY0NztleHBvcnRzLmtNYXhMZW5ndGg9S19NQVhfTEVOR1RIO0J1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPXR5cGVkQXJyYXlTdXBwb3J0KCk7aWYoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZ0eXBlb2YgY29uc29sZSE9PSJ1bmRlZmluZWQiJiZ0eXBlb2YgY29uc29sZS5lcnJvcj09PSJmdW5jdGlvbiIpe2NvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAiKyJgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LiIpfWZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0KCl7dHJ5e3ZhciBhcnI9bmV3IFVpbnQ4QXJyYXkoMSk7YXJyLl9fcHJvdG9fXz17X19wcm90b19fOlVpbnQ4QXJyYXkucHJvdG90eXBlLGZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBhcnIuZm9vKCk9PT00Mn1jYXRjaChlKXtyZXR1cm4gZmFsc2V9fWZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihsZW5ndGgpe2lmKGxlbmd0aD5LX01BWF9MRU5HVEgpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCIpfXZhciBidWY9bmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtidWYuX19wcm90b19fPUJ1ZmZlci5wcm90b3R5cGU7cmV0dXJuIGJ1Zn1mdW5jdGlvbiBCdWZmZXIoYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtpZih0eXBlb2YgYXJnPT09Im51bWJlciIpe2lmKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0PT09InN0cmluZyIpe3Rocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKX1yZXR1cm4gYWxsb2NVbnNhZmUoYXJnKX1yZXR1cm4gZnJvbShhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfWlmKHR5cGVvZiBTeW1ib2whPT0idW5kZWZpbmVkIiYmU3ltYm9sLnNwZWNpZXMmJkJ1ZmZlcltTeW1ib2wuc3BlY2llc109PT1CdWZmZXIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTpmYWxzZX0pfUJ1ZmZlci5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIGZyb20odmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe2lmKHR5cGVvZiB2YWx1ZT09PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyl9aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7cmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9aWYodHlwZW9mIHZhbHVlPT09InN0cmluZyIpe3JldHVybiBmcm9tU3RyaW5nKHZhbHVlLGVuY29kaW5nT3JPZmZzZXQpfXJldHVybiBmcm9tT2JqZWN0KHZhbHVlKX1CdWZmZXIuZnJvbT1mdW5jdGlvbih2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGZyb20odmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfTtCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZTtCdWZmZXIuX19wcm90b19fPVVpbnQ4QXJyYXk7ZnVuY3Rpb24gYXNzZXJ0U2l6ZShzaXplKXtpZih0eXBlb2Ygc2l6ZSE9PSJudW1iZXIiKXt0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpfWVsc2UgaWYoc2l6ZTwwKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9fWZ1bmN0aW9uIGFsbG9jKHNpemUsZmlsbCxlbmNvZGluZyl7YXNzZXJ0U2l6ZShzaXplKTtpZihzaXplPD0wKXtyZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpfWlmKGZpbGwhPT11bmRlZmluZWQpe3JldHVybiB0eXBlb2YgZW5jb2Rpbmc9PT0ic3RyaW5nIj9jcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLGVuY29kaW5nKTpjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKX1yZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpfUJ1ZmZlci5hbGxvYz1mdW5jdGlvbihzaXplLGZpbGwsZW5jb2Rpbmcpe3JldHVybiBhbGxvYyhzaXplLGZpbGwsZW5jb2RpbmcpfTtmdW5jdGlvbiBhbGxvY1Vuc2FmZShzaXplKXthc3NlcnRTaXplKHNpemUpO3JldHVybiBjcmVhdGVCdWZmZXIoc2l6ZTwwPzA6Y2hlY2tlZChzaXplKXwwKX1CdWZmZXIuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oc2l6ZSl7cmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpfTtCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHNpemUpe3JldHVybiBhbGxvY1Vuc2FmZShzaXplKX07ZnVuY3Rpb24gZnJvbVN0cmluZyhzdHJpbmcsZW5jb2Rpbmcpe2lmKHR5cGVvZiBlbmNvZGluZyE9PSJzdHJpbmcifHxlbmNvZGluZz09PSIiKXtlbmNvZGluZz0idXRmOCJ9aWYoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignImVuY29kaW5nIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyl9dmFyIGxlbmd0aD1ieXRlTGVuZ3RoKHN0cmluZyxlbmNvZGluZyl8MDt2YXIgYnVmPWNyZWF0ZUJ1ZmZlcihsZW5ndGgpO3ZhciBhY3R1YWw9YnVmLndyaXRlKHN0cmluZyxlbmNvZGluZyk7aWYoYWN0dWFsIT09bGVuZ3RoKXtidWY9YnVmLnNsaWNlKDAsYWN0dWFsKX1yZXR1cm4gYnVmfWZ1bmN0aW9uIGZyb21BcnJheUxpa2UoYXJyYXkpe3ZhciBsZW5ndGg9YXJyYXkubGVuZ3RoPDA/MDpjaGVja2VkKGFycmF5Lmxlbmd0aCl8MDt2YXIgYnVmPWNyZWF0ZUJ1ZmZlcihsZW5ndGgpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krPTEpe2J1ZltpXT1hcnJheVtpXSYyNTV9cmV0dXJuIGJ1Zn1mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIoYXJyYXksYnl0ZU9mZnNldCxsZW5ndGgpe2lmKGJ5dGVPZmZzZXQ8MHx8YXJyYXkuYnl0ZUxlbmd0aDxieXRlT2Zmc2V0KXt0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpfWlmKGFycmF5LmJ5dGVMZW5ndGg8Ynl0ZU9mZnNldCsobGVuZ3RofHwwKSl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHMiKX12YXIgYnVmO2lmKGJ5dGVPZmZzZXQ9PT11bmRlZmluZWQmJmxlbmd0aD09PXVuZGVmaW5lZCl7YnVmPW5ldyBVaW50OEFycmF5KGFycmF5KX1lbHNlIGlmKGxlbmd0aD09PXVuZGVmaW5lZCl7YnVmPW5ldyBVaW50OEFycmF5KGFycmF5LGJ5dGVPZmZzZXQpfWVsc2V7YnVmPW5ldyBVaW50OEFycmF5KGFycmF5LGJ5dGVPZmZzZXQsbGVuZ3RoKX1idWYuX19wcm90b19fPUJ1ZmZlci5wcm90b3R5cGU7cmV0dXJuIGJ1Zn1mdW5jdGlvbiBmcm9tT2JqZWN0KG9iail7aWYoQnVmZmVyLmlzQnVmZmVyKG9iaikpe3ZhciBsZW49Y2hlY2tlZChvYmoubGVuZ3RoKXwwO3ZhciBidWY9Y3JlYXRlQnVmZmVyKGxlbik7aWYoYnVmLmxlbmd0aD09PTApe3JldHVybiBidWZ9b2JqLmNvcHkoYnVmLDAsMCxsZW4pO3JldHVybiBidWZ9aWYob2JqKXtpZihpc0FycmF5QnVmZmVyVmlldyhvYmopfHwibGVuZ3RoImluIG9iail7aWYodHlwZW9mIG9iai5sZW5ndGghPT0ibnVtYmVyInx8bnVtYmVySXNOYU4ob2JqLmxlbmd0aCkpe3JldHVybiBjcmVhdGVCdWZmZXIoMCl9cmV0dXJuIGZyb21BcnJheUxpa2Uob2JqKX1pZihvYmoudHlwZT09PSJCdWZmZXIiJiZBcnJheS5pc0FycmF5KG9iai5kYXRhKSl7cmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpfX10aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuIil9ZnVuY3Rpb24gY2hlY2tlZChsZW5ndGgpe2lmKGxlbmd0aD49S19NQVhfTEVOR1RIKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAiKyJzaXplOiAweCIrS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSsiIGJ5dGVzIil9cmV0dXJuIGxlbmd0aHwwfWZ1bmN0aW9uIFNsb3dCdWZmZXIobGVuZ3RoKXtpZigrbGVuZ3RoIT1sZW5ndGgpe2xlbmd0aD0wfXJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aCl9QnVmZmVyLmlzQnVmZmVyPWZ1bmN0aW9uIGlzQnVmZmVyKGIpe3JldHVybiBiIT1udWxsJiZiLl9pc0J1ZmZlcj09PXRydWV9O0J1ZmZlci5jb21wYXJlPWZ1bmN0aW9uIGNvbXBhcmUoYSxiKXtpZighQnVmZmVyLmlzQnVmZmVyKGEpfHwhQnVmZmVyLmlzQnVmZmVyKGIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIil9aWYoYT09PWIpcmV0dXJuIDA7dmFyIHg9YS5sZW5ndGg7dmFyIHk9Yi5sZW5ndGg7Zm9yKHZhciBpPTAsbGVuPU1hdGgubWluKHgseSk7aTxsZW47KytpKXtpZihhW2ldIT09YltpXSl7eD1hW2ldO3k9YltpXTticmVha319aWYoeDx5KXJldHVybi0xO2lmKHk8eClyZXR1cm4gMTtyZXR1cm4gMH07QnVmZmVyLmlzRW5jb2Rpbmc9ZnVuY3Rpb24gaXNFbmNvZGluZyhlbmNvZGluZyl7c3dpdGNoKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiB0cnVlO2RlZmF1bHQ6cmV0dXJuIGZhbHNlfX07QnVmZmVyLmNvbmNhdD1mdW5jdGlvbiBjb25jYXQobGlzdCxsZW5ndGgpe2lmKCFBcnJheS5pc0FycmF5KGxpc3QpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyl9aWYobGlzdC5sZW5ndGg9PT0wKXtyZXR1cm4gQnVmZmVyLmFsbG9jKDApfXZhciBpO2lmKGxlbmd0aD09PXVuZGVmaW5lZCl7bGVuZ3RoPTA7Zm9yKGk9MDtpPGxpc3QubGVuZ3RoOysraSl7bGVuZ3RoKz1saXN0W2ldLmxlbmd0aH19dmFyIGJ1ZmZlcj1CdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKTt2YXIgcG9zPTA7Zm9yKGk9MDtpPGxpc3QubGVuZ3RoOysraSl7dmFyIGJ1Zj1saXN0W2ldO2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSl7dGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpfWJ1Zi5jb3B5KGJ1ZmZlcixwb3MpO3Bvcys9YnVmLmxlbmd0aH1yZXR1cm4gYnVmZmVyfTtmdW5jdGlvbiBieXRlTGVuZ3RoKHN0cmluZyxlbmNvZGluZyl7aWYoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpe3JldHVybiBzdHJpbmcubGVuZ3RofWlmKGlzQXJyYXlCdWZmZXJWaWV3KHN0cmluZyl8fHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtyZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGh9aWYodHlwZW9mIHN0cmluZyE9PSJzdHJpbmciKXtzdHJpbmc9IiIrc3RyaW5nfXZhciBsZW49c3RyaW5nLmxlbmd0aDtpZihsZW49PT0wKXJldHVybiAwO3ZhciBsb3dlcmVkQ2FzZT1mYWxzZTtmb3IoOzspe3N3aXRjaChlbmNvZGluZyl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gbGVuO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSB1bmRlZmluZWQ6cmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gbGVuKjI7Y2FzZSJoZXgiOnJldHVybiBsZW4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aDtkZWZhdWx0OmlmKGxvd2VyZWRDYXNlKXJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aDtlbmNvZGluZz0oIiIrZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7bG93ZXJlZENhc2U9dHJ1ZX19fUJ1ZmZlci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGg7ZnVuY3Rpb24gc2xvd1RvU3RyaW5nKGVuY29kaW5nLHN0YXJ0LGVuZCl7dmFyIGxvd2VyZWRDYXNlPWZhbHNlO2lmKHN0YXJ0PT09dW5kZWZpbmVkfHxzdGFydDwwKXtzdGFydD0wfWlmKHN0YXJ0PnRoaXMubGVuZ3RoKXtyZXR1cm4iIn1pZihlbmQ9PT11bmRlZmluZWR8fGVuZD50aGlzLmxlbmd0aCl7ZW5kPXRoaXMubGVuZ3RofWlmKGVuZDw9MCl7cmV0dXJuIiJ9ZW5kPj4+PTA7c3RhcnQ+Pj49MDtpZihlbmQ8PXN0YXJ0KXtyZXR1cm4iIn1pZighZW5jb2RpbmcpZW5jb2Rpbmc9InV0ZjgiO3doaWxlKHRydWUpe3N3aXRjaChlbmNvZGluZyl7Y2FzZSJoZXgiOnJldHVybiBoZXhTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gdXRmOFNsaWNlKHRoaXMsc3RhcnQsZW5kKTtjYXNlImFzY2lpIjpyZXR1cm4gYXNjaWlTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gbGF0aW4xU2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gYmFzZTY0U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsc3RhcnQsZW5kKTtkZWZhdWx0OmlmKGxvd2VyZWRDYXNlKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZW5jb2RpbmcpO2VuY29kaW5nPShlbmNvZGluZysiIikudG9Mb3dlckNhc2UoKTtsb3dlcmVkQ2FzZT10cnVlfX19QnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXI9dHJ1ZTtmdW5jdGlvbiBzd2FwKGIsbixtKXt2YXIgaT1iW25dO2Jbbl09YlttXTtiW21dPWl9QnVmZmVyLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24gc3dhcDE2KCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lMiE9PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cyIpfWZvcih2YXIgaT0wO2k8bGVuO2krPTIpe3N3YXAodGhpcyxpLGkrMSl9cmV0dXJuIHRoaXN9O0J1ZmZlci5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uIHN3YXAzMigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTQhPT0wKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKX1mb3IodmFyIGk9MDtpPGxlbjtpKz00KXtzd2FwKHRoaXMsaSxpKzMpO3N3YXAodGhpcyxpKzEsaSsyKX1yZXR1cm4gdGhpc307QnVmZmVyLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24gc3dhcDY0KCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lOCE9PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpfWZvcih2YXIgaT0wO2k8bGVuO2krPTgpe3N3YXAodGhpcyxpLGkrNyk7c3dhcCh0aGlzLGkrMSxpKzYpO3N3YXAodGhpcyxpKzIsaSs1KTtzd2FwKHRoaXMsaSszLGkrNCl9cmV0dXJuIHRoaXN9O0J1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24gdG9TdHJpbmcoKXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO2lmKGxlbmd0aD09PTApcmV0dXJuIiI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIHV0ZjhTbGljZSh0aGlzLDAsbGVuZ3RoKTtyZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07QnVmZmVyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24gZXF1YWxzKGIpe2lmKCFCdWZmZXIuaXNCdWZmZXIoYikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO2lmKHRoaXM9PT1iKXJldHVybiB0cnVlO3JldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLGIpPT09MH07QnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uIGluc3BlY3QoKXt2YXIgc3RyPSIiO3ZhciBtYXg9ZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUztpZih0aGlzLmxlbmd0aD4wKXtzdHI9dGhpcy50b1N0cmluZygiaGV4IiwwLG1heCkubWF0Y2goLy57Mn0vZykuam9pbigiICIpO2lmKHRoaXMubGVuZ3RoPm1heClzdHIrPSIgLi4uICJ9cmV0dXJuIjxCdWZmZXIgIitzdHIrIj4ifTtCdWZmZXIucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24gY29tcGFyZSh0YXJnZXQsc3RhcnQsZW5kLHRoaXNTdGFydCx0aGlzRW5kKXtpZighQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKX1pZihzdGFydD09PXVuZGVmaW5lZCl7c3RhcnQ9MH1pZihlbmQ9PT11bmRlZmluZWQpe2VuZD10YXJnZXQ/dGFyZ2V0Lmxlbmd0aDowfWlmKHRoaXNTdGFydD09PXVuZGVmaW5lZCl7dGhpc1N0YXJ0PTB9aWYodGhpc0VuZD09PXVuZGVmaW5lZCl7dGhpc0VuZD10aGlzLmxlbmd0aH1pZihzdGFydDwwfHxlbmQ+dGFyZ2V0Lmxlbmd0aHx8dGhpc1N0YXJ0PDB8fHRoaXNFbmQ+dGhpcy5sZW5ndGgpe3Rocm93IG5ldyBSYW5nZUVycm9yKCJvdXQgb2YgcmFuZ2UgaW5kZXgiKX1pZih0aGlzU3RhcnQ+PXRoaXNFbmQmJnN0YXJ0Pj1lbmQpe3JldHVybiAwfWlmKHRoaXNTdGFydD49dGhpc0VuZCl7cmV0dXJuLTF9aWYoc3RhcnQ+PWVuZCl7cmV0dXJuIDF9c3RhcnQ+Pj49MDtlbmQ+Pj49MDt0aGlzU3RhcnQ+Pj49MDt0aGlzRW5kPj4+PTA7aWYodGhpcz09PXRhcmdldClyZXR1cm4gMDt2YXIgeD10aGlzRW5kLXRoaXNTdGFydDt2YXIgeT1lbmQtc3RhcnQ7dmFyIGxlbj1NYXRoLm1pbih4LHkpO3ZhciB0aGlzQ29weT10aGlzLnNsaWNlKHRoaXNTdGFydCx0aGlzRW5kKTt2YXIgdGFyZ2V0Q29weT10YXJnZXQuc2xpY2Uoc3RhcnQsZW5kKTtmb3IodmFyIGk9MDtpPGxlbjsrK2kpe2lmKHRoaXNDb3B5W2ldIT09dGFyZ2V0Q29weVtpXSl7eD10aGlzQ29weVtpXTt5PXRhcmdldENvcHlbaV07YnJlYWt9fWlmKHg8eSlyZXR1cm4tMTtpZih5PHgpcmV0dXJuIDE7cmV0dXJuIDB9O2Z1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpe2lmKGJ1ZmZlci5sZW5ndGg9PT0wKXJldHVybi0xO2lmKHR5cGVvZiBieXRlT2Zmc2V0PT09InN0cmluZyIpe2VuY29kaW5nPWJ5dGVPZmZzZXQ7Ynl0ZU9mZnNldD0wfWVsc2UgaWYoYnl0ZU9mZnNldD4yMTQ3NDgzNjQ3KXtieXRlT2Zmc2V0PTIxNDc0ODM2NDd9ZWxzZSBpZihieXRlT2Zmc2V0PC0yMTQ3NDgzNjQ4KXtieXRlT2Zmc2V0PS0yMTQ3NDgzNjQ4fWJ5dGVPZmZzZXQ9K2J5dGVPZmZzZXQ7aWYobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpe2J5dGVPZmZzZXQ9ZGlyPzA6YnVmZmVyLmxlbmd0aC0xfWlmKGJ5dGVPZmZzZXQ8MClieXRlT2Zmc2V0PWJ1ZmZlci5sZW5ndGgrYnl0ZU9mZnNldDtpZihieXRlT2Zmc2V0Pj1idWZmZXIubGVuZ3RoKXtpZihkaXIpcmV0dXJuLTE7ZWxzZSBieXRlT2Zmc2V0PWJ1ZmZlci5sZW5ndGgtMX1lbHNlIGlmKGJ5dGVPZmZzZXQ8MCl7aWYoZGlyKWJ5dGVPZmZzZXQ9MDtlbHNlIHJldHVybi0xfWlmKHR5cGVvZiB2YWw9PT0ic3RyaW5nIil7dmFsPUJ1ZmZlci5mcm9tKHZhbCxlbmNvZGluZyl9aWYoQnVmZmVyLmlzQnVmZmVyKHZhbCkpe2lmKHZhbC5sZW5ndGg9PT0wKXtyZXR1cm4tMX1yZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpfWVsc2UgaWYodHlwZW9mIHZhbD09PSJudW1iZXIiKXt2YWw9dmFsJjI1NTtpZih0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09PSJmdW5jdGlvbiIpe2lmKGRpcil7cmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsdmFsLGJ5dGVPZmZzZXQpfWVsc2V7cmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLHZhbCxieXRlT2Zmc2V0KX19cmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsW3ZhbF0sYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpfXRocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIGFycmF5SW5kZXhPZihhcnIsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZGlyKXt2YXIgaW5kZXhTaXplPTE7dmFyIGFyckxlbmd0aD1hcnIubGVuZ3RoO3ZhciB2YWxMZW5ndGg9dmFsLmxlbmd0aDtpZihlbmNvZGluZyE9PXVuZGVmaW5lZCl7ZW5jb2Rpbmc9U3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpO2lmKGVuY29kaW5nPT09InVjczIifHxlbmNvZGluZz09PSJ1Y3MtMiJ8fGVuY29kaW5nPT09InV0ZjE2bGUifHxlbmNvZGluZz09PSJ1dGYtMTZsZSIpe2lmKGFyci5sZW5ndGg8Mnx8dmFsLmxlbmd0aDwyKXtyZXR1cm4tMX1pbmRleFNpemU9MjthcnJMZW5ndGgvPTIKO3ZhbExlbmd0aC89MjtieXRlT2Zmc2V0Lz0yfX1mdW5jdGlvbiByZWFkKGJ1ZixpKXtpZihpbmRleFNpemU9PT0xKXtyZXR1cm4gYnVmW2ldfWVsc2V7cmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSppbmRleFNpemUpfX12YXIgaTtpZihkaXIpe3ZhciBmb3VuZEluZGV4PS0xO2ZvcihpPWJ5dGVPZmZzZXQ7aTxhcnJMZW5ndGg7aSsrKXtpZihyZWFkKGFycixpKT09PXJlYWQodmFsLGZvdW5kSW5kZXg9PT0tMT8wOmktZm91bmRJbmRleCkpe2lmKGZvdW5kSW5kZXg9PT0tMSlmb3VuZEluZGV4PWk7aWYoaS1mb3VuZEluZGV4KzE9PT12YWxMZW5ndGgpcmV0dXJuIGZvdW5kSW5kZXgqaW5kZXhTaXplfWVsc2V7aWYoZm91bmRJbmRleCE9PS0xKWktPWktZm91bmRJbmRleDtmb3VuZEluZGV4PS0xfX19ZWxzZXtpZihieXRlT2Zmc2V0K3ZhbExlbmd0aD5hcnJMZW5ndGgpYnl0ZU9mZnNldD1hcnJMZW5ndGgtdmFsTGVuZ3RoO2ZvcihpPWJ5dGVPZmZzZXQ7aT49MDtpLS0pe3ZhciBmb3VuZD10cnVlO2Zvcih2YXIgaj0wO2o8dmFsTGVuZ3RoO2orKyl7aWYocmVhZChhcnIsaStqKSE9PXJlYWQodmFsLGopKXtmb3VuZD1mYWxzZTticmVha319aWYoZm91bmQpcmV0dXJuIGl9fXJldHVybi0xfUJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24gaW5jbHVkZXModmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybiB0aGlzLmluZGV4T2YodmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcpIT09LTF9O0J1ZmZlci5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbiBpbmRleE9mKHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nKXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyx2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyx0cnVlKX07QnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbiBsYXN0SW5kZXhPZih2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyl7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZmFsc2UpfTtmdW5jdGlvbiBoZXhXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe29mZnNldD1OdW1iZXIob2Zmc2V0KXx8MDt2YXIgcmVtYWluaW5nPWJ1Zi5sZW5ndGgtb2Zmc2V0O2lmKCFsZW5ndGgpe2xlbmd0aD1yZW1haW5pbmd9ZWxzZXtsZW5ndGg9TnVtYmVyKGxlbmd0aCk7aWYobGVuZ3RoPnJlbWFpbmluZyl7bGVuZ3RoPXJlbWFpbmluZ319dmFyIHN0ckxlbj1zdHJpbmcubGVuZ3RoO2lmKHN0ckxlbiUyIT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtpZihsZW5ndGg+c3RyTGVuLzIpe2xlbmd0aD1zdHJMZW4vMn1mb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe3ZhciBwYXJzZWQ9cGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpKjIsMiksMTYpO2lmKG51bWJlcklzTmFOKHBhcnNlZCkpcmV0dXJuIGk7YnVmW29mZnNldCtpXT1wYXJzZWR9cmV0dXJuIGl9ZnVuY3Rpb24gdXRmOFdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLGJ1Zi5sZW5ndGgtb2Zmc2V0KSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gYXNjaWlXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBsYXRpbjFXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBhc2NpaVdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gYmFzZTY0V3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksYnVmLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIHVjczJXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZyxidWYubGVuZ3RoLW9mZnNldCksYnVmLG9mZnNldCxsZW5ndGgpfUJ1ZmZlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24gd3JpdGUoc3RyaW5nLG9mZnNldCxsZW5ndGgsZW5jb2Rpbmcpe2lmKG9mZnNldD09PXVuZGVmaW5lZCl7ZW5jb2Rpbmc9InV0ZjgiO2xlbmd0aD10aGlzLmxlbmd0aDtvZmZzZXQ9MH1lbHNlIGlmKGxlbmd0aD09PXVuZGVmaW5lZCYmdHlwZW9mIG9mZnNldD09PSJzdHJpbmciKXtlbmNvZGluZz1vZmZzZXQ7bGVuZ3RoPXRoaXMubGVuZ3RoO29mZnNldD0wfWVsc2UgaWYoaXNGaW5pdGUob2Zmc2V0KSl7b2Zmc2V0PW9mZnNldD4+PjA7aWYoaXNGaW5pdGUobGVuZ3RoKSl7bGVuZ3RoPWxlbmd0aD4+PjA7aWYoZW5jb2Rpbmc9PT11bmRlZmluZWQpZW5jb2Rpbmc9InV0ZjgifWVsc2V7ZW5jb2Rpbmc9bGVuZ3RoO2xlbmd0aD11bmRlZmluZWR9fWVsc2V7dGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpfXZhciByZW1haW5pbmc9dGhpcy5sZW5ndGgtb2Zmc2V0O2lmKGxlbmd0aD09PXVuZGVmaW5lZHx8bGVuZ3RoPnJlbWFpbmluZylsZW5ndGg9cmVtYWluaW5nO2lmKHN0cmluZy5sZW5ndGg+MCYmKGxlbmd0aDwwfHxvZmZzZXQ8MCl8fG9mZnNldD50aGlzLmxlbmd0aCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIil9aWYoIWVuY29kaW5nKWVuY29kaW5nPSJ1dGY4Ijt2YXIgbG93ZXJlZENhc2U9ZmFsc2U7Zm9yKDs7KXtzd2l0Y2goZW5jb2Rpbmcpe2Nhc2UiaGV4IjpyZXR1cm4gaGV4V3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gdXRmOFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2UiYXNjaWkiOnJldHVybiBhc2NpaVdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gYmFzZTY0V3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiB1Y3MyV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7ZGVmYXVsdDppZihsb3dlcmVkQ2FzZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2VuY29kaW5nKTtlbmNvZGluZz0oIiIrZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7bG93ZXJlZENhc2U9dHJ1ZX19fTtCdWZmZXIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbiB0b0pTT04oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2Z1bmN0aW9uIGJhc2U2NFNsaWNlKGJ1ZixzdGFydCxlbmQpe2lmKHN0YXJ0PT09MCYmZW5kPT09YnVmLmxlbmd0aCl7cmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zil9ZWxzZXtyZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LGVuZCkpfX1mdW5jdGlvbiB1dGY4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTt2YXIgcmVzPVtdO3ZhciBpPXN0YXJ0O3doaWxlKGk8ZW5kKXt2YXIgZmlyc3RCeXRlPWJ1ZltpXTt2YXIgY29kZVBvaW50PW51bGw7dmFyIGJ5dGVzUGVyU2VxdWVuY2U9Zmlyc3RCeXRlPjIzOT80OmZpcnN0Qnl0ZT4yMjM/MzpmaXJzdEJ5dGU+MTkxPzI6MTtpZihpK2J5dGVzUGVyU2VxdWVuY2U8PWVuZCl7dmFyIHNlY29uZEJ5dGUsdGhpcmRCeXRlLGZvdXJ0aEJ5dGUsdGVtcENvZGVQb2ludDtzd2l0Y2goYnl0ZXNQZXJTZXF1ZW5jZSl7Y2FzZSAxOmlmKGZpcnN0Qnl0ZTwxMjgpe2NvZGVQb2ludD1maXJzdEJ5dGV9YnJlYWs7Y2FzZSAyOnNlY29uZEJ5dGU9YnVmW2krMV07aWYoKHNlY29uZEJ5dGUmMTkyKT09PTEyOCl7dGVtcENvZGVQb2ludD0oZmlyc3RCeXRlJjMxKTw8NnxzZWNvbmRCeXRlJjYzO2lmKHRlbXBDb2RlUG9pbnQ+MTI3KXtjb2RlUG9pbnQ9dGVtcENvZGVQb2ludH19YnJlYWs7Y2FzZSAzOnNlY29uZEJ5dGU9YnVmW2krMV07dGhpcmRCeXRlPWJ1ZltpKzJdO2lmKChzZWNvbmRCeXRlJjE5Mik9PT0xMjgmJih0aGlyZEJ5dGUmMTkyKT09PTEyOCl7dGVtcENvZGVQb2ludD0oZmlyc3RCeXRlJjE1KTw8MTJ8KHNlY29uZEJ5dGUmNjMpPDw2fHRoaXJkQnl0ZSY2MztpZih0ZW1wQ29kZVBvaW50PjIwNDcmJih0ZW1wQ29kZVBvaW50PDU1Mjk2fHx0ZW1wQ29kZVBvaW50PjU3MzQzKSl7Y29kZVBvaW50PXRlbXBDb2RlUG9pbnR9fWJyZWFrO2Nhc2UgNDpzZWNvbmRCeXRlPWJ1ZltpKzFdO3RoaXJkQnl0ZT1idWZbaSsyXTtmb3VydGhCeXRlPWJ1ZltpKzNdO2lmKChzZWNvbmRCeXRlJjE5Mik9PT0xMjgmJih0aGlyZEJ5dGUmMTkyKT09PTEyOCYmKGZvdXJ0aEJ5dGUmMTkyKT09PTEyOCl7dGVtcENvZGVQb2ludD0oZmlyc3RCeXRlJjE1KTw8MTh8KHNlY29uZEJ5dGUmNjMpPDwxMnwodGhpcmRCeXRlJjYzKTw8Nnxmb3VydGhCeXRlJjYzO2lmKHRlbXBDb2RlUG9pbnQ+NjU1MzUmJnRlbXBDb2RlUG9pbnQ8MTExNDExMil7Y29kZVBvaW50PXRlbXBDb2RlUG9pbnR9fX19aWYoY29kZVBvaW50PT09bnVsbCl7Y29kZVBvaW50PTY1NTMzO2J5dGVzUGVyU2VxdWVuY2U9MX1lbHNlIGlmKGNvZGVQb2ludD42NTUzNSl7Y29kZVBvaW50LT02NTUzNjtyZXMucHVzaChjb2RlUG9pbnQ+Pj4xMCYxMDIzfDU1Mjk2KTtjb2RlUG9pbnQ9NTYzMjB8Y29kZVBvaW50JjEwMjN9cmVzLnB1c2goY29kZVBvaW50KTtpKz1ieXRlc1BlclNlcXVlbmNlfXJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKX12YXIgTUFYX0FSR1VNRU5UU19MRU5HVEg9NDA5NjtmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkoY29kZVBvaW50cyl7dmFyIGxlbj1jb2RlUG9pbnRzLmxlbmd0aDtpZihsZW48PU1BWF9BUkdVTUVOVFNfTEVOR1RIKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsY29kZVBvaW50cyl9dmFyIHJlcz0iIjt2YXIgaT0wO3doaWxlKGk8bGVuKXtyZXMrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGNvZGVQb2ludHMuc2xpY2UoaSxpKz1NQVhfQVJHVU1FTlRTX0xFTkdUSCkpfXJldHVybiByZXN9ZnVuY3Rpb24gYXNjaWlTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgcmV0PSIiO2VuZD1NYXRoLm1pbihidWYubGVuZ3RoLGVuZCk7Zm9yKHZhciBpPXN0YXJ0O2k8ZW5kOysraSl7cmV0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSYxMjcpfXJldHVybiByZXR9ZnVuY3Rpb24gbGF0aW4xU2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIHJldD0iIjtlbmQ9TWF0aC5taW4oYnVmLmxlbmd0aCxlbmQpO2Zvcih2YXIgaT1zdGFydDtpPGVuZDsrK2kpe3JldCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pfXJldHVybiByZXR9ZnVuY3Rpb24gaGV4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIGxlbj1idWYubGVuZ3RoO2lmKCFzdGFydHx8c3RhcnQ8MClzdGFydD0wO2lmKCFlbmR8fGVuZDwwfHxlbmQ+bGVuKWVuZD1sZW47dmFyIG91dD0iIjtmb3IodmFyIGk9c3RhcnQ7aTxlbmQ7KytpKXtvdXQrPXRvSGV4KGJ1ZltpXSl9cmV0dXJuIG91dH1mdW5jdGlvbiB1dGYxNmxlU2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIGJ5dGVzPWJ1Zi5zbGljZShzdGFydCxlbmQpO3ZhciByZXM9IiI7Zm9yKHZhciBpPTA7aTxieXRlcy5sZW5ndGg7aSs9Mil7cmVzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldK2J5dGVzW2krMV0qMjU2KX1yZXR1cm4gcmVzfUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24gc2xpY2Uoc3RhcnQsZW5kKXt2YXIgbGVuPXRoaXMubGVuZ3RoO3N0YXJ0PX5+c3RhcnQ7ZW5kPWVuZD09PXVuZGVmaW5lZD9sZW46fn5lbmQ7aWYoc3RhcnQ8MCl7c3RhcnQrPWxlbjtpZihzdGFydDwwKXN0YXJ0PTB9ZWxzZSBpZihzdGFydD5sZW4pe3N0YXJ0PWxlbn1pZihlbmQ8MCl7ZW5kKz1sZW47aWYoZW5kPDApZW5kPTB9ZWxzZSBpZihlbmQ+bGVuKXtlbmQ9bGVufWlmKGVuZDxzdGFydCllbmQ9c3RhcnQ7dmFyIG5ld0J1Zj10aGlzLnN1YmFycmF5KHN0YXJ0LGVuZCk7bmV3QnVmLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlO3JldHVybiBuZXdCdWZ9O2Z1bmN0aW9uIGNoZWNrT2Zmc2V0KG9mZnNldCxleHQsbGVuZ3RoKXtpZihvZmZzZXQlMSE9PTB8fG9mZnNldDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihvZmZzZXQrZXh0Pmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbiByZWFkVUludExFKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtieXRlTGVuZ3RoPWJ5dGVMZW5ndGg+Pj4wO2lmKCFub0Fzc2VydCljaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7dmFyIHZhbD10aGlzW29mZnNldF07dmFyIG11bD0xO3ZhciBpPTA7d2hpbGUoKytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nikpe3ZhbCs9dGhpc1tvZmZzZXQraV0qbXVsfXJldHVybiB2YWx9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbiByZWFkVUludEJFKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtieXRlTGVuZ3RoPWJ5dGVMZW5ndGg+Pj4wO2lmKCFub0Fzc2VydCl7Y2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpfXZhciB2YWw9dGhpc1tvZmZzZXQrLS1ieXRlTGVuZ3RoXTt2YXIgbXVsPTE7d2hpbGUoYnl0ZUxlbmd0aD4wJiYobXVsKj0yNTYpKXt2YWwrPXRoaXNbb2Zmc2V0Ky0tYnl0ZUxlbmd0aF0qbXVsfXJldHVybiB2YWx9O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uIHJlYWRVSW50OChvZmZzZXQsbm9Bc3NlcnQpe29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja09mZnNldChvZmZzZXQsMSx0aGlzLmxlbmd0aCk7cmV0dXJuIHRoaXNbb2Zmc2V0XX07QnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24gcmVhZFVJbnQxNkxFKG9mZnNldCxub0Fzc2VydCl7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbiByZWFkVUludDE2QkUob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW29mZnNldF08PDh8dGhpc1tvZmZzZXQrMV19O0J1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uIHJlYWRVSW50MzJMRShvZmZzZXQsbm9Bc3NlcnQpe29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCk7cmV0dXJuKHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OHx0aGlzW29mZnNldCsyXTw8MTYpK3RoaXNbb2Zmc2V0KzNdKjE2Nzc3MjE2fTtCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbiByZWFkVUludDMyQkUob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW29mZnNldF0qMTY3NzcyMTYrKHRoaXNbb2Zmc2V0KzFdPDwxNnx0aGlzW29mZnNldCsyXTw8OHx0aGlzW29mZnNldCszXSl9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uIHJlYWRJbnRMRShvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7b2Zmc2V0PW9mZnNldD4+PjA7Ynl0ZUxlbmd0aD1ieXRlTGVuZ3RoPj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpO3ZhciB2YWw9dGhpc1tvZmZzZXRdO3ZhciBtdWw9MTt2YXIgaT0wO3doaWxlKCsraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpKXt2YWwrPXRoaXNbb2Zmc2V0K2ldKm11bH1tdWwqPTEyODtpZih2YWw+PW11bCl2YWwtPU1hdGgucG93KDIsOCpieXRlTGVuZ3RoKTtyZXR1cm4gdmFsfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbiByZWFkSW50QkUob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldD1vZmZzZXQ+Pj4wO2J5dGVMZW5ndGg9Ynl0ZUxlbmd0aD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrT2Zmc2V0KG9mZnNldCxieXRlTGVuZ3RoLHRoaXMubGVuZ3RoKTt2YXIgaT1ieXRlTGVuZ3RoO3ZhciBtdWw9MTt2YXIgdmFsPXRoaXNbb2Zmc2V0Ky0taV07d2hpbGUoaT4wJiYobXVsKj0yNTYpKXt2YWwrPXRoaXNbb2Zmc2V0Ky0taV0qbXVsfW11bCo9MTI4O2lmKHZhbD49bXVsKXZhbC09TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgpO3JldHVybiB2YWx9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24gcmVhZEludDgob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDEsdGhpcy5sZW5ndGgpO2lmKCEodGhpc1tvZmZzZXRdJjEyOCkpcmV0dXJuIHRoaXNbb2Zmc2V0XTtyZXR1cm4oMjU1LXRoaXNbb2Zmc2V0XSsxKSotMX07QnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbiByZWFkSW50MTZMRShvZmZzZXQsbm9Bc3NlcnQpe29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja09mZnNldChvZmZzZXQsMix0aGlzLmxlbmd0aCk7dmFyIHZhbD10aGlzW29mZnNldF18dGhpc1tvZmZzZXQrMV08PDg7cmV0dXJuIHZhbCYzMjc2OD92YWx8NDI5NDkwMTc2MDp2YWx9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24gcmVhZEludDE2QkUob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpO3ZhciB2YWw9dGhpc1tvZmZzZXQrMV18dGhpc1tvZmZzZXRdPDw4O3JldHVybiB2YWwmMzI3Njg/dmFsfDQyOTQ5MDE3NjA6dmFsfTtCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uIHJlYWRJbnQzMkxFKG9mZnNldCxub0Fzc2VydCl7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gdGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fHRoaXNbb2Zmc2V0KzJdPDwxNnx0aGlzW29mZnNldCszXTw8MjR9O0J1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24gcmVhZEludDMyQkUob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzW29mZnNldF08PDI0fHRoaXNbb2Zmc2V0KzFdPDwxNnx0aGlzW29mZnNldCsyXTw8OHx0aGlzW29mZnNldCszXX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbiByZWFkRmxvYXRMRShvZmZzZXQsbm9Bc3NlcnQpe29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCk7cmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLG9mZnNldCx0cnVlLDIzLDQpfTtCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uIHJlYWRGbG9hdEJFKG9mZnNldCxub0Fzc2VydCl7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKTtyZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LGZhbHNlLDIzLDQpfTtCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbiByZWFkRG91YmxlTEUob2Zmc2V0LG5vQXNzZXJ0KXtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tPZmZzZXQob2Zmc2V0LDgsdGhpcy5sZW5ndGgpO3JldHVybiBpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsdHJ1ZSw1Miw4KX07QnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24gcmVhZERvdWJsZUJFKG9mZnNldCxub0Fzc2VydCl7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrT2Zmc2V0KG9mZnNldCw4LHRoaXMubGVuZ3RoKTtyZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LGZhbHNlLDUyLDgpfTtmdW5jdGlvbiBjaGVja0ludChidWYsdmFsdWUsb2Zmc2V0LGV4dCxtYXgsbWluKXtpZighQnVmZmVyLmlzQnVmZmVyKGJ1ZikpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHZhbHVlPm1heHx8dmFsdWU8bWluKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihvZmZzZXQrZXh0PmJ1Zi5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24gd3JpdGVVSW50TEUodmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtieXRlTGVuZ3RoPWJ5dGVMZW5ndGg+Pj4wO2lmKCFub0Fzc2VydCl7dmFyIG1heEJ5dGVzPU1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbWF4Qnl0ZXMsMCl9dmFyIG11bD0xO3ZhciBpPTA7dGhpc1tvZmZzZXRdPXZhbHVlJjI1NTt3aGlsZSgrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KSl7dGhpc1tvZmZzZXQraV09dmFsdWUvbXVsJjI1NX1yZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24gd3JpdGVVSW50QkUodmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtieXRlTGVuZ3RoPWJ5dGVMZW5ndGg+Pj4wO2lmKCFub0Fzc2VydCl7dmFyIG1heEJ5dGVzPU1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbWF4Qnl0ZXMsMCl9dmFyIGk9Ynl0ZUxlbmd0aC0xO3ZhciBtdWw9MTt0aGlzW29mZnNldCtpXT12YWx1ZSYyNTU7d2hpbGUoLS1pPj0wJiYobXVsKj0yNTYpKXt0aGlzW29mZnNldCtpXT12YWx1ZS9tdWwmMjU1fXJldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uIHdyaXRlVUludDgodmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDEsMjU1LDApO3RoaXNbb2Zmc2V0XT12YWx1ZSYyNTU7cmV0dXJuIG9mZnNldCsxfTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24gd3JpdGVVSW50MTZMRSh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMiw2NTUzNSwwKTt0aGlzW29mZnNldF09dmFsdWUmMjU1O3RoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+ODtyZXR1cm4gb2Zmc2V0KzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbiB3cml0ZVVJbnQxNkJFKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7dmFsdWU9K3ZhbHVlO29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDY1NTM1LDApO3RoaXNbb2Zmc2V0XT12YWx1ZT4+Pjg7dGhpc1tvZmZzZXQrMV09dmFsdWUmMjU1O3JldHVybiBvZmZzZXQrMn07QnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uIHdyaXRlVUludDMyTEUodmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsNDI5NDk2NzI5NSwwKTt0aGlzW29mZnNldCszXT12YWx1ZT4+PjI0O3RoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+MTY7dGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44O3RoaXNbb2Zmc2V0XT12YWx1ZSYyNTU7cmV0dXJuIG9mZnNldCs0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24gd3JpdGVVSW50MzJCRSh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCw0Mjk0OTY3Mjk1LDApO3RoaXNbb2Zmc2V0XT12YWx1ZT4+PjI0O3RoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+MTY7dGhpc1tvZmZzZXQrMl09dmFsdWU+Pj44O3RoaXNbb2Zmc2V0KzNdPXZhbHVlJjI1NTtyZXR1cm4gb2Zmc2V0KzR9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbiB3cml0ZUludExFKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KXt2YXIgbGltaXQ9TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgtMSk7Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxsaW1pdC0xLC1saW1pdCl9dmFyIGk9MDt2YXIgbXVsPTE7dmFyIHN1Yj0wO3RoaXNbb2Zmc2V0XT12YWx1ZSYyNTU7d2hpbGUoKytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nikpe2lmKHZhbHVlPDAmJnN1Yj09PTAmJnRoaXNbb2Zmc2V0K2ktMV0hPT0wKXtzdWI9MX10aGlzW29mZnNldCtpXT0odmFsdWUvbXVsPj4wKS1zdWImMjU1fXJldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uIHdyaXRlSW50QkUodmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpe3ZhciBsaW1pdD1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aC0xKTtjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLGxpbWl0LTEsLWxpbWl0KX12YXIgaT1ieXRlTGVuZ3RoLTE7dmFyIG11bD0xO3ZhciBzdWI9MDt0aGlzW29mZnNldCtpXT12YWx1ZSYyNTU7d2hpbGUoLS1pPj0wJiYobXVsKj0yNTYpKXtpZih2YWx1ZTwwJiZzdWI9PT0wJiZ0aGlzW29mZnNldCtpKzFdIT09MCl7c3ViPTF9dGhpc1tvZmZzZXQraV09KHZhbHVlL211bD4+MCktc3ViJjI1NX1yZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uIHdyaXRlSW50OCh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMSwxMjcsLTEyOCk7aWYodmFsdWU8MCl2YWx1ZT0yNTUrdmFsdWUrMTt0aGlzW29mZnNldF09dmFsdWUmMjU1O3JldHVybiBvZmZzZXQrMX07QnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24gd3JpdGVJbnQxNkxFKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7dmFsdWU9K3ZhbHVlO29mZnNldD1vZmZzZXQ+Pj4wO2lmKCFub0Fzc2VydCljaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDMyNzY3LC0zMjc2OCk7dGhpc1tvZmZzZXRdPXZhbHVlJjI1NTt0aGlzW29mZnNldCsxXT12YWx1ZT4+Pjg7cmV0dXJuIG9mZnNldCsyfTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbiB3cml0ZUludDE2QkUodmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsMzI3NjcsLTMyNzY4KTt0aGlzW29mZnNldF09dmFsdWU+Pj44O3RoaXNbb2Zmc2V0KzFdPXZhbHVlJjI1NTtyZXR1cm4gb2Zmc2V0KzJ9O0J1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uIHdyaXRlSW50MzJMRSh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpY2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KTt0aGlzW29mZnNldF09dmFsdWUmMjU1O3RoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+ODt0aGlzW29mZnNldCsyXT12YWx1ZT4+PjE2O3RoaXNbb2Zmc2V0KzNdPXZhbHVlPj4+MjQ7cmV0dXJuIG9mZnNldCs0fTtCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbiB3cml0ZUludDMyQkUodmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KWNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCk7aWYodmFsdWU8MCl2YWx1ZT00Mjk0OTY3Mjk1K3ZhbHVlKzE7dGhpc1tvZmZzZXRdPXZhbHVlPj4+MjQ7dGhpc1tvZmZzZXQrMV09dmFsdWU+Pj4xNjt0aGlzW29mZnNldCsyXT12YWx1ZT4+Pjg7dGhpc1tvZmZzZXQrM109dmFsdWUmMjU1O3JldHVybiBvZmZzZXQrNH07ZnVuY3Rpb24gY2hlY2tJRUVFNzU0KGJ1Zix2YWx1ZSxvZmZzZXQsZXh0LG1heCxtaW4pe2lmKG9mZnNldCtleHQ+YnVmLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYob2Zmc2V0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIHdyaXRlRmxvYXQoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sbm9Bc3NlcnQpe3ZhbHVlPSt2YWx1ZTtvZmZzZXQ9b2Zmc2V0Pj4+MDtpZighbm9Bc3NlcnQpe2NoZWNrSUVFRTc1NChidWYsdmFsdWUsb2Zmc2V0LDQsMy40MDI4MjM0NjYzODUyODg2ZTM4LC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgpfWllZWU3NTQud3JpdGUoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sMjMsNCk7cmV0dXJuIG9mZnNldCs0fUJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uIHdyaXRlRmxvYXRMRSh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsdmFsdWUsb2Zmc2V0LHRydWUsbm9Bc3NlcnQpfTtCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbiB3cml0ZUZsb2F0QkUodmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHZhbHVlLG9mZnNldCxmYWxzZSxub0Fzc2VydCl9O2Z1bmN0aW9uIHdyaXRlRG91YmxlKGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLG5vQXNzZXJ0KXt2YWx1ZT0rdmFsdWU7b2Zmc2V0PW9mZnNldD4+PjA7aWYoIW5vQXNzZXJ0KXtjaGVja0lFRUU3NTQoYnVmLHZhbHVlLG9mZnNldCw4LDEuNzk3NjkzMTM0ODYyMzE1N2UzMDgsLTEuNzk3NjkzMTM0ODYyMzE1N2UzMDgpfWllZWU3NTQud3JpdGUoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sNTIsOCk7cmV0dXJuIG9mZnNldCs4fUJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbiB3cml0ZURvdWJsZUxFKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsdmFsdWUsb2Zmc2V0LHRydWUsbm9Bc3NlcnQpfTtCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24gd3JpdGVEb3VibGVCRSh2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHZhbHVlLG9mZnNldCxmYWxzZSxub0Fzc2VydCl9O0J1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbiBjb3B5KHRhcmdldCx0YXJnZXRTdGFydCxzdGFydCxlbmQpe2lmKCFzdGFydClzdGFydD0wO2lmKCFlbmQmJmVuZCE9PTApZW5kPXRoaXMubGVuZ3RoO2lmKHRhcmdldFN0YXJ0Pj10YXJnZXQubGVuZ3RoKXRhcmdldFN0YXJ0PXRhcmdldC5sZW5ndGg7aWYoIXRhcmdldFN0YXJ0KXRhcmdldFN0YXJ0PTA7aWYoZW5kPjAmJmVuZDxzdGFydCllbmQ9c3RhcnQ7aWYoZW5kPT09c3RhcnQpcmV0dXJuIDA7aWYodGFyZ2V0Lmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZih0YXJnZXRTdGFydDwwKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpfWlmKHN0YXJ0PDB8fHN0YXJ0Pj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKGVuZDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO2lmKGVuZD50aGlzLmxlbmd0aCllbmQ9dGhpcy5sZW5ndGg7aWYodGFyZ2V0Lmxlbmd0aC10YXJnZXRTdGFydDxlbmQtc3RhcnQpe2VuZD10YXJnZXQubGVuZ3RoLXRhcmdldFN0YXJ0K3N0YXJ0fXZhciBsZW49ZW5kLXN0YXJ0O3ZhciBpO2lmKHRoaXM9PT10YXJnZXQmJnN0YXJ0PHRhcmdldFN0YXJ0JiZ0YXJnZXRTdGFydDxlbmQpe2ZvcihpPWxlbi0xO2k+PTA7LS1pKXt0YXJnZXRbaSt0YXJnZXRTdGFydF09dGhpc1tpK3N0YXJ0XX19ZWxzZSBpZihsZW48MWUzKXtmb3IoaT0wO2k8bGVuOysraSl7dGFyZ2V0W2krdGFyZ2V0U3RhcnRdPXRoaXNbaStzdGFydF19fWVsc2V7VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodGFyZ2V0LHRoaXMuc3ViYXJyYXkoc3RhcnQsc3RhcnQrbGVuKSx0YXJnZXRTdGFydCl9cmV0dXJuIGxlbn07QnVmZmVyLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uIGZpbGwodmFsLHN0YXJ0LGVuZCxlbmNvZGluZyl7aWYodHlwZW9mIHZhbD09PSJzdHJpbmciKXtpZih0eXBlb2Ygc3RhcnQ9PT0ic3RyaW5nIil7ZW5jb2Rpbmc9c3RhcnQ7c3RhcnQ9MDtlbmQ9dGhpcy5sZW5ndGh9ZWxzZSBpZih0eXBlb2YgZW5kPT09InN0cmluZyIpe2VuY29kaW5nPWVuZDtlbmQ9dGhpcy5sZW5ndGh9aWYodmFsLmxlbmd0aD09PTEpe3ZhciBjb2RlPXZhbC5jaGFyQ29kZUF0KDApO2lmKGNvZGU8MjU2KXt2YWw9Y29kZX19aWYoZW5jb2RpbmchPT11bmRlZmluZWQmJnR5cGVvZiBlbmNvZGluZyE9PSJzdHJpbmciKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIil9aWYodHlwZW9mIGVuY29kaW5nPT09InN0cmluZyImJiFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpe3Rocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZW5jb2RpbmcpfX1lbHNlIGlmKHR5cGVvZiB2YWw9PT0ibnVtYmVyIil7dmFsPXZhbCYyNTV9aWYoc3RhcnQ8MHx8dGhpcy5sZW5ndGg8c3RhcnR8fHRoaXMubGVuZ3RoPGVuZCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpfWlmKGVuZDw9c3RhcnQpe3JldHVybiB0aGlzfXN0YXJ0PXN0YXJ0Pj4+MDtlbmQ9ZW5kPT09dW5kZWZpbmVkP3RoaXMubGVuZ3RoOmVuZD4+PjA7aWYoIXZhbCl2YWw9MDt2YXIgaTtpZih0eXBlb2YgdmFsPT09Im51bWJlciIpe2ZvcihpPXN0YXJ0O2k8ZW5kOysraSl7dGhpc1tpXT12YWx9fWVsc2V7dmFyIGJ5dGVzPUJ1ZmZlci5pc0J1ZmZlcih2YWwpP3ZhbDpuZXcgQnVmZmVyKHZhbCxlbmNvZGluZyk7dmFyIGxlbj1ieXRlcy5sZW5ndGg7Zm9yKGk9MDtpPGVuZC1zdGFydDsrK2kpe3RoaXNbaStzdGFydF09Ynl0ZXNbaSVsZW5dfX1yZXR1cm4gdGhpc307dmFyIElOVkFMSURfQkFTRTY0X1JFPS9bXitcLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIGJhc2U2NGNsZWFuKHN0cil7c3RyPXN0ci50cmltKCkucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwiIik7aWYoc3RyLmxlbmd0aDwyKXJldHVybiIiO3doaWxlKHN0ci5sZW5ndGglNCE9PTApe3N0cj1zdHIrIj0ifXJldHVybiBzdHJ9ZnVuY3Rpb24gdG9IZXgobil7aWYobjwxNilyZXR1cm4iMCIrbi50b1N0cmluZygxNik7cmV0dXJuIG4udG9TdHJpbmcoMTYpfWZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cmluZyx1bml0cyl7dW5pdHM9dW5pdHN8fEluZmluaXR5O3ZhciBjb2RlUG9pbnQ7dmFyIGxlbmd0aD1zdHJpbmcubGVuZ3RoO3ZhciBsZWFkU3Vycm9nYXRlPW51bGw7dmFyIGJ5dGVzPVtdO2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7Y29kZVBvaW50PXN0cmluZy5jaGFyQ29kZUF0KGkpO2lmKGNvZGVQb2ludD41NTI5NSYmY29kZVBvaW50PDU3MzQ0KXtpZighbGVhZFN1cnJvZ2F0ZSl7aWYoY29kZVBvaW50PjU2MzE5KXtpZigodW5pdHMtPTMpPi0xKWJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYoaSsxPT09bGVuZ3RoKXtpZigodW5pdHMtPTMpPi0xKWJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWxlYWRTdXJyb2dhdGU9Y29kZVBvaW50O2NvbnRpbnVlfWlmKGNvZGVQb2ludDw1NjMyMCl7aWYoKHVuaXRzLT0zKT4tMSlieXRlcy5wdXNoKDIzOSwxOTEsMTg5KTtsZWFkU3Vycm9nYXRlPWNvZGVQb2ludDtjb250aW51ZX1jb2RlUG9pbnQ9KGxlYWRTdXJyb2dhdGUtNTUyOTY8PDEwfGNvZGVQb2ludC01NjMyMCkrNjU1MzZ9ZWxzZSBpZihsZWFkU3Vycm9nYXRlKXtpZigodW5pdHMtPTMpPi0xKWJ5dGVzLnB1c2goMjM5LDE5MSwxODkpfWxlYWRTdXJyb2dhdGU9bnVsbDtpZihjb2RlUG9pbnQ8MTI4KXtpZigodW5pdHMtPTEpPDApYnJlYWs7Ynl0ZXMucHVzaChjb2RlUG9pbnQpfWVsc2UgaWYoY29kZVBvaW50PDIwNDgpe2lmKCh1bml0cy09Mik8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+NnwxOTIsY29kZVBvaW50JjYzfDEyOCl9ZWxzZSBpZihjb2RlUG9pbnQ8NjU1MzYpe2lmKCh1bml0cy09Myk8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+MTJ8MjI0LGNvZGVQb2ludD4+NiY2M3wxMjgsY29kZVBvaW50JjYzfDEyOCl9ZWxzZSBpZihjb2RlUG9pbnQ8MTExNDExMil7aWYoKHVuaXRzLT00KTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj4xOHwyNDAsY29kZVBvaW50Pj4xMiY2M3wxMjgsY29kZVBvaW50Pj42JjYzfDEyOCxjb2RlUG9pbnQmNjN8MTI4KX1lbHNle3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iil9fXJldHVybiBieXRlc31mdW5jdGlvbiBhc2NpaVRvQnl0ZXMoc3RyKXt2YXIgYnl0ZUFycmF5PVtdO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe2J5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpJjI1NSl9cmV0dXJuIGJ5dGVBcnJheX1mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyhzdHIsdW5pdHMpe3ZhciBjLGhpLGxvO3ZhciBieXRlQXJyYXk9W107Zm9yKHZhciBpPTA7aTxzdHIubGVuZ3RoOysraSl7aWYoKHVuaXRzLT0yKTwwKWJyZWFrO2M9c3RyLmNoYXJDb2RlQXQoaSk7aGk9Yz4+ODtsbz1jJTI1NjtieXRlQXJyYXkucHVzaChsbyk7Ynl0ZUFycmF5LnB1c2goaGkpfXJldHVybiBieXRlQXJyYXl9ZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhzdHIpe3JldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSl9ZnVuY3Rpb24gYmxpdEJ1ZmZlcihzcmMsZHN0LG9mZnNldCxsZW5ndGgpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7aWYoaStvZmZzZXQ+PWRzdC5sZW5ndGh8fGk+PXNyYy5sZW5ndGgpYnJlYWs7ZHN0W2krb2Zmc2V0XT1zcmNbaV19cmV0dXJuIGl9ZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcob2JqKXtyZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz09PSJmdW5jdGlvbiImJkFycmF5QnVmZmVyLmlzVmlldyhvYmopfWZ1bmN0aW9uIG51bWJlcklzTmFOKG9iail7cmV0dXJuIG9iaiE9PW9ian19LHsiYmFzZTY0LWpzIjoxNjgsaWVlZTc1NDoxNzZ9XSwxNzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihCdWZmZXIpe2Z1bmN0aW9uIGlzQXJyYXkoYXJnKXtpZihBcnJheS5pc0FycmF5KXtyZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpfXJldHVybiBvYmplY3RUb1N0cmluZyhhcmcpPT09IltvYmplY3QgQXJyYXldIn1leHBvcnRzLmlzQXJyYXk9aXNBcnJheTtmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJib29sZWFuIn1leHBvcnRzLmlzQm9vbGVhbj1pc0Jvb2xlYW47ZnVuY3Rpb24gaXNOdWxsKGFyZyl7cmV0dXJuIGFyZz09PW51bGx9ZXhwb3J0cy5pc051bGw9aXNOdWxsO2Z1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZyl7cmV0dXJuIGFyZz09bnVsbH1leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkPWlzTnVsbE9yVW5kZWZpbmVkO2Z1bmN0aW9uIGlzTnVtYmVyKGFyZyl7cmV0dXJuIHR5cGVvZiBhcmc9PT0ibnVtYmVyIn1leHBvcnRzLmlzTnVtYmVyPWlzTnVtYmVyO2Z1bmN0aW9uIGlzU3RyaW5nKGFyZyl7cmV0dXJuIHR5cGVvZiBhcmc9PT0ic3RyaW5nIn1leHBvcnRzLmlzU3RyaW5nPWlzU3RyaW5nO2Z1bmN0aW9uIGlzU3ltYm9sKGFyZyl7cmV0dXJuIHR5cGVvZiBhcmc9PT0ic3ltYm9sIn1leHBvcnRzLmlzU3ltYm9sPWlzU3ltYm9sO2Z1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZyl7cmV0dXJuIGFyZz09PXZvaWQgMH1leHBvcnRzLmlzVW5kZWZpbmVkPWlzVW5kZWZpbmVkO2Z1bmN0aW9uIGlzUmVnRXhwKHJlKXtyZXR1cm4gb2JqZWN0VG9TdHJpbmcocmUpPT09IltvYmplY3QgUmVnRXhwXSJ9ZXhwb3J0cy5pc1JlZ0V4cD1pc1JlZ0V4cDtmdW5jdGlvbiBpc09iamVjdChhcmcpe3JldHVybiB0eXBlb2YgYXJnPT09Im9iamVjdCImJmFyZyE9PW51bGx9ZXhwb3J0cy5pc09iamVjdD1pc09iamVjdDtmdW5jdGlvbiBpc0RhdGUoZCl7cmV0dXJuIG9iamVjdFRvU3RyaW5nKGQpPT09IltvYmplY3QgRGF0ZV0ifWV4cG9ydHMuaXNEYXRlPWlzRGF0ZTtmdW5jdGlvbiBpc0Vycm9yKGUpe3JldHVybiBvYmplY3RUb1N0cmluZyhlKT09PSJbb2JqZWN0IEVycm9yXSJ8fGUgaW5zdGFuY2VvZiBFcnJvcn1leHBvcnRzLmlzRXJyb3I9aXNFcnJvcjtmdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZyl7cmV0dXJuIHR5cGVvZiBhcmc9PT0iZnVuY3Rpb24ifWV4cG9ydHMuaXNGdW5jdGlvbj1pc0Z1bmN0aW9uO2Z1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZyl7cmV0dXJuIGFyZz09PW51bGx8fHR5cGVvZiBhcmc9PT0iYm9vbGVhbiJ8fHR5cGVvZiBhcmc9PT0ibnVtYmVyInx8dHlwZW9mIGFyZz09PSJzdHJpbmcifHx0eXBlb2YgYXJnPT09InN5bWJvbCJ8fHR5cGVvZiBhcmc9PT0idW5kZWZpbmVkIn1leHBvcnRzLmlzUHJpbWl0aXZlPWlzUHJpbWl0aXZlO2V4cG9ydHMuaXNCdWZmZXI9QnVmZmVyLmlzQnVmZmVyO2Z1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyl9fSkuY2FsbCh0aGlzLHtpc0J1ZmZlcjpyZXF1aXJlKCIuLi8uLi9pcy1idWZmZXIvaW5kZXguanMiKX0pfSx7Ii4uLy4uL2lzLWJ1ZmZlci9pbmRleC5qcyI6MTc4fV0sMTc1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fTt0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx1bmRlZmluZWR9bW9kdWxlLmV4cG9ydHM9RXZlbnRFbWl0dGVyO0V2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyO0V2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cz11bmRlZmluZWQ7RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXVuZGVmaW5lZDtFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycz0xMDtFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihuKXtpZighaXNOdW1iZXIobil8fG48MHx8aXNOYU4obikpdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTt0aGlzLl9tYXhMaXN0ZW5lcnM9bjtyZXR1cm4gdGhpc307RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHR5cGUpe3ZhciBlcixoYW5kbGVyLGxlbixhcmdzLGksbGlzdGVuZXJzO2lmKCF0aGlzLl9ldmVudHMpdGhpcy5fZXZlbnRzPXt9O2lmKHR5cGU9PT0iZXJyb3IiKXtpZighdGhpcy5fZXZlbnRzLmVycm9yfHxpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCl7ZXI9YXJndW1lbnRzWzFdO2lmKGVyIGluc3RhbmNlb2YgRXJyb3Ipe3Rocm93IGVyfWVsc2V7dmFyIGVycj1uZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCAiZXJyb3IiIGV2ZW50LiAoJytlcisiKSIpO2Vyci5jb250ZXh0PWVyO3Rocm93IGVycn19fWhhbmRsZXI9dGhpcy5fZXZlbnRzW3R5cGVdO2lmKGlzVW5kZWZpbmVkKGhhbmRsZXIpKXJldHVybiBmYWxzZTtpZihpc0Z1bmN0aW9uKGhhbmRsZXIpKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOmhhbmRsZXIuY2FsbCh0aGlzKTticmVhaztjYXNlIDI6aGFuZGxlci5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6aGFuZGxlci5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDphcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtoYW5kbGVyLmFwcGx5KHRoaXMsYXJncyl9fWVsc2UgaWYoaXNPYmplY3QoaGFuZGxlcikpe2FyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2xpc3RlbmVycz1oYW5kbGVyLnNsaWNlKCk7bGVuPWxpc3RlbmVycy5sZW5ndGg7Zm9yKGk9MDtpPGxlbjtpKyspbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsYXJncyl9cmV0dXJuIHRydWV9O0V2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odHlwZSxsaXN0ZW5lcil7dmFyIG07aWYoIWlzRnVuY3Rpb24obGlzdGVuZXIpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYoIXRoaXMuX2V2ZW50cyl0aGlzLl9ldmVudHM9e307aWYodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKXRoaXMuZW1pdCgibmV3TGlzdGVuZXIiLHR5cGUsaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcik/bGlzdGVuZXIubGlzdGVuZXI6bGlzdGVuZXIpO2lmKCF0aGlzLl9ldmVudHNbdHlwZV0pdGhpcy5fZXZlbnRzW3R5cGVdPWxpc3RlbmVyO2Vsc2UgaWYoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSl0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7ZWxzZSB0aGlzLl9ldmVudHNbdHlwZV09W3RoaXMuX2V2ZW50c1t0eXBlXSxsaXN0ZW5lcl07aWYoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSYmIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpe2lmKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKXttPXRoaXMuX21heExpc3RlbmVyc31lbHNle209RXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnN9aWYobSYmbT4wJiZ0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoPm0pe3RoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQ9dHJ1ZTtjb25zb2xlLmVycm9yKCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAiKyJsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICIrIlVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LiIsdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7aWYodHlwZW9mIGNvbnNvbGUudHJhY2U9PT0iZnVuY3Rpb24iKXtjb25zb2xlLnRyYWNlKCl9fX1yZXR1cm4gdGhpc307RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO0V2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtpZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgZmlyZWQ9ZmFsc2U7ZnVuY3Rpb24gZygpe3RoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxnKTtpZighZmlyZWQpe2ZpcmVkPXRydWU7bGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1nLmxpc3RlbmVyPWxpc3RlbmVyO3RoaXMub24odHlwZSxnKTtyZXR1cm4gdGhpc307RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxwb3NpdGlvbixsZW5ndGgsaTtpZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW3R5cGVdKXJldHVybiB0aGlzO2xpc3Q9dGhpcy5fZXZlbnRzW3R5cGVdO2xlbmd0aD1saXN0Lmxlbmd0aDtwb3NpdGlvbj0tMTtpZihsaXN0PT09bGlzdGVuZXJ8fGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikmJmxpc3QubGlzdGVuZXI9PT1saXN0ZW5lcil7ZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtpZih0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsdHlwZSxsaXN0ZW5lcil9ZWxzZSBpZihpc09iamVjdChsaXN0KSl7Zm9yKGk9bGVuZ3RoO2ktLSA+MDspe2lmKGxpc3RbaV09PT1saXN0ZW5lcnx8bGlzdFtpXS5saXN0ZW5lciYmbGlzdFtpXS5saXN0ZW5lcj09PWxpc3RlbmVyKXtwb3NpdGlvbj1pO2JyZWFrfX1pZihwb3NpdGlvbjwwKXJldHVybiB0aGlzO2lmKGxpc3QubGVuZ3RoPT09MSl7bGlzdC5sZW5ndGg9MDtkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdfWVsc2V7bGlzdC5zcGxpY2UocG9zaXRpb24sMSl9aWYodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLHR5cGUsbGlzdGVuZXIpfXJldHVybiB0aGlzfTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0eXBlKXt2YXIga2V5LGxpc3RlbmVycztpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXRoaXMuX2V2ZW50cz17fTtlbHNlIGlmKHRoaXMuX2V2ZW50c1t0eXBlXSlkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO3JldHVybiB0aGlzfWlmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXtmb3Ioa2V5IGluIHRoaXMuX2V2ZW50cyl7aWYoa2V5PT09InJlbW92ZUxpc3RlbmVyIiljb250aW51ZTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpfXRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpO3RoaXMuX2V2ZW50cz17fTtyZXR1cm4gdGhpc31saXN0ZW5lcnM9dGhpcy5fZXZlbnRzW3R5cGVdO2lmKGlzRnVuY3Rpb24obGlzdGVuZXJzKSl7dGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGxpc3RlbmVycyl9ZWxzZSBpZihsaXN0ZW5lcnMpe3doaWxlKGxpc3RlbmVycy5sZW5ndGgpdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoLTFdKX1kZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO3JldHVybiB0aGlzfTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0eXBlKXt2YXIgcmV0O2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbdHlwZV0pcmV0PVtdO2Vsc2UgaWYoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKXJldD1bdGhpcy5fZXZlbnRzW3R5cGVdXTtlbHNlIHJldD10aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtyZXR1cm4gcmV0fTtFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odHlwZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgZXZsaXN0ZW5lcj10aGlzLl9ldmVudHNbdHlwZV07aWYoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlyZXR1cm4gMTtlbHNlIGlmKGV2bGlzdGVuZXIpcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RofXJldHVybiAwfTtFdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlbWl0dGVyLHR5cGUpe3JldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSl9O2Z1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gaXNOdW1iZXIoYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJudW1iZXIifWZ1bmN0aW9uIGlzT2JqZWN0KGFyZyl7cmV0dXJuIHR5cGVvZiBhcmc9PT0ib2JqZWN0IiYmYXJnIT09bnVsbH1mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpe3JldHVybiBhcmc9PT12b2lkIDB9fSx7fV0sMTc2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtleHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYnVmZmVyLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtO3ZhciBlTGVuPW5CeXRlcyo4LW1MZW4tMTt2YXIgZU1heD0oMTw8ZUxlbiktMTt2YXIgZUJpYXM9ZU1heD4+MTt2YXIgbkJpdHM9LTc7dmFyIGk9aXNMRT9uQnl0ZXMtMTowO3ZhciBkPWlzTEU/LTE6MTt2YXIgcz1idWZmZXJbb2Zmc2V0K2ldO2krPWQ7ZT1zJigxPDwtbkJpdHMpLTE7cz4+PS1uQml0cztuQml0cys9ZUxlbjtmb3IoO25CaXRzPjA7ZT1lKjI1NitidWZmZXJbb2Zmc2V0K2ldLGkrPWQsbkJpdHMtPTgpe31tPWUmKDE8PC1uQml0cyktMTtlPj49LW5CaXRzO25CaXRzKz1tTGVuO2Zvcig7bkJpdHM+MDttPW0qMjU2K2J1ZmZlcltvZmZzZXQraV0saSs9ZCxuQml0cy09OCl7fWlmKGU9PT0wKXtlPTEtZUJpYXN9ZWxzZSBpZihlPT09ZU1heCl7cmV0dXJuIG0/TmFOOihzPy0xOjEpKkluZmluaXR5fWVsc2V7bT1tK01hdGgucG93KDIsbUxlbik7ZT1lLWVCaWFzfXJldHVybihzPy0xOjEpKm0qTWF0aC5wb3coMixlLW1MZW4pfTtleHBvcnRzLndyaXRlPWZ1bmN0aW9uKGJ1ZmZlcix2YWx1ZSxvZmZzZXQsaXNMRSxtTGVuLG5CeXRlcyl7dmFyIGUsbSxjO3ZhciBlTGVuPW5CeXRlcyo4LW1MZW4tMTt2YXIgZU1heD0oMTw8ZUxlbiktMTt2YXIgZUJpYXM9ZU1heD4+MTt2YXIgcnQ9bUxlbj09PTIzP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MDt2YXIgaT1pc0xFPzA6bkJ5dGVzLTE7dmFyIGQ9aXNMRT8xOi0xO3ZhciBzPXZhbHVlPDB8fHZhbHVlPT09MCYmMS92YWx1ZTwwPzE6MDt2YWx1ZT1NYXRoLmFicyh2YWx1ZSk7aWYoaXNOYU4odmFsdWUpfHx2YWx1ZT09PUluZmluaXR5KXttPWlzTmFOKHZhbHVlKT8xOjA7ZT1lTWF4fWVsc2V7ZT1NYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMik7aWYodmFsdWUqKGM9TWF0aC5wb3coMiwtZSkpPDEpe2UtLTtjKj0yfWlmKGUrZUJpYXM+PTEpe3ZhbHVlKz1ydC9jfWVsc2V7dmFsdWUrPXJ0Kk1hdGgucG93KDIsMS1lQmlhcyl9aWYodmFsdWUqYz49Mil7ZSsrO2MvPTJ9aWYoZStlQmlhcz49ZU1heCl7bT0wO2U9ZU1heH1lbHNlIGlmKGUrZUJpYXM+PTEpe209KHZhbHVlKmMtMSkqTWF0aC5wb3coMixtTGVuKTtlPWUrZUJpYXN9ZWxzZXttPXZhbHVlKk1hdGgucG93KDIsZUJpYXMtMSkqTWF0aC5wb3coMixtTGVuKTtlPTB9fWZvcig7bUxlbj49ODtidWZmZXJbb2Zmc2V0K2ldPW0mMjU1LGkrPWQsbS89MjU2LG1MZW4tPTgpe31lPWU8PG1MZW58bTtlTGVuKz1tTGVuO2Zvcig7ZUxlbj4wO2J1ZmZlcltvZmZzZXQraV09ZSYyNTUsaSs9ZCxlLz0yNTYsZUxlbi09OCl7fWJ1ZmZlcltvZmZzZXQraS1kXXw9cyoxMjh9fSx7fV0sMTc3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtpZih0eXBlb2YgT2JqZWN0LmNyZWF0ZT09PSJmdW5jdGlvbiIpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGluaGVyaXRzKGN0b3Isc3VwZXJDdG9yKXtjdG9yLnN1cGVyXz1zdXBlckN0b3I7Y3Rvci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Y3RvcixlbnVtZXJhYmxlOmZhbHNlLHdyaXRhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSl9fWVsc2V7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gaW5oZXJpdHMoY3RvcixzdXBlckN0b3Ipe2N0b3Iuc3VwZXJfPXN1cGVyQ3Rvcjt2YXIgVGVtcEN0b3I9ZnVuY3Rpb24oKXt9O1RlbXBDdG9yLnByb3RvdHlwZT1zdXBlckN0b3IucHJvdG90eXBlO2N0b3IucHJvdG90eXBlPW5ldyBUZW1wQ3RvcjtjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jdG9yfX19LHt9XSwxNzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiE9bnVsbCYmKGlzQnVmZmVyKG9iail8fGlzU2xvd0J1ZmZlcihvYmopfHwhIW9iai5faXNCdWZmZXIpfTtmdW5jdGlvbiBpc0J1ZmZlcihvYmope3JldHVybiEhb2JqLmNvbnN0cnVjdG9yJiZ0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyPT09ImZ1bmN0aW9uIiYmb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iail9ZnVuY3Rpb24gaXNTbG93QnVmZmVyKG9iail7cmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEU9PT0iZnVuY3Rpb24iJiZ0eXBlb2Ygb2JqLnNsaWNlPT09ImZ1bmN0aW9uIiYmaXNCdWZmZXIob2JqLnNsaWNlKDAsMCkpfX0se31dLDE3OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7dmFyIHRvU3RyaW5nPXt9LnRvU3RyaW5nO21vZHVsZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGFycil7cmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKT09IltvYmplY3QgQXJyYXldIn19LHt9XSwxODA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNDZdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNDZ9XSwxODE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNDhdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNDh9XSwxODI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNDldWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNDl9XSwxODM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNTBdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNTB9XSwxODQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNTFdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0seyIuLi91dGlscy9jb21tb24iOjE4MCwiLi9hZGxlcjMyIjoxODEsIi4vY3JjMzIiOjE4MywiLi9tZXNzYWdlcyI6MTg4LCIuL3RyZWVzIjoxODksZHVwOjE1MX1dLDE4NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7YXJndW1lbnRzWzRdWzE1M11bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpfSx7ZHVwOjE1M31dLDE4NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7YXJndW1lbnRzWzRdWzE1NF1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpfSx7Ii4uL3V0aWxzL2NvbW1vbiI6MTgwLCIuL2FkbGVyMzIiOjE4MSwiLi9jcmMzMiI6MTgzLCIuL2luZmZhc3QiOjE4NSwiLi9pbmZ0cmVlcyI6MTg3LGR1cDoxNTR9XSwxODc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdXRpbHM9cmVxdWlyZSgiLi4vdXRpbHMvY29tbW9uIik7dmFyIE1BWEJJVFM9MTU7dmFyIEVOT1VHSF9MRU5TPTg1Mjt2YXIgRU5PVUdIX0RJU1RTPTU5Mjt2YXIgQ09ERVM9MDt2YXIgTEVOUz0xO3ZhciBESVNUUz0yO3ZhciBsYmFzZT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdO3ZhciBsZXh0PVsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF07dmFyIGRiYXNlPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXTt2YXIgZGV4dD1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGluZmxhdGVfdGFibGUodHlwZSxsZW5zLGxlbnNfaW5kZXgsY29kZXMsdGFibGUsdGFibGVfaW5kZXgsd29yayxvcHRzKXt2YXIgYml0cz1vcHRzLmJpdHM7dmFyIGxlbj0wO3ZhciBzeW09MDt2YXIgbWluPTAsbWF4PTA7dmFyIHJvb3Q9MDt2YXIgY3Vycj0wO3ZhciBkcm9wPTA7dmFyIGxlZnQ9MDt2YXIgdXNlZD0wO3ZhciBodWZmPTA7dmFyIGluY3I7dmFyIGZpbGw7dmFyIGxvdzt2YXIgbWFzazt2YXIgbmV4dDt2YXIgYmFzZT1udWxsO3ZhciBiYXNlX2luZGV4PTA7dmFyIGVuZDt2YXIgY291bnQ9bmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMrMSk7dmFyIG9mZnM9bmV3IHV0aWxzLkJ1ZjE2KE1BWEJJVFMrMSk7dmFyIGV4dHJhPW51bGw7dmFyIGV4dHJhX2luZGV4PTA7dmFyIGhlcmVfYml0cyxoZXJlX29wLGhlcmVfdmFsO2ZvcihsZW49MDtsZW48PU1BWEJJVFM7bGVuKyspe2NvdW50W2xlbl09MH1mb3Ioc3ltPTA7c3ltPGNvZGVzO3N5bSsrKXtjb3VudFtsZW5zW2xlbnNfaW5kZXgrc3ltXV0rK31yb290PWJpdHM7Zm9yKG1heD1NQVhCSVRTO21heD49MTttYXgtLSl7aWYoY291bnRbbWF4XSE9PTApe2JyZWFrfX1pZihyb290Pm1heCl7cm9vdD1tYXh9aWYobWF4PT09MCl7dGFibGVbdGFibGVfaW5kZXgrK109MTw8MjR8NjQ8PDE2fDA7dGFibGVbdGFibGVfaW5kZXgrK109MTw8MjR8NjQ8PDE2fDA7b3B0cy5iaXRzPTE7cmV0dXJuIDB9Zm9yKG1pbj0xO21pbjxtYXg7bWluKyspe2lmKGNvdW50W21pbl0hPT0wKXticmVha319aWYocm9vdDxtaW4pe3Jvb3Q9bWlufWxlZnQ9MTtmb3IobGVuPTE7bGVuPD1NQVhCSVRTO2xlbisrKXtsZWZ0PDw9MTtsZWZ0LT1jb3VudFtsZW5dO2lmKGxlZnQ8MCl7cmV0dXJuLTF9fWlmKGxlZnQ+MCYmKHR5cGU9PT1DT0RFU3x8bWF4IT09MSkpe3JldHVybi0xfW9mZnNbMV09MDtmb3IobGVuPTE7bGVuPE1BWEJJVFM7bGVuKyspe29mZnNbbGVuKzFdPW9mZnNbbGVuXStjb3VudFtsZW5dfWZvcihzeW09MDtzeW08Y29kZXM7c3ltKyspe2lmKGxlbnNbbGVuc19pbmRleCtzeW1dIT09MCl7d29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCtzeW1dXSsrXT1zeW19fWlmKHR5cGU9PT1DT0RFUyl7YmFzZT1leHRyYT13b3JrO2VuZD0xOX1lbHNlIGlmKHR5cGU9PT1MRU5TKXtiYXNlPWxiYXNlO2Jhc2VfaW5kZXgtPTI1NztleHRyYT1sZXh0O2V4dHJhX2luZGV4LT0yNTc7ZW5kPTI1Nn1lbHNle2Jhc2U9ZGJhc2U7ZXh0cmE9ZGV4dDtlbmQ9LTF9aHVmZj0wO3N5bT0wO2xlbj1taW47bmV4dD10YWJsZV9pbmRleDtjdXJyPXJvb3Q7ZHJvcD0wO2xvdz0tMTt1c2VkPTE8PHJvb3Q7bWFzaz11c2VkLTE7aWYodHlwZT09PUxFTlMmJnVzZWQ+RU5PVUdIX0xFTlN8fHR5cGU9PT1ESVNUUyYmdXNlZD5FTk9VR0hfRElTVFMpe3JldHVybiAxfXZhciBpPTA7Zm9yKDs7KXtpKys7aGVyZV9iaXRzPWxlbi1kcm9wO2lmKHdvcmtbc3ltXTxlbmQpe2hlcmVfb3A9MDtoZXJlX3ZhbD13b3JrW3N5bV19ZWxzZSBpZih3b3JrW3N5bV0+ZW5kKXtoZXJlX29wPWV4dHJhW2V4dHJhX2luZGV4K3dvcmtbc3ltXV07aGVyZV92YWw9YmFzZVtiYXNlX2luZGV4K3dvcmtbc3ltXV19ZWxzZXtoZXJlX29wPTMyKzY0O2hlcmVfdmFsPTB9aW5jcj0xPDxsZW4tZHJvcDtmaWxsPTE8PGN1cnI7bWluPWZpbGw7ZG97ZmlsbC09aW5jcjt0YWJsZVtuZXh0KyhodWZmPj5kcm9wKStmaWxsXT1oZXJlX2JpdHM8PDI0fGhlcmVfb3A8PDE2fGhlcmVfdmFsfDB9d2hpbGUoZmlsbCE9PTApO2luY3I9MTw8bGVuLTE7d2hpbGUoaHVmZiZpbmNyKXtpbmNyPj49MX1pZihpbmNyIT09MCl7aHVmZiY9aW5jci0xCjtodWZmKz1pbmNyfWVsc2V7aHVmZj0wfXN5bSsrO2lmKC0tY291bnRbbGVuXT09PTApe2lmKGxlbj09PW1heCl7YnJlYWt9bGVuPWxlbnNbbGVuc19pbmRleCt3b3JrW3N5bV1dfWlmKGxlbj5yb290JiYoaHVmZiZtYXNrKSE9PWxvdyl7aWYoZHJvcD09PTApe2Ryb3A9cm9vdH1uZXh0Kz1taW47Y3Vycj1sZW4tZHJvcDtsZWZ0PTE8PGN1cnI7d2hpbGUoY3Vycitkcm9wPG1heCl7bGVmdC09Y291bnRbY3Vycitkcm9wXTtpZihsZWZ0PD0wKXticmVha31jdXJyKys7bGVmdDw8PTF9dXNlZCs9MTw8Y3VycjtpZih0eXBlPT09TEVOUyYmdXNlZD5FTk9VR0hfTEVOU3x8dHlwZT09PURJU1RTJiZ1c2VkPkVOT1VHSF9ESVNUUyl7cmV0dXJuIDF9bG93PWh1ZmYmbWFzazt0YWJsZVtsb3ddPXJvb3Q8PDI0fGN1cnI8PDE2fG5leHQtdGFibGVfaW5kZXh8MH19aWYoaHVmZiE9PTApe3RhYmxlW25leHQraHVmZl09bGVuLWRyb3A8PDI0fDY0PDwxNnwwfW9wdHMuYml0cz1yb290O3JldHVybiAwfX0seyIuLi91dGlscy9jb21tb24iOjE4MH1dLDE4ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7YXJndW1lbnRzWzRdWzE1Nl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpfSx7ZHVwOjE1Nn1dLDE4OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7YXJndW1lbnRzWzRdWzE1N11bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpfSx7Ii4uL3V0aWxzL2NvbW1vbiI6MTgwLGR1cDoxNTd9XSwxOTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNThdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNTh9XSwxOTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXtmdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cyxhbGxvd0Fib3ZlUm9vdCl7dmFyIHVwPTA7Zm9yKHZhciBpPXBhcnRzLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbGFzdD1wYXJ0c1tpXTtpZihsYXN0PT09Ii4iKXtwYXJ0cy5zcGxpY2UoaSwxKX1lbHNlIGlmKGxhc3Q9PT0iLi4iKXtwYXJ0cy5zcGxpY2UoaSwxKTt1cCsrfWVsc2UgaWYodXApe3BhcnRzLnNwbGljZShpLDEpO3VwLS19fWlmKGFsbG93QWJvdmVSb290KXtmb3IoO3VwLS07dXApe3BhcnRzLnVuc2hpZnQoIi4uIil9fXJldHVybiBwYXJ0c312YXIgc3BsaXRQYXRoUmU9L14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvO3ZhciBzcGxpdFBhdGg9ZnVuY3Rpb24oZmlsZW5hbWUpe3JldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKX07ZXhwb3J0cy5yZXNvbHZlPWZ1bmN0aW9uKCl7dmFyIHJlc29sdmVkUGF0aD0iIixyZXNvbHZlZEFic29sdXRlPWZhbHNlO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLTE7aT49LTEmJiFyZXNvbHZlZEFic29sdXRlO2ktLSl7dmFyIHBhdGg9aT49MD9hcmd1bWVudHNbaV06cHJvY2Vzcy5jd2QoKTtpZih0eXBlb2YgcGF0aCE9PSJzdHJpbmciKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncyIpfWVsc2UgaWYoIXBhdGgpe2NvbnRpbnVlfXJlc29sdmVkUGF0aD1wYXRoKyIvIityZXNvbHZlZFBhdGg7cmVzb2x2ZWRBYnNvbHV0ZT1wYXRoLmNoYXJBdCgwKT09PSIvIn1yZXNvbHZlZFBhdGg9bm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgiLyIpLGZ1bmN0aW9uKHApe3JldHVybiEhcH0pLCFyZXNvbHZlZEFic29sdXRlKS5qb2luKCIvIik7cmV0dXJuKHJlc29sdmVkQWJzb2x1dGU/Ii8iOiIiKStyZXNvbHZlZFBhdGh8fCIuIn07ZXhwb3J0cy5ub3JtYWxpemU9ZnVuY3Rpb24ocGF0aCl7dmFyIGlzQWJzb2x1dGU9ZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLHRyYWlsaW5nU2xhc2g9c3Vic3RyKHBhdGgsLTEpPT09Ii8iO3BhdGg9bm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoIi8iKSxmdW5jdGlvbihwKXtyZXR1cm4hIXB9KSwhaXNBYnNvbHV0ZSkuam9pbigiLyIpO2lmKCFwYXRoJiYhaXNBYnNvbHV0ZSl7cGF0aD0iLiJ9aWYocGF0aCYmdHJhaWxpbmdTbGFzaCl7cGF0aCs9Ii8ifXJldHVybihpc0Fic29sdXRlPyIvIjoiIikrcGF0aH07ZXhwb3J0cy5pc0Fic29sdXRlPWZ1bmN0aW9uKHBhdGgpe3JldHVybiBwYXRoLmNoYXJBdCgwKT09PSIvIn07ZXhwb3J0cy5qb2luPWZ1bmN0aW9uKCl7dmFyIHBhdGhzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLGZ1bmN0aW9uKHAsaW5kZXgpe2lmKHR5cGVvZiBwIT09InN0cmluZyIpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzIil9cmV0dXJuIHB9KS5qb2luKCIvIikpfTtleHBvcnRzLnJlbGF0aXZlPWZ1bmN0aW9uKGZyb20sdG8pe2Zyb209ZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTt0bz1leHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtmdW5jdGlvbiB0cmltKGFycil7dmFyIHN0YXJ0PTA7Zm9yKDtzdGFydDxhcnIubGVuZ3RoO3N0YXJ0Kyspe2lmKGFycltzdGFydF0hPT0iIilicmVha312YXIgZW5kPWFyci5sZW5ndGgtMTtmb3IoO2VuZD49MDtlbmQtLSl7aWYoYXJyW2VuZF0hPT0iIilicmVha31pZihzdGFydD5lbmQpcmV0dXJuW107cmV0dXJuIGFyci5zbGljZShzdGFydCxlbmQtc3RhcnQrMSl9dmFyIGZyb21QYXJ0cz10cmltKGZyb20uc3BsaXQoIi8iKSk7dmFyIHRvUGFydHM9dHJpbSh0by5zcGxpdCgiLyIpKTt2YXIgbGVuZ3RoPU1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsdG9QYXJ0cy5sZW5ndGgpO3ZhciBzYW1lUGFydHNMZW5ndGg9bGVuZ3RoO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7aWYoZnJvbVBhcnRzW2ldIT09dG9QYXJ0c1tpXSl7c2FtZVBhcnRzTGVuZ3RoPWk7YnJlYWt9fXZhciBvdXRwdXRQYXJ0cz1bXTtmb3IodmFyIGk9c2FtZVBhcnRzTGVuZ3RoO2k8ZnJvbVBhcnRzLmxlbmd0aDtpKyspe291dHB1dFBhcnRzLnB1c2goIi4uIil9b3V0cHV0UGFydHM9b3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7cmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oIi8iKX07ZXhwb3J0cy5zZXA9Ii8iO2V4cG9ydHMuZGVsaW1pdGVyPSI6IjtleHBvcnRzLmRpcm5hbWU9ZnVuY3Rpb24ocGF0aCl7dmFyIHJlc3VsdD1zcGxpdFBhdGgocGF0aCkscm9vdD1yZXN1bHRbMF0sZGlyPXJlc3VsdFsxXTtpZighcm9vdCYmIWRpcil7cmV0dXJuIi4ifWlmKGRpcil7ZGlyPWRpci5zdWJzdHIoMCxkaXIubGVuZ3RoLTEpfXJldHVybiByb290K2Rpcn07ZXhwb3J0cy5iYXNlbmFtZT1mdW5jdGlvbihwYXRoLGV4dCl7dmFyIGY9c3BsaXRQYXRoKHBhdGgpWzJdO2lmKGV4dCYmZi5zdWJzdHIoLTEqZXh0Lmxlbmd0aCk9PT1leHQpe2Y9Zi5zdWJzdHIoMCxmLmxlbmd0aC1leHQubGVuZ3RoKX1yZXR1cm4gZn07ZXhwb3J0cy5leHRuYW1lPWZ1bmN0aW9uKHBhdGgpe3JldHVybiBzcGxpdFBhdGgocGF0aClbM119O2Z1bmN0aW9uIGZpbHRlcih4cyxmKXtpZih4cy5maWx0ZXIpcmV0dXJuIHhzLmZpbHRlcihmKTt2YXIgcmVzPVtdO2Zvcih2YXIgaT0wO2k8eHMubGVuZ3RoO2krKyl7aWYoZih4c1tpXSxpLHhzKSlyZXMucHVzaCh4c1tpXSl9cmV0dXJuIHJlc312YXIgc3Vic3RyPSJhYiIuc3Vic3RyKC0xKT09PSJiIj9mdW5jdGlvbihzdHIsc3RhcnQsbGVuKXtyZXR1cm4gc3RyLnN1YnN0cihzdGFydCxsZW4pfTpmdW5jdGlvbihzdHIsc3RhcnQsbGVuKXtpZihzdGFydDwwKXN0YXJ0PXN0ci5sZW5ndGgrc3RhcnQ7cmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsbGVuKX19KS5jYWxsKHRoaXMscmVxdWlyZSgiX3Byb2Nlc3MiKSl9LHtfcHJvY2VzczoxOTN9XSwxOTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXsidXNlIHN0cmljdCI7aWYoIXByb2Nlc3MudmVyc2lvbnx8cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoInYwLiIpPT09MHx8cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoInYxLiIpPT09MCYmcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoInYxLjguIikhPT0wKXttb2R1bGUuZXhwb3J0cz1uZXh0VGlja31lbHNle21vZHVsZS5leHBvcnRzPXByb2Nlc3MubmV4dFRpY2t9ZnVuY3Rpb24gbmV4dFRpY2soZm4sYXJnMSxhcmcyLGFyZzMpe2lmKHR5cGVvZiBmbiE9PSJmdW5jdGlvbiIpe3Rocm93IG5ldyBUeXBlRXJyb3IoJyJjYWxsYmFjayIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyl9dmFyIGxlbj1hcmd1bWVudHMubGVuZ3RoO3ZhciBhcmdzLGk7c3dpdGNoKGxlbil7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbik7Y2FzZSAyOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja09uZSgpe2ZuLmNhbGwobnVsbCxhcmcxKX0pO2Nhc2UgMzpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUd28oKXtmbi5jYWxsKG51bGwsYXJnMSxhcmcyKX0pO2Nhc2UgNDpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUaHJlZSgpe2ZuLmNhbGwobnVsbCxhcmcxLGFyZzIsYXJnMyl9KTtkZWZhdWx0OmFyZ3M9bmV3IEFycmF5KGxlbi0xKTtpPTA7d2hpbGUoaTxhcmdzLmxlbmd0aCl7YXJnc1tpKytdPWFyZ3VtZW50c1tpXX1yZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2soKXtmbi5hcHBseShudWxsLGFyZ3MpfSl9fX0pLmNhbGwodGhpcyxyZXF1aXJlKCJfcHJvY2VzcyIpKX0se19wcm9jZXNzOjE5M31dLDE5MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307dmFyIGNhY2hlZFNldFRpbWVvdXQ7dmFyIGNhY2hlZENsZWFyVGltZW91dDtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9KGZ1bmN0aW9uKCl7dHJ5e2lmKHR5cGVvZiBzZXRUaW1lb3V0PT09ImZ1bmN0aW9uIil7Y2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0fWVsc2V7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtjYWNoZWRTZXRUaW1lb3V0PWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT0iZnVuY3Rpb24iKXtjYWNoZWRDbGVhclRpbWVvdXQ9Y2xlYXJUaW1lb3V0fWVsc2V7Y2FjaGVkQ2xlYXJUaW1lb3V0PWRlZmF1bHRDbGVhclRpbWVvdXR9fWNhdGNoKGUpe2NhY2hlZENsZWFyVGltZW91dD1kZWZhdWx0Q2xlYXJUaW1lb3V0fX0pKCk7ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pe2lmKGNhY2hlZFNldFRpbWVvdXQ9PT1zZXRUaW1lb3V0KXtyZXR1cm4gc2V0VGltZW91dChmdW4sMCl9aWYoKGNhY2hlZFNldFRpbWVvdXQ9PT1kZWZhdWx0U2V0VGltb3V0fHwhY2FjaGVkU2V0VGltZW91dCkmJnNldFRpbWVvdXQpe2NhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dDtyZXR1cm4gc2V0VGltZW91dChmdW4sMCl9dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLGZ1biwwKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsZnVuLDApfX19ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcil7aWYoY2FjaGVkQ2xlYXJUaW1lb3V0PT09Y2xlYXJUaW1lb3V0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcil9aWYoKGNhY2hlZENsZWFyVGltZW91dD09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFjYWNoZWRDbGVhclRpbWVvdXQpJiZjbGVhclRpbWVvdXQpe2NhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQ7cmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpfXRyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcil9Y2F0Y2goZSl7dHJ5e3JldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLG1hcmtlcil9Y2F0Y2goZSl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsbWFya2VyKX19fXZhciBxdWV1ZT1bXTt2YXIgZHJhaW5pbmc9ZmFsc2U7dmFyIGN1cnJlbnRRdWV1ZTt2YXIgcXVldWVJbmRleD0tMTtmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKXtpZighZHJhaW5pbmd8fCFjdXJyZW50UXVldWUpe3JldHVybn1kcmFpbmluZz1mYWxzZTtpZihjdXJyZW50UXVldWUubGVuZ3RoKXtxdWV1ZT1jdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKX1lbHNle3F1ZXVlSW5kZXg9LTF9aWYocXVldWUubGVuZ3RoKXtkcmFpblF1ZXVlKCl9fWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZihkcmFpbmluZyl7cmV0dXJufXZhciB0aW1lb3V0PXJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtkcmFpbmluZz10cnVlO3ZhciBsZW49cXVldWUubGVuZ3RoO3doaWxlKGxlbil7Y3VycmVudFF1ZXVlPXF1ZXVlO3F1ZXVlPVtdO3doaWxlKCsrcXVldWVJbmRleDxsZW4pe2lmKGN1cnJlbnRRdWV1ZSl7Y3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpfX1xdWV1ZUluZGV4PS0xO2xlbj1xdWV1ZS5sZW5ndGh9Y3VycmVudFF1ZXVlPW51bGw7ZHJhaW5pbmc9ZmFsc2U7cnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpfXByb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZnVuKXt2YXIgYXJncz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe2FyZ3NbaS0xXT1hcmd1bWVudHNbaV19fXF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLGFyZ3MpKTtpZihxdWV1ZS5sZW5ndGg9PT0xJiYhZHJhaW5pbmcpe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSl9fTtmdW5jdGlvbiBJdGVtKGZ1bixhcnJheSl7dGhpcy5mdW49ZnVuO3RoaXMuYXJyYXk9YXJyYXl9SXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07cHJvY2Vzcy50aXRsZT0iYnJvd3NlciI7cHJvY2Vzcy5icm93c2VyPXRydWU7cHJvY2Vzcy5lbnY9e307cHJvY2Vzcy5hcmd2PVtdO3Byb2Nlc3MudmVyc2lvbj0iIjtwcm9jZXNzLnZlcnNpb25zPXt9O2Z1bmN0aW9uIG5vb3AoKXt9cHJvY2Vzcy5vbj1ub29wO3Byb2Nlc3MuYWRkTGlzdGVuZXI9bm9vcDtwcm9jZXNzLm9uY2U9bm9vcDtwcm9jZXNzLm9mZj1ub29wO3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXI9bm9vcDtwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycz1ub29wO3Byb2Nlc3MuZW1pdD1ub29wO3Byb2Nlc3MuYmluZGluZz1mdW5jdGlvbihuYW1lKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9O3Byb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifTtwcm9jZXNzLmNoZGlyPWZ1bmN0aW9uKGRpcil7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX07cHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDE5NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9cmVxdWlyZSgiLi9saWIvX3N0cmVhbV9kdXBsZXguanMiKX0seyIuL2xpYi9fc3RyZWFtX2R1cGxleC5qcyI6MTk1fV0sMTk1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIG9iamVjdEtleXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKG9iail7dmFyIGtleXM9W107Zm9yKHZhciBrZXkgaW4gb2JqKXtrZXlzLnB1c2goa2V5KX1yZXR1cm4ga2V5c307bW9kdWxlLmV4cG9ydHM9RHVwbGV4O3ZhciBwcm9jZXNzTmV4dFRpY2s9cmVxdWlyZSgicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiKTt2YXIgdXRpbD1yZXF1aXJlKCJjb3JlLXV0aWwtaXMiKTt1dGlsLmluaGVyaXRzPXJlcXVpcmUoImluaGVyaXRzIik7dmFyIFJlYWRhYmxlPXJlcXVpcmUoIi4vX3N0cmVhbV9yZWFkYWJsZSIpO3ZhciBXcml0YWJsZT1yZXF1aXJlKCIuL19zdHJlYW1fd3JpdGFibGUiKTt1dGlsLmluaGVyaXRzKER1cGxleCxSZWFkYWJsZSk7dmFyIGtleXM9b2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO2Zvcih2YXIgdj0wO3Y8a2V5cy5sZW5ndGg7disrKXt2YXIgbWV0aG9kPWtleXNbdl07aWYoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSlEdXBsZXgucHJvdG90eXBlW21ldGhvZF09V3JpdGFibGUucHJvdG90eXBlW21ldGhvZF19ZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpO1dyaXRhYmxlLmNhbGwodGhpcyxvcHRpb25zKTtpZihvcHRpb25zJiZvcHRpb25zLnJlYWRhYmxlPT09ZmFsc2UpdGhpcy5yZWFkYWJsZT1mYWxzZTtpZihvcHRpb25zJiZvcHRpb25zLndyaXRhYmxlPT09ZmFsc2UpdGhpcy53cml0YWJsZT1mYWxzZTt0aGlzLmFsbG93SGFsZk9wZW49dHJ1ZTtpZihvcHRpb25zJiZvcHRpb25zLmFsbG93SGFsZk9wZW49PT1mYWxzZSl0aGlzLmFsbG93SGFsZk9wZW49ZmFsc2U7dGhpcy5vbmNlKCJlbmQiLG9uZW5kKX1mdW5jdGlvbiBvbmVuZCgpe2lmKHRoaXMuYWxsb3dIYWxmT3Blbnx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZClyZXR1cm47cHJvY2Vzc05leHRUaWNrKG9uRW5kTlQsdGhpcyl9ZnVuY3Rpb24gb25FbmROVChzZWxmKXtzZWxmLmVuZCgpfWZ1bmN0aW9uIGZvckVhY2goeHMsZil7Zm9yKHZhciBpPTAsbD14cy5sZW5ndGg7aTxsO2krKyl7Zih4c1tpXSxpKX19fSx7Ii4vX3N0cmVhbV9yZWFkYWJsZSI6MTk3LCIuL19zdHJlYW1fd3JpdGFibGUiOjE5OSwiY29yZS11dGlsLWlzIjoxNzQsaW5oZXJpdHM6MTc3LCJwcm9jZXNzLW5leHRpY2stYXJncyI6MTkyfV0sMTk2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7bW9kdWxlLmV4cG9ydHM9UGFzc1Rocm91Z2g7dmFyIFRyYW5zZm9ybT1yZXF1aXJlKCIuL19zdHJlYW1fdHJhbnNmb3JtIik7dmFyIHV0aWw9cmVxdWlyZSgiY29yZS11dGlsLWlzIik7dXRpbC5pbmhlcml0cz1yZXF1aXJlKCJpbmhlcml0cyIpO3V0aWwuaW5oZXJpdHMoUGFzc1Rocm91Z2gsVHJhbnNmb3JtKTtmdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtUcmFuc2Zvcm0uY2FsbCh0aGlzLG9wdGlvbnMpfVBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihudWxsLGNodW5rKX19LHsiLi9fc3RyZWFtX3RyYW5zZm9ybSI6MTk4LCJjb3JlLXV0aWwtaXMiOjE3NCxpbmhlcml0czoxNzd9XSwxOTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXsidXNlIHN0cmljdCI7bW9kdWxlLmV4cG9ydHM9UmVhZGFibGU7dmFyIHByb2Nlc3NOZXh0VGljaz1yZXF1aXJlKCJwcm9jZXNzLW5leHRpY2stYXJncyIpO3ZhciBpc0FycmF5PXJlcXVpcmUoImlzYXJyYXkiKTt2YXIgRHVwbGV4O1JlYWRhYmxlLlJlYWRhYmxlU3RhdGU9UmVhZGFibGVTdGF0ZTt2YXIgRUU9cmVxdWlyZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO3ZhciBFRWxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RofTt2YXIgU3RyZWFtPXJlcXVpcmUoIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0iKTt2YXIgQnVmZmVyPXJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcjt2YXIgYnVmZmVyU2hpbT1yZXF1aXJlKCJidWZmZXItc2hpbXMiKTt2YXIgdXRpbD1yZXF1aXJlKCJjb3JlLXV0aWwtaXMiKTt1dGlsLmluaGVyaXRzPXJlcXVpcmUoImluaGVyaXRzIik7dmFyIGRlYnVnVXRpbD1yZXF1aXJlKCJ1dGlsIik7dmFyIGRlYnVnPXZvaWQgMDtpZihkZWJ1Z1V0aWwmJmRlYnVnVXRpbC5kZWJ1Z2xvZyl7ZGVidWc9ZGVidWdVdGlsLmRlYnVnbG9nKCJzdHJlYW0iKX1lbHNle2RlYnVnPWZ1bmN0aW9uKCl7fX12YXIgQnVmZmVyTGlzdD1yZXF1aXJlKCIuL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdCIpO3ZhciBTdHJpbmdEZWNvZGVyO3V0aWwuaW5oZXJpdHMoUmVhZGFibGUsU3RyZWFtKTt2YXIga1Byb3h5RXZlbnRzPVsiZXJyb3IiLCJjbG9zZSIsImRlc3Ryb3kiLCJwYXVzZSIsInJlc3VtZSJdO2Z1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLGV2ZW50LGZuKXtpZih0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXI9PT0iZnVuY3Rpb24iKXtyZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsZm4pfWVsc2V7aWYoIWVtaXR0ZXIuX2V2ZW50c3x8IWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pZW1pdHRlci5vbihldmVudCxmbik7ZWxzZSBpZihpc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKWVtaXR0ZXIuX2V2ZW50c1tldmVudF0udW5zaGlmdChmbik7ZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdPVtmbixlbWl0dGVyLl9ldmVudHNbZXZlbnRdXX19ZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLHN0cmVhbSl7RHVwbGV4PUR1cGxleHx8cmVxdWlyZSgiLi9fc3RyZWFtX2R1cGxleCIpO29wdGlvbnM9b3B0aW9uc3x8e307dGhpcy5vYmplY3RNb2RlPSEhb3B0aW9ucy5vYmplY3RNb2RlO2lmKHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleCl0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlO3ZhciBod209b3B0aW9ucy5oaWdoV2F0ZXJNYXJrO3ZhciBkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNioxMDI0O3RoaXMuaGlnaFdhdGVyTWFyaz1od218fGh3bT09PTA/aHdtOmRlZmF1bHRId207dGhpcy5oaWdoV2F0ZXJNYXJrPX5+dGhpcy5oaWdoV2F0ZXJNYXJrO3RoaXMuYnVmZmVyPW5ldyBCdWZmZXJMaXN0O3RoaXMubGVuZ3RoPTA7dGhpcy5waXBlcz1udWxsO3RoaXMucGlwZXNDb3VudD0wO3RoaXMuZmxvd2luZz1udWxsO3RoaXMuZW5kZWQ9ZmFsc2U7dGhpcy5lbmRFbWl0dGVkPWZhbHNlO3RoaXMucmVhZGluZz1mYWxzZTt0aGlzLnN5bmM9dHJ1ZTt0aGlzLm5lZWRSZWFkYWJsZT1mYWxzZTt0aGlzLmVtaXR0ZWRSZWFkYWJsZT1mYWxzZTt0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPWZhbHNlO3RoaXMucmVzdW1lU2NoZWR1bGVkPWZhbHNlO3RoaXMuZGVmYXVsdEVuY29kaW5nPW9wdGlvbnMuZGVmYXVsdEVuY29kaW5nfHwidXRmOCI7dGhpcy5yYW5PdXQ9ZmFsc2U7dGhpcy5hd2FpdERyYWluPTA7dGhpcy5yZWFkaW5nTW9yZT1mYWxzZTt0aGlzLmRlY29kZXI9bnVsbDt0aGlzLmVuY29kaW5nPW51bGw7aWYob3B0aW9ucy5lbmNvZGluZyl7aWYoIVN0cmluZ0RlY29kZXIpU3RyaW5nRGVjb2Rlcj1yZXF1aXJlKCJzdHJpbmdfZGVjb2Rlci8iKS5TdHJpbmdEZWNvZGVyO3RoaXMuZGVjb2Rlcj1uZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKTt0aGlzLmVuY29kaW5nPW9wdGlvbnMuZW5jb2Rpbmd9fWZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpe0R1cGxleD1EdXBsZXh8fHJlcXVpcmUoIi4vX3N0cmVhbV9kdXBsZXgiKTtpZighKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsdGhpcyk7dGhpcy5yZWFkYWJsZT10cnVlO2lmKG9wdGlvbnMmJnR5cGVvZiBvcHRpb25zLnJlYWQ9PT0iZnVuY3Rpb24iKXRoaXMuX3JlYWQ9b3B0aW9ucy5yZWFkO1N0cmVhbS5jYWxsKHRoaXMpfVJlYWRhYmxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nKXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtpZighc3RhdGUub2JqZWN0TW9kZSYmdHlwZW9mIGNodW5rPT09InN0cmluZyIpe2VuY29kaW5nPWVuY29kaW5nfHxzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7aWYoZW5jb2RpbmchPT1zdGF0ZS5lbmNvZGluZyl7Y2h1bms9YnVmZmVyU2hpbS5mcm9tKGNodW5rLGVuY29kaW5nKTtlbmNvZGluZz0iIn19cmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcyxzdGF0ZSxjaHVuayxlbmNvZGluZyxmYWxzZSl9O1JlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGNodW5rKXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLHN0YXRlLGNodW5rLCIiLHRydWUpfTtSZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPT09ZmFsc2V9O2Z1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLHN0YXRlLGNodW5rLGVuY29kaW5nLGFkZFRvRnJvbnQpe3ZhciBlcj1jaHVua0ludmFsaWQoc3RhdGUsY2h1bmspO2lmKGVyKXtzdHJlYW0uZW1pdCgiZXJyb3IiLGVyKX1lbHNlIGlmKGNodW5rPT09bnVsbCl7c3RhdGUucmVhZGluZz1mYWxzZTtvbkVvZkNodW5rKHN0cmVhbSxzdGF0ZSl9ZWxzZSBpZihzdGF0ZS5vYmplY3RNb2RlfHxjaHVuayYmY2h1bmsubGVuZ3RoPjApe2lmKHN0YXRlLmVuZGVkJiYhYWRkVG9Gcm9udCl7dmFyIGU9bmV3IEVycm9yKCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRiIpO3N0cmVhbS5lbWl0KCJlcnJvciIsZSl9ZWxzZSBpZihzdGF0ZS5lbmRFbWl0dGVkJiZhZGRUb0Zyb250KXt2YXIgX2U9bmV3IEVycm9yKCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCIpO3N0cmVhbS5lbWl0KCJlcnJvciIsX2UpfWVsc2V7dmFyIHNraXBBZGQ7aWYoc3RhdGUuZGVjb2RlciYmIWFkZFRvRnJvbnQmJiFlbmNvZGluZyl7Y2h1bms9c3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7c2tpcEFkZD0hc3RhdGUub2JqZWN0TW9kZSYmY2h1bmsubGVuZ3RoPT09MH1pZighYWRkVG9Gcm9udClzdGF0ZS5yZWFkaW5nPWZhbHNlO2lmKCFza2lwQWRkKXtpZihzdGF0ZS5mbG93aW5nJiZzdGF0ZS5sZW5ndGg9PT0wJiYhc3RhdGUuc3luYyl7c3RyZWFtLmVtaXQoImRhdGEiLGNodW5rKTtzdHJlYW0ucmVhZCgwKX1lbHNle3N0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aDtpZihhZGRUb0Zyb250KXN0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTtlbHNlIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtpZihzdGF0ZS5uZWVkUmVhZGFibGUpZW1pdFJlYWRhYmxlKHN0cmVhbSl9fW1heWJlUmVhZE1vcmUoc3RyZWFtLHN0YXRlKX19ZWxzZSBpZighYWRkVG9Gcm9udCl7c3RhdGUucmVhZGluZz1mYWxzZX1yZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKX1mdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpe3JldHVybiFzdGF0ZS5lbmRlZCYmKHN0YXRlLm5lZWRSZWFkYWJsZXx8c3RhdGUubGVuZ3RoPHN0YXRlLmhpZ2hXYXRlck1hcmt8fHN0YXRlLmxlbmd0aD09PTApfVJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbihlbmMpe2lmKCFTdHJpbmdEZWNvZGVyKVN0cmluZ0RlY29kZXI9cmVxdWlyZSgic3RyaW5nX2RlY29kZXIvIikuU3RyaW5nRGVjb2Rlcjt0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXI9bmV3IFN0cmluZ0RlY29kZXIoZW5jKTt0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nPWVuYztyZXR1cm4gdGhpc307dmFyIE1BWF9IV009ODM4ODYwODtmdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKXtpZihuPj1NQVhfSFdNKXtuPU1BWF9IV019ZWxzZXtuLS07bnw9bj4+PjE7bnw9bj4+PjI7bnw9bj4+PjQ7bnw9bj4+Pjg7bnw9bj4+PjE2O24rK31yZXR1cm4gbn1mdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sc3RhdGUpe2lmKG48PTB8fHN0YXRlLmxlbmd0aD09PTAmJnN0YXRlLmVuZGVkKXJldHVybiAwO2lmKHN0YXRlLm9iamVjdE1vZGUpcmV0dXJuIDE7aWYobiE9PW4pe2lmKHN0YXRlLmZsb3dpbmcmJnN0YXRlLmxlbmd0aClyZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RofWlmKG4+c3RhdGUuaGlnaFdhdGVyTWFyaylzdGF0ZS5oaWdoV2F0ZXJNYXJrPWNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pO2lmKG48PXN0YXRlLmxlbmd0aClyZXR1cm4gbjtpZighc3RhdGUuZW5kZWQpe3N0YXRlLm5lZWRSZWFkYWJsZT10cnVlO3JldHVybiAwfXJldHVybiBzdGF0ZS5sZW5ndGh9UmVhZGFibGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24obil7ZGVidWcoInJlYWQiLG4pO249cGFyc2VJbnQobiwxMCk7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7dmFyIG5PcmlnPW47aWYobiE9PTApc3RhdGUuZW1pdHRlZFJlYWRhYmxlPWZhbHNlO2lmKG49PT0wJiZzdGF0ZS5uZWVkUmVhZGFibGUmJihzdGF0ZS5sZW5ndGg+PXN0YXRlLmhpZ2hXYXRlck1hcmt8fHN0YXRlLmVuZGVkKSl7ZGVidWcoInJlYWQ6IGVtaXRSZWFkYWJsZSIsc3RhdGUubGVuZ3RoLHN0YXRlLmVuZGVkKTtpZihzdGF0ZS5sZW5ndGg9PT0wJiZzdGF0ZS5lbmRlZCllbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtyZXR1cm4gbnVsbH1uPWhvd011Y2hUb1JlYWQobixzdGF0ZSk7aWYobj09PTAmJnN0YXRlLmVuZGVkKXtpZihzdGF0ZS5sZW5ndGg9PT0wKWVuZFJlYWRhYmxlKHRoaXMpO3JldHVybiBudWxsfXZhciBkb1JlYWQ9c3RhdGUubmVlZFJlYWRhYmxlO2RlYnVnKCJuZWVkIHJlYWRhYmxlIixkb1JlYWQpO2lmKHN0YXRlLmxlbmd0aD09PTB8fHN0YXRlLmxlbmd0aC1uPHN0YXRlLmhpZ2hXYXRlck1hcmspe2RvUmVhZD10cnVlO2RlYnVnKCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFyayIsZG9SZWFkKX1pZihzdGF0ZS5lbmRlZHx8c3RhdGUucmVhZGluZyl7ZG9SZWFkPWZhbHNlO2RlYnVnKCJyZWFkaW5nIG9yIGVuZGVkIixkb1JlYWQpfWVsc2UgaWYoZG9SZWFkKXtkZWJ1ZygiZG8gcmVhZCIpO3N0YXRlLnJlYWRpbmc9dHJ1ZTtzdGF0ZS5zeW5jPXRydWU7aWYoc3RhdGUubGVuZ3RoPT09MClzdGF0ZS5uZWVkUmVhZGFibGU9dHJ1ZTt0aGlzLl9yZWFkKHN0YXRlLmhpZ2hXYXRlck1hcmspO3N0YXRlLnN5bmM9ZmFsc2U7aWYoIXN0YXRlLnJlYWRpbmcpbj1ob3dNdWNoVG9SZWFkKG5PcmlnLHN0YXRlKX12YXIgcmV0O2lmKG4+MClyZXQ9ZnJvbUxpc3QobixzdGF0ZSk7ZWxzZSByZXQ9bnVsbDtpZihyZXQ9PT1udWxsKXtzdGF0ZS5uZWVkUmVhZGFibGU9dHJ1ZTtuPTB9ZWxzZXtzdGF0ZS5sZW5ndGgtPW59aWYoc3RhdGUubGVuZ3RoPT09MCl7aWYoIXN0YXRlLmVuZGVkKXN0YXRlLm5lZWRSZWFkYWJsZT10cnVlO2lmKG5PcmlnIT09biYmc3RhdGUuZW5kZWQpZW5kUmVhZGFibGUodGhpcyl9aWYocmV0IT09bnVsbCl0aGlzLmVtaXQoImRhdGEiLHJldCk7cmV0dXJuIHJldH07ZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLGNodW5rKXt2YXIgZXI9bnVsbDtpZighQnVmZmVyLmlzQnVmZmVyKGNodW5rKSYmdHlwZW9mIGNodW5rIT09InN0cmluZyImJmNodW5rIT09bnVsbCYmY2h1bmshPT11bmRlZmluZWQmJiFzdGF0ZS5vYmplY3RNb2RlKXtlcj1uZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rIil9cmV0dXJuIGVyfWZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLHN0YXRlKXtpZihzdGF0ZS5lbmRlZClyZXR1cm47aWYoc3RhdGUuZGVjb2Rlcil7dmFyIGNodW5rPXN0YXRlLmRlY29kZXIuZW5kKCk7aWYoY2h1bmsmJmNodW5rLmxlbmd0aCl7c3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO3N0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aH19c3RhdGUuZW5kZWQ9dHJ1ZTtlbWl0UmVhZGFibGUoc3RyZWFtKX1mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO3N0YXRlLm5lZWRSZWFkYWJsZT1mYWxzZTtpZighc3RhdGUuZW1pdHRlZFJlYWRhYmxlKXtkZWJ1ZygiZW1pdFJlYWRhYmxlIixzdGF0ZS5mbG93aW5nKTtzdGF0ZS5lbWl0dGVkUmVhZGFibGU9dHJ1ZTtpZihzdGF0ZS5zeW5jKXByb2Nlc3NOZXh0VGljayhlbWl0UmVhZGFibGVfLHN0cmVhbSk7ZWxzZSBlbWl0UmVhZGFibGVfKHN0cmVhbSl9fWZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKXtkZWJ1ZygiZW1pdCByZWFkYWJsZSIpO3N0cmVhbS5lbWl0KCJyZWFkYWJsZSIpO2Zsb3coc3RyZWFtKX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSxzdGF0ZSl7aWYoIXN0YXRlLnJlYWRpbmdNb3JlKXtzdGF0ZS5yZWFkaW5nTW9yZT10cnVlO3Byb2Nlc3NOZXh0VGljayhtYXliZVJlYWRNb3JlXyxzdHJlYW0sc3RhdGUpfX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sc3RhdGUpe3ZhciBsZW49c3RhdGUubGVuZ3RoO3doaWxlKCFzdGF0ZS5yZWFkaW5nJiYhc3RhdGUuZmxvd2luZyYmIXN0YXRlLmVuZGVkJiZzdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyayl7ZGVidWcoIm1heWJlUmVhZE1vcmUgcmVhZCAwIik7c3RyZWFtLnJlYWQoMCk7aWYobGVuPT09c3RhdGUubGVuZ3RoKWJyZWFrO2Vsc2UgbGVuPXN0YXRlLmxlbmd0aH1zdGF0ZS5yZWFkaW5nTW9yZT1mYWxzZX1SZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24obil7dGhpcy5lbWl0KCJlcnJvciIsbmV3IEVycm9yKCJfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZCIpKX07UmVhZGFibGUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZGVzdCxwaXBlT3B0cyl7dmFyIHNyYz10aGlzO3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChzdGF0ZS5waXBlc0NvdW50KXtjYXNlIDA6c3RhdGUucGlwZXM9ZGVzdDticmVhaztjYXNlIDE6c3RhdGUucGlwZXM9W3N0YXRlLnBpcGVzLGRlc3RdO2JyZWFrO2RlZmF1bHQ6c3RhdGUucGlwZXMucHVzaChkZXN0KTticmVha31zdGF0ZS5waXBlc0NvdW50Kz0xO2RlYnVnKCJwaXBlIGNvdW50PSVkIG9wdHM9JWoiLHN0YXRlLnBpcGVzQ291bnQscGlwZU9wdHMpO3ZhciBkb0VuZD0oIXBpcGVPcHRzfHxwaXBlT3B0cy5lbmQhPT1mYWxzZSkmJmRlc3QhPT1wcm9jZXNzLnN0ZG91dCYmZGVzdCE9PXByb2Nlc3Muc3RkZXJyO3ZhciBlbmRGbj1kb0VuZD9vbmVuZDpjbGVhbnVwO2lmKHN0YXRlLmVuZEVtaXR0ZWQpcHJvY2Vzc05leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCJlbmQiLGVuZEZuKTtkZXN0Lm9uKCJ1bnBpcGUiLG9udW5waXBlKTtmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSl7ZGVidWcoIm9udW5waXBlIik7aWYocmVhZGFibGU9PT1zcmMpe2NsZWFudXAoKX19ZnVuY3Rpb24gb25lbmQoKXtkZWJ1Zygib25lbmQiKTtkZXN0LmVuZCgpfXZhciBvbmRyYWluPXBpcGVPbkRyYWluKHNyYyk7ZGVzdC5vbigiZHJhaW4iLG9uZHJhaW4pO3ZhciBjbGVhbmVkVXA9ZmFsc2U7ZnVuY3Rpb24gY2xlYW51cCgpe2RlYnVnKCJjbGVhbnVwIik7ZGVzdC5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG9uY2xvc2UpO2Rlc3QucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsb25maW5pc2gpO2Rlc3QucmVtb3ZlTGlzdGVuZXIoImRyYWluIixvbmRyYWluKTtkZXN0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsb25lcnJvcik7ZGVzdC5yZW1vdmVMaXN0ZW5lcigidW5waXBlIixvbnVucGlwZSk7c3JjLnJlbW92ZUxpc3RlbmVyKCJlbmQiLG9uZW5kKTtzcmMucmVtb3ZlTGlzdGVuZXIoImVuZCIsY2xlYW51cCk7c3JjLnJlbW92ZUxpc3RlbmVyKCJkYXRhIixvbmRhdGEpO2NsZWFuZWRVcD10cnVlO2lmKHN0YXRlLmF3YWl0RHJhaW4mJighZGVzdC5fd3JpdGFibGVTdGF0ZXx8ZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKW9uZHJhaW4oKX12YXIgaW5jcmVhc2VkQXdhaXREcmFpbj1mYWxzZTtzcmMub24oImRhdGEiLG9uZGF0YSk7ZnVuY3Rpb24gb25kYXRhKGNodW5rKXtkZWJ1Zygib25kYXRhIik7aW5jcmVhc2VkQXdhaXREcmFpbj1mYWxzZTt2YXIgcmV0PWRlc3Qud3JpdGUoY2h1bmspO2lmKGZhbHNlPT09cmV0JiYhaW5jcmVhc2VkQXdhaXREcmFpbil7aWYoKHN0YXRlLnBpcGVzQ291bnQ9PT0xJiZzdGF0ZS5waXBlcz09PWRlc3R8fHN0YXRlLnBpcGVzQ291bnQ+MSYmaW5kZXhPZihzdGF0ZS5waXBlcyxkZXN0KSE9PS0xKSYmIWNsZWFuZWRVcCl7ZGVidWcoImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZSIsc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pO3NyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKys7aW5jcmVhc2VkQXdhaXREcmFpbj10cnVlfXNyYy5wYXVzZSgpfX1mdW5jdGlvbiBvbmVycm9yKGVyKXtkZWJ1Zygib25lcnJvciIsZXIpO3VucGlwZSgpO2Rlc3QucmVtb3ZlTGlzdGVuZXIoImVycm9yIixvbmVycm9yKTtpZihFRWxpc3RlbmVyQ291bnQoZGVzdCwiZXJyb3IiKT09PTApZGVzdC5lbWl0KCJlcnJvciIsZXIpfXByZXBlbmRMaXN0ZW5lcihkZXN0LCJlcnJvciIsb25lcnJvcik7ZnVuY3Rpb24gb25jbG9zZSgpe2Rlc3QucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsb25maW5pc2gpO3VucGlwZSgpfWRlc3Qub25jZSgiY2xvc2UiLG9uY2xvc2UpO2Z1bmN0aW9uIG9uZmluaXNoKCl7ZGVidWcoIm9uZmluaXNoIik7ZGVzdC5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG9uY2xvc2UpO3VucGlwZSgpfWRlc3Qub25jZSgiZmluaXNoIixvbmZpbmlzaCk7ZnVuY3Rpb24gdW5waXBlKCl7ZGVidWcoInVucGlwZSIpO3NyYy51bnBpcGUoZGVzdCl9ZGVzdC5lbWl0KCJwaXBlIixzcmMpO2lmKCFzdGF0ZS5mbG93aW5nKXtkZWJ1ZygicGlwZSByZXN1bWUiKTtzcmMucmVzdW1lKCl9cmV0dXJuIGRlc3R9O2Z1bmN0aW9uIHBpcGVPbkRyYWluKHNyYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHN0YXRlPXNyYy5fcmVhZGFibGVTdGF0ZTtkZWJ1ZygicGlwZU9uRHJhaW4iLHN0YXRlLmF3YWl0RHJhaW4pO2lmKHN0YXRlLmF3YWl0RHJhaW4pc3RhdGUuYXdhaXREcmFpbi0tO2lmKHN0YXRlLmF3YWl0RHJhaW49PT0wJiZFRWxpc3RlbmVyQ291bnQoc3JjLCJkYXRhIikpe3N0YXRlLmZsb3dpbmc9dHJ1ZTtmbG93KHNyYyl9fX1SZWFkYWJsZS5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGRlc3Qpe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO2lmKHN0YXRlLnBpcGVzQ291bnQ9PT0wKXJldHVybiB0aGlzO2lmKHN0YXRlLnBpcGVzQ291bnQ9PT0xKXtpZihkZXN0JiZkZXN0IT09c3RhdGUucGlwZXMpcmV0dXJuIHRoaXM7aWYoIWRlc3QpZGVzdD1zdGF0ZS5waXBlcztzdGF0ZS5waXBlcz1udWxsO3N0YXRlLnBpcGVzQ291bnQ9MDtzdGF0ZS5mbG93aW5nPWZhbHNlO2lmKGRlc3QpZGVzdC5lbWl0KCJ1bnBpcGUiLHRoaXMpO3JldHVybiB0aGlzfWlmKCFkZXN0KXt2YXIgZGVzdHM9c3RhdGUucGlwZXM7dmFyIGxlbj1zdGF0ZS5waXBlc0NvdW50O3N0YXRlLnBpcGVzPW51bGw7c3RhdGUucGlwZXNDb3VudD0wO3N0YXRlLmZsb3dpbmc9ZmFsc2U7Zm9yKHZhciBpPTA7aTxsZW47aSsrKXtkZXN0c1tpXS5lbWl0KCJ1bnBpcGUiLHRoaXMpfXJldHVybiB0aGlzfXZhciBpbmRleD1pbmRleE9mKHN0YXRlLnBpcGVzLGRlc3QpO2lmKGluZGV4PT09LTEpcmV0dXJuIHRoaXM7c3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LDEpO3N0YXRlLnBpcGVzQ291bnQtPTE7aWYoc3RhdGUucGlwZXNDb3VudD09PTEpc3RhdGUucGlwZXM9c3RhdGUucGlwZXNbMF07ZGVzdC5lbWl0KCJ1bnBpcGUiLHRoaXMpO3JldHVybiB0aGlzfTtSZWFkYWJsZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZXYsZm4pe3ZhciByZXM9U3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZXYsZm4pO2lmKGV2PT09ImRhdGEiKXtpZih0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmchPT1mYWxzZSl0aGlzLnJlc3VtZSgpfWVsc2UgaWYoZXY9PT0icmVhZGFibGUiKXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtpZighc3RhdGUuZW5kRW1pdHRlZCYmIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKXtzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZz1zdGF0ZS5uZWVkUmVhZGFibGU9dHJ1ZTtzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ZmFsc2U7aWYoIXN0YXRlLnJlYWRpbmcpe3Byb2Nlc3NOZXh0VGljayhuUmVhZGluZ05leHRUaWNrLHRoaXMpfWVsc2UgaWYoc3RhdGUubGVuZ3RoKXtlbWl0UmVhZGFibGUodGhpcyxzdGF0ZSl9fX1yZXR1cm4gcmVzfTtSZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9UmVhZGFibGUucHJvdG90eXBlLm9uO2Z1bmN0aW9uIG5SZWFkaW5nTmV4dFRpY2soc2VsZil7ZGVidWcoInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCIpO3NlbGYucmVhZCgwKX1SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7aWYoIXN0YXRlLmZsb3dpbmcpe2RlYnVnKCJyZXN1bWUiKTtzdGF0ZS5mbG93aW5nPXRydWU7cmVzdW1lKHRoaXMsc3RhdGUpfXJldHVybiB0aGlzfTtmdW5jdGlvbiByZXN1bWUoc3RyZWFtLHN0YXRlKXtpZighc3RhdGUucmVzdW1lU2NoZWR1bGVkKXtzdGF0ZS5yZXN1bWVTY2hlZHVsZWQ9dHJ1ZTtwcm9jZXNzTmV4dFRpY2socmVzdW1lXyxzdHJlYW0sc3RhdGUpfX1mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSxzdGF0ZSl7aWYoIXN0YXRlLnJlYWRpbmcpe2RlYnVnKCJyZXN1bWUgcmVhZCAwIik7c3RyZWFtLnJlYWQoMCl9c3RhdGUucmVzdW1lU2NoZWR1bGVkPWZhbHNlO3N0YXRlLmF3YWl0RHJhaW49MDtzdHJlYW0uZW1pdCgicmVzdW1lIik7ZmxvdyhzdHJlYW0pO2lmKHN0YXRlLmZsb3dpbmcmJiFzdGF0ZS5yZWFkaW5nKXN0cmVhbS5yZWFkKDApfVJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe2RlYnVnKCJjYWxsIHBhdXNlIGZsb3dpbmc9JWoiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7aWYoZmFsc2UhPT10aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpe2RlYnVnKCJwYXVzZSIpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz1mYWxzZTt0aGlzLmVtaXQoInBhdXNlIil9cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIGZsb3coc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO2RlYnVnKCJmbG93IixzdGF0ZS5mbG93aW5nKTt3aGlsZShzdGF0ZS5mbG93aW5nJiZzdHJlYW0ucmVhZCgpIT09bnVsbCl7fX1SZWFkYWJsZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihzdHJlYW0pe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3ZhciBwYXVzZWQ9ZmFsc2U7dmFyIHNlbGY9dGhpcztzdHJlYW0ub24oImVuZCIsZnVuY3Rpb24oKXtkZWJ1Zygid3JhcHBlZCBlbmQiKTtpZihzdGF0ZS5kZWNvZGVyJiYhc3RhdGUuZW5kZWQpe3ZhciBjaHVuaz1zdGF0ZS5kZWNvZGVyLmVuZCgpO2lmKGNodW5rJiZjaHVuay5sZW5ndGgpc2VsZi5wdXNoKGNodW5rKX1zZWxmLnB1c2gobnVsbCl9KTtzdHJlYW0ub24oImRhdGEiLGZ1bmN0aW9uKGNodW5rKXtkZWJ1Zygid3JhcHBlZCBkYXRhIik7aWYoc3RhdGUuZGVjb2RlciljaHVuaz1zdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtpZihzdGF0ZS5vYmplY3RNb2RlJiYoY2h1bms9PT1udWxsfHxjaHVuaz09PXVuZGVmaW5lZCkpcmV0dXJuO2Vsc2UgaWYoIXN0YXRlLm9iamVjdE1vZGUmJighY2h1bmt8fCFjaHVuay5sZW5ndGgpKXJldHVybjt2YXIgcmV0PXNlbGYucHVzaChjaHVuayk7aWYoIXJldCl7cGF1c2VkPXRydWU7c3RyZWFtLnBhdXNlKCl9fSk7Zm9yKHZhciBpIGluIHN0cmVhbSl7aWYodGhpc1tpXT09PXVuZGVmaW5lZCYmdHlwZW9mIHN0cmVhbVtpXT09PSJmdW5jdGlvbiIpe3RoaXNbaV09ZnVuY3Rpb24obWV0aG9kKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLGFyZ3VtZW50cyl9fShpKX19Zm9yKHZhciBuPTA7bjxrUHJveHlFdmVudHMubGVuZ3RoO24rKyl7c3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSxzZWxmLmVtaXQuYmluZChzZWxmLGtQcm94eUV2ZW50c1tuXSkpfXNlbGYuX3JlYWQ9ZnVuY3Rpb24obil7ZGVidWcoIndyYXBwZWQgX3JlYWQiLG4pO2lmKHBhdXNlZCl7cGF1c2VkPWZhbHNlO3N0cmVhbS5yZXN1bWUoKX19O3JldHVybiBzZWxmfTtSZWFkYWJsZS5fZnJvbUxpc3Q9ZnJvbUxpc3Q7ZnVuY3Rpb24gZnJvbUxpc3QobixzdGF0ZSl7aWYoc3RhdGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgcmV0O2lmKHN0YXRlLm9iamVjdE1vZGUpcmV0PXN0YXRlLmJ1ZmZlci5zaGlmdCgpO2Vsc2UgaWYoIW58fG4+PXN0YXRlLmxlbmd0aCl7aWYoc3RhdGUuZGVjb2RlcilyZXQ9c3RhdGUuYnVmZmVyLmpvaW4oIiIpO2Vsc2UgaWYoc3RhdGUuYnVmZmVyLmxlbmd0aD09PTEpcmV0PXN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQ9c3RhdGUuYnVmZmVyLmNvbmNhdChzdGF0ZS5sZW5ndGgpO3N0YXRlLmJ1ZmZlci5jbGVhcigpfWVsc2V7cmV0PWZyb21MaXN0UGFydGlhbChuLHN0YXRlLmJ1ZmZlcixzdGF0ZS5kZWNvZGVyKX1yZXR1cm4gcmV0fWZ1bmN0aW9uIGZyb21MaXN0UGFydGlhbChuLGxpc3QsaGFzU3RyaW5ncyl7dmFyIHJldDtpZihuPGxpc3QuaGVhZC5kYXRhLmxlbmd0aCl7cmV0PWxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsbik7bGlzdC5oZWFkLmRhdGE9bGlzdC5oZWFkLmRhdGEuc2xpY2Uobil9ZWxzZSBpZihuPT09bGlzdC5oZWFkLmRhdGEubGVuZ3RoKXtyZXQ9bGlzdC5zaGlmdCgpfWVsc2V7cmV0PWhhc1N0cmluZ3M/Y29weUZyb21CdWZmZXJTdHJpbmcobixsaXN0KTpjb3B5RnJvbUJ1ZmZlcihuLGxpc3QpfXJldHVybiByZXR9ZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobixsaXN0KXt2YXIgcD1saXN0LmhlYWQ7dmFyIGM9MTt2YXIgcmV0PXAuZGF0YTtuLT1yZXQubGVuZ3RoO3doaWxlKHA9cC5uZXh0KXt2YXIgc3RyPXAuZGF0YTt2YXIgbmI9bj5zdHIubGVuZ3RoP3N0ci5sZW5ndGg6bjtpZihuYj09PXN0ci5sZW5ndGgpcmV0Kz1zdHI7ZWxzZSByZXQrPXN0ci5zbGljZSgwLG4pO24tPW5iO2lmKG49PT0wKXtpZihuYj09PXN0ci5sZW5ndGgpeysrYztpZihwLm5leHQpbGlzdC5oZWFkPXAubmV4dDtlbHNlIGxpc3QuaGVhZD1saXN0LnRhaWw9bnVsbH1lbHNle2xpc3QuaGVhZD1wO3AuZGF0YT1zdHIuc2xpY2UobmIpfWJyZWFrfSsrY31saXN0Lmxlbmd0aC09YztyZXR1cm4gcmV0fWZ1bmN0aW9uIGNvcHlGcm9tQnVmZmVyKG4sbGlzdCl7dmFyIHJldD1idWZmZXJTaGltLmFsbG9jVW5zYWZlKG4pO3ZhciBwPWxpc3QuaGVhZDt2YXIgYz0xO3AuZGF0YS5jb3B5KHJldCk7bi09cC5kYXRhLmxlbmd0aDt3aGlsZShwPXAubmV4dCl7dmFyIGJ1Zj1wLmRhdGE7dmFyIG5iPW4+YnVmLmxlbmd0aD9idWYubGVuZ3RoOm47YnVmLmNvcHkocmV0LHJldC5sZW5ndGgtbiwwLG5iKTtuLT1uYjtpZihuPT09MCl7aWYobmI9PT1idWYubGVuZ3RoKXsrK2M7aWYocC5uZXh0KWxpc3QuaGVhZD1wLm5leHQ7ZWxzZSBsaXN0LmhlYWQ9bGlzdC50YWlsPW51bGx9ZWxzZXtsaXN0LmhlYWQ9cDtwLmRhdGE9YnVmLnNsaWNlKG5iKX1icmVha30rK2N9bGlzdC5sZW5ndGgtPWM7cmV0dXJuIHJldH1mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pe3ZhciBzdGF0ZT1zdHJlYW0uX3JlYWRhYmxlU3RhdGU7aWYoc3RhdGUubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCciZW5kUmVhZGFibGUoKSIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtpZighc3RhdGUuZW5kRW1pdHRlZCl7c3RhdGUuZW5kZWQ9dHJ1ZTtwcm9jZXNzTmV4dFRpY2soZW5kUmVhZGFibGVOVCxzdGF0ZSxzdHJlYW0pfX1mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLHN0cmVhbSl7aWYoIXN0YXRlLmVuZEVtaXR0ZWQmJnN0YXRlLmxlbmd0aD09PTApe3N0YXRlLmVuZEVtaXR0ZWQ9dHJ1ZTtzdHJlYW0ucmVhZGFibGU9ZmFsc2U7c3RyZWFtLmVtaXQoImVuZCIpfX1mdW5jdGlvbiBmb3JFYWNoKHhzLGYpe2Zvcih2YXIgaT0wLGw9eHMubGVuZ3RoO2k8bDtpKyspe2YoeHNbaV0saSl9fWZ1bmN0aW9uIGluZGV4T2YoeHMseCl7Zm9yKHZhciBpPTAsbD14cy5sZW5ndGg7aTxsO2krKyl7aWYoeHNbaV09PT14KXJldHVybiBpfXJldHVybi0xfX0pLmNhbGwodGhpcyxyZXF1aXJlKCJfcHJvY2VzcyIpKX0seyIuL19zdHJlYW1fZHVwbGV4IjoxOTUsIi4vaW50ZXJuYWwvc3RyZWFtcy9CdWZmZXJMaXN0IjoyMDAsIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0iOjIwMSxfcHJvY2VzczoxOTMsYnVmZmVyOjE3MywiYnVmZmVyLXNoaW1zIjoxNzIsImNvcmUtdXRpbC1pcyI6MTc0LGV2ZW50czoxNzUsaW5oZXJpdHM6MTc3LGlzYXJyYXk6MTc5LCJwcm9jZXNzLW5leHRpY2stYXJncyI6MTkyLCJzdHJpbmdfZGVjb2Rlci8iOjIwMix1dGlsOjE2OX1dLDE5ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO21vZHVsZS5leHBvcnRzPVRyYW5zZm9ybTt2YXIgRHVwbGV4PXJlcXVpcmUoIi4vX3N0cmVhbV9kdXBsZXgiKTt2YXIgdXRpbD1yZXF1aXJlKCJjb3JlLXV0aWwtaXMiKTt1dGlsLmluaGVyaXRzPXJlcXVpcmUoImluaGVyaXRzIik7dXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sRHVwbGV4KTtmdW5jdGlvbiBUcmFuc2Zvcm1TdGF0ZShzdHJlYW0pe3RoaXMuYWZ0ZXJUcmFuc2Zvcm09ZnVuY3Rpb24oZXIsZGF0YSl7cmV0dXJuIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSxlcixkYXRhKX07dGhpcy5uZWVkVHJhbnNmb3JtPWZhbHNlO3RoaXMudHJhbnNmb3JtaW5nPWZhbHNlO3RoaXMud3JpdGVjYj1udWxsO3RoaXMud3JpdGVjaHVuaz1udWxsO3RoaXMud3JpdGVlbmNvZGluZz1udWxsfWZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSxlcixkYXRhKXt2YXIgdHM9c3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTt0cy50cmFuc2Zvcm1pbmc9ZmFsc2U7dmFyIGNiPXRzLndyaXRlY2I7aWYoIWNiKXJldHVybiBzdHJlYW0uZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigibm8gd3JpdGVjYiBpbiBUcmFuc2Zvcm0gY2xhc3MiKSk7dHMud3JpdGVjaHVuaz1udWxsO3RzLndyaXRlY2I9bnVsbDtpZihkYXRhIT09bnVsbCYmZGF0YSE9PXVuZGVmaW5lZClzdHJlYW0ucHVzaChkYXRhKTtjYihlcik7dmFyIHJzPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtycy5yZWFkaW5nPWZhbHNlO2lmKHJzLm5lZWRSZWFkYWJsZXx8cnMubGVuZ3RoPHJzLmhpZ2hXYXRlck1hcmspe3N0cmVhbS5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKX19ZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSkpcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7RHVwbGV4LmNhbGwodGhpcyxvcHRpb25zKTt0aGlzLl90cmFuc2Zvcm1TdGF0ZT1uZXcgVHJhbnNmb3JtU3RhdGUodGhpcyk7dmFyIHN0cmVhbT10aGlzO3RoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPXRydWU7dGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPWZhbHNlO2lmKG9wdGlvbnMpe2lmKHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybT09PSJmdW5jdGlvbiIpdGhpcy5fdHJhbnNmb3JtPW9wdGlvbnMudHJhbnNmb3JtO2lmKHR5cGVvZiBvcHRpb25zLmZsdXNoPT09ImZ1bmN0aW9uIil0aGlzLl9mbHVzaD1vcHRpb25zLmZsdXNofXRoaXMub25jZSgicHJlZmluaXNoIixmdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLl9mbHVzaD09PSJmdW5jdGlvbiIpdGhpcy5fZmx1c2goZnVuY3Rpb24oZXIsZGF0YSl7ZG9uZShzdHJlYW0sZXIsZGF0YSl9KTtlbHNlIGRvbmUoc3RyZWFtKX0pfVRyYW5zZm9ybS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayxlbmNvZGluZyl7dGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT1mYWxzZTtyZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxjaHVuayxlbmNvZGluZyl9O1RyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dGhyb3cgbmV3IEVycm9yKCJfdHJhbnNmb3JtKCkgaXMgbm90IGltcGxlbWVudGVkIil9O1RyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7dHMud3JpdGVjYj1jYjt0cy53cml0ZWNodW5rPWNodW5rO3RzLndyaXRlZW5jb2Rpbmc9ZW5jb2Rpbmc7aWYoIXRzLnRyYW5zZm9ybWluZyl7dmFyIHJzPXRoaXMuX3JlYWRhYmxlU3RhdGU7aWYodHMubmVlZFRyYW5zZm9ybXx8cnMubmVlZFJlYWRhYmxlfHxycy5sZW5ndGg8cnMuaGlnaFdhdGVyTWFyayl0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspfX07VHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihuKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYodHMud3JpdGVjaHVuayE9PW51bGwmJnRzLndyaXRlY2ImJiF0cy50cmFuc2Zvcm1pbmcpe3RzLnRyYW5zZm9ybWluZz10cnVlO3RoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLHRzLndyaXRlZW5jb2RpbmcsdHMuYWZ0ZXJUcmFuc2Zvcm0pfWVsc2V7dHMubmVlZFRyYW5zZm9ybT10cnVlfX07ZnVuY3Rpb24gZG9uZShzdHJlYW0sZXIsZGF0YSl7aWYoZXIpcmV0dXJuIHN0cmVhbS5lbWl0KCJlcnJvciIsZXIpO2lmKGRhdGEhPT1udWxsJiZkYXRhIT09dW5kZWZpbmVkKXN0cmVhbS5wdXNoKGRhdGEpO3ZhciB3cz1zdHJlYW0uX3dyaXRhYmxlU3RhdGU7dmFyIHRzPXN0cmVhbS5fdHJhbnNmb3JtU3RhdGU7aWYod3MubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwIik7aWYodHMudHJhbnNmb3JtaW5nKXRocm93IG5ldyBFcnJvcigiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZyIpO3JldHVybiBzdHJlYW0ucHVzaChudWxsKX19LHsiLi9fc3RyZWFtX2R1cGxleCI6MTk1LCJjb3JlLXV0aWwtaXMiOjE3NCxpbmhlcml0czoxNzd9XSwxOTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihwcm9jZXNzKXsidXNlIHN0cmljdCI7bW9kdWxlLmV4cG9ydHM9V3JpdGFibGU7dmFyIHByb2Nlc3NOZXh0VGljaz1yZXF1aXJlKCJwcm9jZXNzLW5leHRpY2stYXJncyIpO3ZhciBhc3luY1dyaXRlPSFwcm9jZXNzLmJyb3dzZXImJlsidjAuMTAiLCJ2MC45LiJdLmluZGV4T2YocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDAsNSkpPi0xP3NldEltbWVkaWF0ZTpwcm9jZXNzTmV4dFRpY2s7dmFyIER1cGxleDtXcml0YWJsZS5Xcml0YWJsZVN0YXRlPVdyaXRhYmxlU3RhdGU7dmFyIHV0aWw9cmVxdWlyZSgiY29yZS11dGlsLWlzIik7dXRpbC5pbmhlcml0cz1yZXF1aXJlKCJpbmhlcml0cyIpO3ZhciBpbnRlcm5hbFV0aWw9e2RlcHJlY2F0ZTpyZXF1aXJlKCJ1dGlsLWRlcHJlY2F0ZSIpfTt2YXIgU3RyZWFtPXJlcXVpcmUoIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0iKTt2YXIgQnVmZmVyPXJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcjt2YXIgYnVmZmVyU2hpbT1yZXF1aXJlKCJidWZmZXItc2hpbXMiKTt1dGlsLmluaGVyaXRzKFdyaXRhYmxlLFN0cmVhbSk7ZnVuY3Rpb24gbm9wKCl7fWZ1bmN0aW9uIFdyaXRlUmVxKGNodW5rLGVuY29kaW5nLGNiKXt0aGlzLmNodW5rPWNodW5rO3RoaXMuZW5jb2Rpbmc9ZW5jb2Rpbmc7dGhpcy5jYWxsYmFjaz1jYjt0aGlzLm5leHQ9bnVsbH1mdW5jdGlvbiBXcml0YWJsZVN0YXRlKG9wdGlvbnMsc3RyZWFtKXtEdXBsZXg9RHVwbGV4fHxyZXF1aXJlKCIuL19zdHJlYW1fZHVwbGV4Iik7b3B0aW9ucz1vcHRpb25zfHx7fTt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGU7aWYoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KXRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGU7dmFyIGh3bT1vcHRpb25zLmhpZ2hXYXRlck1hcms7dmFyIGRlZmF1bHRId209dGhpcy5vYmplY3RNb2RlPzE2OjE2KjEwMjQ7dGhpcy5oaWdoV2F0ZXJNYXJrPWh3bXx8aHdtPT09MD9od206ZGVmYXVsdEh3bTt0aGlzLmhpZ2hXYXRlck1hcms9fn50aGlzLmhpZ2hXYXRlck1hcms7dGhpcy5uZWVkRHJhaW49ZmFsc2U7dGhpcy5lbmRpbmc9ZmFsc2U7dGhpcy5lbmRlZD1mYWxzZTt0aGlzLmZpbmlzaGVkPWZhbHNlO3ZhciBub0RlY29kZT1vcHRpb25zLmRlY29kZVN0cmluZ3M9PT1mYWxzZTt0aGlzLmRlY29kZVN0cmluZ3M9IW5vRGVjb2RlO3RoaXMuZGVmYXVsdEVuY29kaW5nPW9wdGlvbnMuZGVmYXVsdEVuY29kaW5nfHwidXRmOCI7dGhpcy5sZW5ndGg9MDt0aGlzLndyaXRpbmc9ZmFsc2U7dGhpcy5jb3JrZWQ9MDt0aGlzLnN5bmM9dHJ1ZTt0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ZmFsc2U7dGhpcy5vbndyaXRlPWZ1bmN0aW9uKGVyKXtvbndyaXRlKHN0cmVhbSxlcil9O3RoaXMud3JpdGVjYj1udWxsO3RoaXMud3JpdGVsZW49MDt0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsO3RoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsO3RoaXMucGVuZGluZ2NiPTA7dGhpcy5wcmVmaW5pc2hlZD1mYWxzZTt0aGlzLmVycm9yRW1pdHRlZD1mYWxzZTt0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50PTA7dGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IENvcmtlZFJlcXVlc3QodGhpcyl9V3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uIGdldEJ1ZmZlcigpe3ZhciBjdXJyZW50PXRoaXMuYnVmZmVyZWRSZXF1ZXN0O3ZhciBvdXQ9W107d2hpbGUoY3VycmVudCl7b3V0LnB1c2goY3VycmVudCk7Y3VycmVudD1jdXJyZW50Lm5leHR9cmV0dXJuIG91dH07KGZ1bmN0aW9uKCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwiYnVmZmVyIix7Z2V0OmludGVybmFsVXRpbC5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCdWZmZXIoKX0sIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyICIrImluc3RlYWQuIil9KX1jYXRjaChfKXt9fSkoKTt2YXIgcmVhbEhhc0luc3RhbmNlO2lmKHR5cGVvZiBTeW1ib2w9PT0iZnVuY3Rpb24iJiZTeW1ib2wuaGFzSW5zdGFuY2UmJnR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT09PSJmdW5jdGlvbiIpe3JlYWxIYXNJbnN0YW5jZT1GdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUsU3ltYm9sLmhhc0luc3RhbmNlLHt2YWx1ZTpmdW5jdGlvbihvYmplY3Qpe2lmKHJlYWxIYXNJbnN0YW5jZS5jYWxsKHRoaXMsb2JqZWN0KSlyZXR1cm4gdHJ1ZTtyZXR1cm4gb2JqZWN0JiZvYmplY3QuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBXcml0YWJsZVN0YXRlfX0pfWVsc2V7cmVhbEhhc0luc3RhbmNlPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIHRoaXN9fWZ1bmN0aW9uIFdyaXRhYmxlKG9wdGlvbnMpe0R1cGxleD1EdXBsZXh8fHJlcXVpcmUoIi4vX3N0cmVhbV9kdXBsZXgiKTtpZighcmVhbEhhc0luc3RhbmNlLmNhbGwoV3JpdGFibGUsdGhpcykmJiEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpe3JldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyl9dGhpcy5fd3JpdGFibGVTdGF0ZT1uZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLHRoaXMpO3RoaXMud3JpdGFibGU9dHJ1ZTtpZihvcHRpb25zKXtpZih0eXBlb2Ygb3B0aW9ucy53cml0ZT09PSJmdW5jdGlvbiIpdGhpcy5fd3JpdGU9b3B0aW9ucy53cml0ZTtpZih0eXBlb2Ygb3B0aW9ucy53cml0ZXY9PT0iZnVuY3Rpb24iKXRoaXMuX3dyaXRldj1vcHRpb25zLndyaXRldn1TdHJlYW0uY2FsbCh0aGlzKX1Xcml0YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZSIpKX07ZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sY2Ipe3ZhciBlcj1uZXcgRXJyb3IoIndyaXRlIGFmdGVyIGVuZCIpO3N0cmVhbS5lbWl0KCJlcnJvciIsZXIpO3Byb2Nlc3NOZXh0VGljayhjYixlcil9ZnVuY3Rpb24gdmFsaWRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssY2Ipe3ZhciB2YWxpZD10cnVlO3ZhciBlcj1mYWxzZTtpZihjaHVuaz09PW51bGwpe2VyPW5ldyBUeXBlRXJyb3IoIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtIil9ZWxzZSBpZih0eXBlb2YgY2h1bmshPT0ic3RyaW5nIiYmY2h1bmshPT11bmRlZmluZWQmJiFzdGF0ZS5vYmplY3RNb2RlKXtlcj1uZXcgVHlwZUVycm9yKCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rIil9aWYoZXIpe3N0cmVhbS5lbWl0KCJlcnJvciIsZXIpO3Byb2Nlc3NOZXh0VGljayhjYixlcik7dmFsaWQ9ZmFsc2V9cmV0dXJuIHZhbGlkfVdyaXRhYmxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGU7dmFyIHJldD1mYWxzZTt2YXIgaXNCdWY9QnVmZmVyLmlzQnVmZmVyKGNodW5rKTtpZih0eXBlb2YgZW5jb2Rpbmc9PT0iZnVuY3Rpb24iKXtjYj1lbmNvZGluZztlbmNvZGluZz1udWxsfWlmKGlzQnVmKWVuY29kaW5nPSJidWZmZXIiO2Vsc2UgaWYoIWVuY29kaW5nKWVuY29kaW5nPXN0YXRlLmRlZmF1bHRFbmNvZGluZztpZih0eXBlb2YgY2IhPT0iZnVuY3Rpb24iKWNiPW5vcDtpZihzdGF0ZS5lbmRlZCl3cml0ZUFmdGVyRW5kKHRoaXMsY2IpO2Vsc2UgaWYoaXNCdWZ8fHZhbGlkQ2h1bmsodGhpcyxzdGF0ZSxjaHVuayxjYikpe3N0YXRlLnBlbmRpbmdjYisrO3JldD13cml0ZU9yQnVmZmVyKHRoaXMsc3RhdGUsaXNCdWYsY2h1bmssZW5jb2RpbmcsY2IpfXJldHVybiByZXR9O1dyaXRhYmxlLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGU7c3RhdGUuY29ya2VkKyt9O1dyaXRhYmxlLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgc3RhdGU9dGhpcy5fd3JpdGFibGVTdGF0ZTtpZihzdGF0ZS5jb3JrZWQpe3N0YXRlLmNvcmtlZC0tO2lmKCFzdGF0ZS53cml0aW5nJiYhc3RhdGUuY29ya2VkJiYhc3RhdGUuZmluaXNoZWQmJiFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nJiZzdGF0ZS5idWZmZXJlZFJlcXVlc3QpY2xlYXJCdWZmZXIodGhpcyxzdGF0ZSl9fTtXcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZyl7aWYodHlwZW9mIGVuY29kaW5nPT09InN0cmluZyIpZW5jb2Rpbmc9ZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtpZighKFsiaGV4IiwidXRmOCIsInV0Zi04IiwiYXNjaWkiLCJiaW5hcnkiLCJiYXNlNjQiLCJ1Y3MyIiwidWNzLTIiLCJ1dGYxNmxlIiwidXRmLTE2bGUiLCJyYXciXS5pbmRleE9mKChlbmNvZGluZysiIikudG9Mb3dlckNhc2UoKSk+LTEpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZW5jb2RpbmcpO3RoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPWVuY29kaW5nO3JldHVybiB0aGlzfTtmdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSxjaHVuayxlbmNvZGluZyl7aWYoIXN0YXRlLm9iamVjdE1vZGUmJnN0YXRlLmRlY29kZVN0cmluZ3MhPT1mYWxzZSYmdHlwZW9mIGNodW5rPT09InN0cmluZyIpe2NodW5rPWJ1ZmZlclNoaW0uZnJvbShjaHVuayxlbmNvZGluZyl9cmV0dXJuIGNodW5rfWZ1bmN0aW9uIHdyaXRlT3JCdWZmZXIoc3RyZWFtLHN0YXRlLGlzQnVmLGNodW5rLGVuY29kaW5nLGNiKXtpZighaXNCdWYpe2NodW5rPWRlY29kZUNodW5rKHN0YXRlLGNodW5rLGVuY29kaW5nKQo7aWYoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSllbmNvZGluZz0iYnVmZmVyIn12YXIgbGVuPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGg7c3RhdGUubGVuZ3RoKz1sZW47dmFyIHJldD1zdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyaztpZighcmV0KXN0YXRlLm5lZWREcmFpbj10cnVlO2lmKHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZCl7dmFyIGxhc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW5ldyBXcml0ZVJlcShjaHVuayxlbmNvZGluZyxjYik7aWYobGFzdCl7bGFzdC5uZXh0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3R9ZWxzZXtzdGF0ZS5idWZmZXJlZFJlcXVlc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdH1zdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCs9MX1lbHNle2RvV3JpdGUoc3RyZWFtLHN0YXRlLGZhbHNlLGxlbixjaHVuayxlbmNvZGluZyxjYil9cmV0dXJuIHJldH1mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSxzdGF0ZSx3cml0ZXYsbGVuLGNodW5rLGVuY29kaW5nLGNiKXtzdGF0ZS53cml0ZWxlbj1sZW47c3RhdGUud3JpdGVjYj1jYjtzdGF0ZS53cml0aW5nPXRydWU7c3RhdGUuc3luYz10cnVlO2lmKHdyaXRldilzdHJlYW0uX3dyaXRldihjaHVuayxzdGF0ZS5vbndyaXRlKTtlbHNlIHN0cmVhbS5fd3JpdGUoY2h1bmssZW5jb2Rpbmcsc3RhdGUub253cml0ZSk7c3RhdGUuc3luYz1mYWxzZX1mdW5jdGlvbiBvbndyaXRlRXJyb3Ioc3RyZWFtLHN0YXRlLHN5bmMsZXIsY2Ipey0tc3RhdGUucGVuZGluZ2NiO2lmKHN5bmMpcHJvY2Vzc05leHRUaWNrKGNiLGVyKTtlbHNlIGNiKGVyKTtzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPXRydWU7c3RyZWFtLmVtaXQoImVycm9yIixlcil9ZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKXtzdGF0ZS53cml0aW5nPWZhbHNlO3N0YXRlLndyaXRlY2I9bnVsbDtzdGF0ZS5sZW5ndGgtPXN0YXRlLndyaXRlbGVuO3N0YXRlLndyaXRlbGVuPTB9ZnVuY3Rpb24gb253cml0ZShzdHJlYW0sZXIpe3ZhciBzdGF0ZT1zdHJlYW0uX3dyaXRhYmxlU3RhdGU7dmFyIHN5bmM9c3RhdGUuc3luYzt2YXIgY2I9c3RhdGUud3JpdGVjYjtvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpO2lmKGVyKW9ud3JpdGVFcnJvcihzdHJlYW0sc3RhdGUsc3luYyxlcixjYik7ZWxzZXt2YXIgZmluaXNoZWQ9bmVlZEZpbmlzaChzdGF0ZSk7aWYoIWZpbmlzaGVkJiYhc3RhdGUuY29ya2VkJiYhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyYmc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KXtjbGVhckJ1ZmZlcihzdHJlYW0sc3RhdGUpfWlmKHN5bmMpe2FzeW5jV3JpdGUoYWZ0ZXJXcml0ZSxzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfWVsc2V7YWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfX19ZnVuY3Rpb24gYWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2Ipe2lmKCFmaW5pc2hlZClvbndyaXRlRHJhaW4oc3RyZWFtLHN0YXRlKTtzdGF0ZS5wZW5kaW5nY2ItLTtjYigpO2ZpbmlzaE1heWJlKHN0cmVhbSxzdGF0ZSl9ZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSxzdGF0ZSl7aWYoc3RhdGUubGVuZ3RoPT09MCYmc3RhdGUubmVlZERyYWluKXtzdGF0ZS5uZWVkRHJhaW49ZmFsc2U7c3RyZWFtLmVtaXQoImRyYWluIil9fWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSxzdGF0ZSl7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz10cnVlO3ZhciBlbnRyeT1zdGF0ZS5idWZmZXJlZFJlcXVlc3Q7aWYoc3RyZWFtLl93cml0ZXYmJmVudHJ5JiZlbnRyeS5uZXh0KXt2YXIgbD1zdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudDt2YXIgYnVmZmVyPW5ldyBBcnJheShsKTt2YXIgaG9sZGVyPXN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZTtob2xkZXIuZW50cnk9ZW50cnk7dmFyIGNvdW50PTA7d2hpbGUoZW50cnkpe2J1ZmZlcltjb3VudF09ZW50cnk7ZW50cnk9ZW50cnkubmV4dDtjb3VudCs9MX1kb1dyaXRlKHN0cmVhbSxzdGF0ZSx0cnVlLHN0YXRlLmxlbmd0aCxidWZmZXIsIiIsaG9sZGVyLmZpbmlzaCk7c3RhdGUucGVuZGluZ2NiKys7c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsO2lmKGhvbGRlci5uZXh0KXtzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9aG9sZGVyLm5leHQ7aG9sZGVyLm5leHQ9bnVsbH1lbHNle3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSl9fWVsc2V7d2hpbGUoZW50cnkpe3ZhciBjaHVuaz1lbnRyeS5jaHVuazt2YXIgZW5jb2Rpbmc9ZW50cnkuZW5jb2Rpbmc7dmFyIGNiPWVudHJ5LmNhbGxiYWNrO3ZhciBsZW49c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aDtkb1dyaXRlKHN0cmVhbSxzdGF0ZSxmYWxzZSxsZW4sY2h1bmssZW5jb2RpbmcsY2IpO2VudHJ5PWVudHJ5Lm5leHQ7aWYoc3RhdGUud3JpdGluZyl7YnJlYWt9fWlmKGVudHJ5PT09bnVsbClzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGx9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MDtzdGF0ZS5idWZmZXJlZFJlcXVlc3Q9ZW50cnk7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz1mYWxzZX1Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihuZXcgRXJyb3IoIl93cml0ZSgpIGlzIG5vdCBpbXBsZW1lbnRlZCIpKX07V3JpdGFibGUucHJvdG90eXBlLl93cml0ZXY9bnVsbDtXcml0YWJsZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXt2YXIgc3RhdGU9dGhpcy5fd3JpdGFibGVTdGF0ZTtpZih0eXBlb2YgY2h1bms9PT0iZnVuY3Rpb24iKXtjYj1jaHVuaztjaHVuaz1udWxsO2VuY29kaW5nPW51bGx9ZWxzZSBpZih0eXBlb2YgZW5jb2Rpbmc9PT0iZnVuY3Rpb24iKXtjYj1lbmNvZGluZztlbmNvZGluZz1udWxsfWlmKGNodW5rIT09bnVsbCYmY2h1bmshPT11bmRlZmluZWQpdGhpcy53cml0ZShjaHVuayxlbmNvZGluZyk7aWYoc3RhdGUuY29ya2VkKXtzdGF0ZS5jb3JrZWQ9MTt0aGlzLnVuY29yaygpfWlmKCFzdGF0ZS5lbmRpbmcmJiFzdGF0ZS5maW5pc2hlZCllbmRXcml0YWJsZSh0aGlzLHN0YXRlLGNiKX07ZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSl7cmV0dXJuIHN0YXRlLmVuZGluZyYmc3RhdGUubGVuZ3RoPT09MCYmc3RhdGUuYnVmZmVyZWRSZXF1ZXN0PT09bnVsbCYmIXN0YXRlLmZpbmlzaGVkJiYhc3RhdGUud3JpdGluZ31mdW5jdGlvbiBwcmVmaW5pc2goc3RyZWFtLHN0YXRlKXtpZighc3RhdGUucHJlZmluaXNoZWQpe3N0YXRlLnByZWZpbmlzaGVkPXRydWU7c3RyZWFtLmVtaXQoInByZWZpbmlzaCIpfX1mdW5jdGlvbiBmaW5pc2hNYXliZShzdHJlYW0sc3RhdGUpe3ZhciBuZWVkPW5lZWRGaW5pc2goc3RhdGUpO2lmKG5lZWQpe2lmKHN0YXRlLnBlbmRpbmdjYj09PTApe3ByZWZpbmlzaChzdHJlYW0sc3RhdGUpO3N0YXRlLmZpbmlzaGVkPXRydWU7c3RyZWFtLmVtaXQoImZpbmlzaCIpfWVsc2V7cHJlZmluaXNoKHN0cmVhbSxzdGF0ZSl9fXJldHVybiBuZWVkfWZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSxzdGF0ZSxjYil7c3RhdGUuZW5kaW5nPXRydWU7ZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKTtpZihjYil7aWYoc3RhdGUuZmluaXNoZWQpcHJvY2Vzc05leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCJmaW5pc2giLGNiKX1zdGF0ZS5lbmRlZD10cnVlO3N0cmVhbS53cml0YWJsZT1mYWxzZX1mdW5jdGlvbiBDb3JrZWRSZXF1ZXN0KHN0YXRlKXt2YXIgX3RoaXM9dGhpczt0aGlzLm5leHQ9bnVsbDt0aGlzLmVudHJ5PW51bGw7dGhpcy5maW5pc2g9ZnVuY3Rpb24oZXJyKXt2YXIgZW50cnk9X3RoaXMuZW50cnk7X3RoaXMuZW50cnk9bnVsbDt3aGlsZShlbnRyeSl7dmFyIGNiPWVudHJ5LmNhbGxiYWNrO3N0YXRlLnBlbmRpbmdjYi0tO2NiKGVycik7ZW50cnk9ZW50cnkubmV4dH1pZihzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUpe3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PV90aGlzfWVsc2V7c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPV90aGlzfX19fSkuY2FsbCh0aGlzLHJlcXVpcmUoIl9wcm9jZXNzIikpfSx7Ii4vX3N0cmVhbV9kdXBsZXgiOjE5NSwiLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbSI6MjAxLF9wcm9jZXNzOjE5MyxidWZmZXI6MTczLCJidWZmZXItc2hpbXMiOjE3MiwiY29yZS11dGlsLWlzIjoxNzQsaW5oZXJpdHM6MTc3LCJwcm9jZXNzLW5leHRpY2stYXJncyI6MTkyLCJ1dGlsLWRlcHJlY2F0ZSI6MjA4fV0sMjAwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIEJ1ZmZlcj1yZXF1aXJlKCJidWZmZXIiKS5CdWZmZXI7dmFyIGJ1ZmZlclNoaW09cmVxdWlyZSgiYnVmZmVyLXNoaW1zIik7bW9kdWxlLmV4cG9ydHM9QnVmZmVyTGlzdDtmdW5jdGlvbiBCdWZmZXJMaXN0KCl7dGhpcy5oZWFkPW51bGw7dGhpcy50YWlsPW51bGw7dGhpcy5sZW5ndGg9MH1CdWZmZXJMaXN0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHYpe3ZhciBlbnRyeT17ZGF0YTp2LG5leHQ6bnVsbH07aWYodGhpcy5sZW5ndGg+MCl0aGlzLnRhaWwubmV4dD1lbnRyeTtlbHNlIHRoaXMuaGVhZD1lbnRyeTt0aGlzLnRhaWw9ZW50cnk7Kyt0aGlzLmxlbmd0aH07QnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih2KXt2YXIgZW50cnk9e2RhdGE6dixuZXh0OnRoaXMuaGVhZH07aWYodGhpcy5sZW5ndGg9PT0wKXRoaXMudGFpbD1lbnRyeTt0aGlzLmhlYWQ9ZW50cnk7Kyt0aGlzLmxlbmd0aH07QnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuO3ZhciByZXQ9dGhpcy5oZWFkLmRhdGE7aWYodGhpcy5sZW5ndGg9PT0xKXRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDtlbHNlIHRoaXMuaGVhZD10aGlzLmhlYWQubmV4dDstLXRoaXMubGVuZ3RoO3JldHVybiByZXR9O0J1ZmZlckxpc3QucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsO3RoaXMubGVuZ3RoPTB9O0J1ZmZlckxpc3QucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24ocyl7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiIiO3ZhciBwPXRoaXMuaGVhZDt2YXIgcmV0PSIiK3AuZGF0YTt3aGlsZShwPXAubmV4dCl7cmV0Kz1zK3AuZGF0YX1yZXR1cm4gcmV0fTtCdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24obil7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiBidWZmZXJTaGltLmFsbG9jKDApO2lmKHRoaXMubGVuZ3RoPT09MSlyZXR1cm4gdGhpcy5oZWFkLmRhdGE7dmFyIHJldD1idWZmZXJTaGltLmFsbG9jVW5zYWZlKG4+Pj4wKTt2YXIgcD10aGlzLmhlYWQ7dmFyIGk9MDt3aGlsZShwKXtwLmRhdGEuY29weShyZXQsaSk7aSs9cC5kYXRhLmxlbmd0aDtwPXAubmV4dH1yZXR1cm4gcmV0fX0se2J1ZmZlcjoxNzMsImJ1ZmZlci1zaGltcyI6MTcyfV0sMjAxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKCJldmVudHMiKS5FdmVudEVtaXR0ZXJ9LHtldmVudHM6MTc1fV0sMjAyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIEJ1ZmZlcj1yZXF1aXJlKCJidWZmZXIiKS5CdWZmZXI7dmFyIGJ1ZmZlclNoaW09cmVxdWlyZSgiYnVmZmVyLXNoaW1zIik7dmFyIGlzRW5jb2Rpbmc9QnVmZmVyLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGVuY29kaW5nKXtlbmNvZGluZz0iIitlbmNvZGluZztzd2l0Y2goZW5jb2RpbmcmJmVuY29kaW5nLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOmNhc2UicmF3IjpyZXR1cm4gdHJ1ZTtkZWZhdWx0OnJldHVybiBmYWxzZX19O2Z1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpe2lmKCFlbmMpcmV0dXJuInV0ZjgiO3ZhciByZXRyaWVkO3doaWxlKHRydWUpe3N3aXRjaChlbmMpe2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuInV0ZjgiO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4idXRmMTZsZSI7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4ibGF0aW4xIjtjYXNlImJhc2U2NCI6Y2FzZSJhc2NpaSI6Y2FzZSJoZXgiOnJldHVybiBlbmM7ZGVmYXVsdDppZihyZXRyaWVkKXJldHVybjtlbmM9KCIiK2VuYykudG9Mb3dlckNhc2UoKTtyZXRyaWVkPXRydWV9fX1mdW5jdGlvbiBub3JtYWxpemVFbmNvZGluZyhlbmMpe3ZhciBuZW5jPV9ub3JtYWxpemVFbmNvZGluZyhlbmMpO2lmKHR5cGVvZiBuZW5jIT09InN0cmluZyImJihCdWZmZXIuaXNFbmNvZGluZz09PWlzRW5jb2Rpbmd8fCFpc0VuY29kaW5nKGVuYykpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlbmMpO3JldHVybiBuZW5jfHxlbmN9ZXhwb3J0cy5TdHJpbmdEZWNvZGVyPVN0cmluZ0RlY29kZXI7ZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZyl7dGhpcy5lbmNvZGluZz1ub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7dmFyIG5iO3N3aXRjaCh0aGlzLmVuY29kaW5nKXtjYXNlInV0ZjE2bGUiOnRoaXMudGV4dD11dGYxNlRleHQ7dGhpcy5lbmQ9dXRmMTZFbmQ7bmI9NDticmVhaztjYXNlInV0ZjgiOnRoaXMuZmlsbExhc3Q9dXRmOEZpbGxMYXN0O25iPTQ7YnJlYWs7Y2FzZSJiYXNlNjQiOnRoaXMudGV4dD1iYXNlNjRUZXh0O3RoaXMuZW5kPWJhc2U2NEVuZDtuYj0zO2JyZWFrO2RlZmF1bHQ6dGhpcy53cml0ZT1zaW1wbGVXcml0ZTt0aGlzLmVuZD1zaW1wbGVFbmQ7cmV0dXJufXRoaXMubGFzdE5lZWQ9MDt0aGlzLmxhc3RUb3RhbD0wO3RoaXMubGFzdENoYXI9YnVmZmVyU2hpbS5hbGxvY1Vuc2FmZShuYil9U3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYnVmKXtpZihidWYubGVuZ3RoPT09MClyZXR1cm4iIjt2YXIgcjt2YXIgaTtpZih0aGlzLmxhc3ROZWVkKXtyPXRoaXMuZmlsbExhc3QoYnVmKTtpZihyPT09dW5kZWZpbmVkKXJldHVybiIiO2k9dGhpcy5sYXN0TmVlZDt0aGlzLmxhc3ROZWVkPTB9ZWxzZXtpPTB9aWYoaTxidWYubGVuZ3RoKXJldHVybiByP3IrdGhpcy50ZXh0KGJ1ZixpKTp0aGlzLnRleHQoYnVmLGkpO3JldHVybiByfHwiIn07U3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kPXV0ZjhFbmQ7U3RyaW5nRGVjb2Rlci5wcm90b3R5cGUudGV4dD11dGY4VGV4dDtTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbihidWYpe2lmKHRoaXMubGFzdE5lZWQ8PWJ1Zi5sZW5ndGgpe2J1Zi5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpO3JldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCl9YnVmLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsYnVmLmxlbmd0aCk7dGhpcy5sYXN0TmVlZC09YnVmLmxlbmd0aH07ZnVuY3Rpb24gdXRmOENoZWNrQnl0ZShieXRlKXtpZihieXRlPD0xMjcpcmV0dXJuIDA7ZWxzZSBpZihieXRlPj41PT09NilyZXR1cm4gMjtlbHNlIGlmKGJ5dGU+PjQ9PT0xNClyZXR1cm4gMztlbHNlIGlmKGJ5dGU+PjM9PT0zMClyZXR1cm4gNDtyZXR1cm4tMX1mdW5jdGlvbiB1dGY4Q2hlY2tJbmNvbXBsZXRlKHNlbGYsYnVmLGkpe3ZhciBqPWJ1Zi5sZW5ndGgtMTtpZihqPGkpcmV0dXJuIDA7dmFyIG5iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKTtpZihuYj49MCl7aWYobmI+MClzZWxmLmxhc3ROZWVkPW5iLTE7cmV0dXJuIG5ifWlmKC0tajxpKXJldHVybiAwO25iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKTtpZihuYj49MCl7aWYobmI+MClzZWxmLmxhc3ROZWVkPW5iLTI7cmV0dXJuIG5ifWlmKC0tajxpKXJldHVybiAwO25iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKTtpZihuYj49MCl7aWYobmI+MCl7aWYobmI9PT0yKW5iPTA7ZWxzZSBzZWxmLmxhc3ROZWVkPW5iLTN9cmV0dXJuIG5ifXJldHVybiAwfWZ1bmN0aW9uIHV0ZjhDaGVja0V4dHJhQnl0ZXMoc2VsZixidWYscCl7aWYoKGJ1ZlswXSYxOTIpIT09MTI4KXtzZWxmLmxhc3ROZWVkPTA7cmV0dXJuI0iLnJlcGVhdChwKX1pZihzZWxmLmxhc3ROZWVkPjEmJmJ1Zi5sZW5ndGg+MSl7aWYoKGJ1ZlsxXSYxOTIpIT09MTI4KXtzZWxmLmxhc3ROZWVkPTE7cmV0dXJuI0iLnJlcGVhdChwKzEpfWlmKHNlbGYubGFzdE5lZWQ+MiYmYnVmLmxlbmd0aD4yKXtpZigoYnVmWzJdJjE5MikhPT0xMjgpe3NlbGYubGFzdE5lZWQ9MjtyZXR1cm4iSIucmVwZWF0KHArMil9fX19ZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zil7dmFyIHA9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDt2YXIgcj11dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsYnVmLHApO2lmKHIhPT11bmRlZmluZWQpcmV0dXJuIHI7aWYodGhpcy5sYXN0TmVlZDw9YnVmLmxlbmd0aCl7YnVmLmNvcHkodGhpcy5sYXN0Q2hhcixwLDAsdGhpcy5sYXN0TmVlZCk7cmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKX1idWYuY29weSh0aGlzLmxhc3RDaGFyLHAsMCxidWYubGVuZ3RoKTt0aGlzLmxhc3ROZWVkLT1idWYubGVuZ3RofWZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZixpKXt2YXIgdG90YWw9dXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLGJ1ZixpKTtpZighdGhpcy5sYXN0TmVlZClyZXR1cm4gYnVmLnRvU3RyaW5nKCJ1dGY4IixpKTt0aGlzLmxhc3RUb3RhbD10b3RhbDt2YXIgZW5kPWJ1Zi5sZW5ndGgtKHRvdGFsLXRoaXMubGFzdE5lZWQpO2J1Zi5jb3B5KHRoaXMubGFzdENoYXIsMCxlbmQpO3JldHVybiBidWYudG9TdHJpbmcoInV0ZjgiLGksZW5kKX1mdW5jdGlvbiB1dGY4RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKToiIjtpZih0aGlzLmxhc3ROZWVkKXJldHVybiByKy9Ii5yZXBlYXQodGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCk7cmV0dXJuIHJ9ZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZixpKXtpZigoYnVmLmxlbmd0aC1pKSUyPT09MCl7dmFyIHI9YnVmLnRvU3RyaW5nKCJ1dGYxNmxlIixpKTtpZihyKXt2YXIgYz1yLmNoYXJDb2RlQXQoci5sZW5ndGgtMSk7aWYoYz49NTUyOTYmJmM8PTU2MzE5KXt0aGlzLmxhc3ROZWVkPTI7dGhpcy5sYXN0VG90YWw9NDt0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTJdO3RoaXMubGFzdENoYXJbMV09YnVmW2J1Zi5sZW5ndGgtMV07cmV0dXJuIHIuc2xpY2UoMCwtMSl9fXJldHVybiByfXRoaXMubGFzdE5lZWQ9MTt0aGlzLmxhc3RUb3RhbD0yO3RoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMV07cmV0dXJuIGJ1Zi50b1N0cmluZygidXRmMTZsZSIsaSxidWYubGVuZ3RoLTEpfWZ1bmN0aW9uIHV0ZjE2RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKToiIjtpZih0aGlzLmxhc3ROZWVkKXt2YXIgZW5kPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIHIrdGhpcy5sYXN0Q2hhci50b1N0cmluZygidXRmMTZsZSIsMCxlbmQpfXJldHVybiByfWZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLGkpe3ZhciBuPShidWYubGVuZ3RoLWkpJTM7aWYobj09PTApcmV0dXJuIGJ1Zi50b1N0cmluZygiYmFzZTY0IixpKTt0aGlzLmxhc3ROZWVkPTMtbjt0aGlzLmxhc3RUb3RhbD0zO2lmKG49PT0xKXt0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTFdfWVsc2V7dGhpcy5sYXN0Q2hhclswXT1idWZbYnVmLmxlbmd0aC0yXTt0aGlzLmxhc3RDaGFyWzFdPWJ1ZltidWYubGVuZ3RoLTFdfXJldHVybiBidWYudG9TdHJpbmcoImJhc2U2NCIsaSxidWYubGVuZ3RoLW4pfWZ1bmN0aW9uIGJhc2U2NEVuZChidWYpe3ZhciByPWJ1ZiYmYnVmLmxlbmd0aD90aGlzLndyaXRlKGJ1Zik6IiI7aWYodGhpcy5sYXN0TmVlZClyZXR1cm4gcit0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCJiYXNlNjQiLDAsMy10aGlzLmxhc3ROZWVkKTtyZXR1cm4gcn1mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpe3JldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zil7cmV0dXJuIGJ1ZiYmYnVmLmxlbmd0aD90aGlzLndyaXRlKGJ1Zik6IiJ9fSx7YnVmZmVyOjE3MywiYnVmZmVyLXNoaW1zIjoxNzJ9XSwyMDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXJlcXVpcmUoIi4vcmVhZGFibGUiKS5QYXNzVGhyb3VnaH0seyIuL3JlYWRhYmxlIjoyMDR9XSwyMDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2V4cG9ydHM9bW9kdWxlLmV4cG9ydHM9cmVxdWlyZSgiLi9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIpO2V4cG9ydHMuU3RyZWFtPWV4cG9ydHM7ZXhwb3J0cy5SZWFkYWJsZT1leHBvcnRzO2V4cG9ydHMuV3JpdGFibGU9cmVxdWlyZSgiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIpO2V4cG9ydHMuRHVwbGV4PXJlcXVpcmUoIi4vbGliL19zdHJlYW1fZHVwbGV4LmpzIik7ZXhwb3J0cy5UcmFuc2Zvcm09cmVxdWlyZSgiLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiKTtleHBvcnRzLlBhc3NUaHJvdWdoPXJlcXVpcmUoIi4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiKX0seyIuL2xpYi9fc3RyZWFtX2R1cGxleC5qcyI6MTk1LCIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIjoxOTYsIi4vbGliL19zdHJlYW1fcmVhZGFibGUuanMiOjE5NywiLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiOjE5OCwiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcyI6MTk5fV0sMjA1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKCIuL3JlYWRhYmxlIikuVHJhbnNmb3JtfSx7Ii4vcmVhZGFibGUiOjIwNH1dLDIwNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9cmVxdWlyZSgiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIpfSx7Ii4vbGliL19zdHJlYW1fd3JpdGFibGUuanMiOjE5OX1dLDIwNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9U3RyZWFtO3ZhciBFRT1yZXF1aXJlKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7dmFyIGluaGVyaXRzPXJlcXVpcmUoImluaGVyaXRzIik7aW5oZXJpdHMoU3RyZWFtLEVFKTtTdHJlYW0uUmVhZGFibGU9cmVxdWlyZSgicmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzIik7U3RyZWFtLldyaXRhYmxlPXJlcXVpcmUoInJlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIpO1N0cmVhbS5EdXBsZXg9cmVxdWlyZSgicmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyIpO1N0cmVhbS5UcmFuc2Zvcm09cmVxdWlyZSgicmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIpO1N0cmVhbS5QYXNzVGhyb3VnaD1yZXF1aXJlKCJyZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMiKTtTdHJlYW0uU3RyZWFtPVN0cmVhbTtmdW5jdGlvbiBTdHJlYW0oKXtFRS5jYWxsKHRoaXMpfVN0cmVhbS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihkZXN0LG9wdGlvbnMpe3ZhciBzb3VyY2U9dGhpcztmdW5jdGlvbiBvbmRhdGEoY2h1bmspe2lmKGRlc3Qud3JpdGFibGUpe2lmKGZhbHNlPT09ZGVzdC53cml0ZShjaHVuaykmJnNvdXJjZS5wYXVzZSl7c291cmNlLnBhdXNlKCl9fX1zb3VyY2Uub24oImRhdGEiLG9uZGF0YSk7ZnVuY3Rpb24gb25kcmFpbigpe2lmKHNvdXJjZS5yZWFkYWJsZSYmc291cmNlLnJlc3VtZSl7c291cmNlLnJlc3VtZSgpfX1kZXN0Lm9uKCJkcmFpbiIsb25kcmFpbik7aWYoIWRlc3QuX2lzU3RkaW8mJighb3B0aW9uc3x8b3B0aW9ucy5lbmQhPT1mYWxzZSkpe3NvdXJjZS5vbigiZW5kIixvbmVuZCk7c291cmNlLm9uKCJjbG9zZSIsb25jbG9zZSl9dmFyIGRpZE9uRW5kPWZhbHNlO2Z1bmN0aW9uIG9uZW5kKCl7aWYoZGlkT25FbmQpcmV0dXJuO2RpZE9uRW5kPXRydWU7ZGVzdC5lbmQoKX1mdW5jdGlvbiBvbmNsb3NlKCl7aWYoZGlkT25FbmQpcmV0dXJuO2RpZE9uRW5kPXRydWU7aWYodHlwZW9mIGRlc3QuZGVzdHJveT09PSJmdW5jdGlvbiIpZGVzdC5kZXN0cm95KCl9ZnVuY3Rpb24gb25lcnJvcihlcil7Y2xlYW51cCgpO2lmKEVFLmxpc3RlbmVyQ291bnQodGhpcywiZXJyb3IiKT09PTApe3Rocm93IGVyfX1zb3VyY2Uub24oImVycm9yIixvbmVycm9yKTtkZXN0Lm9uKCJlcnJvciIsb25lcnJvcik7ZnVuY3Rpb24gY2xlYW51cCgpe3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsb25kYXRhKTtkZXN0LnJlbW92ZUxpc3RlbmVyKCJkcmFpbiIsb25kcmFpbik7c291cmNlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLG9uZW5kKTtzb3VyY2UucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixvbmNsb3NlKTtzb3VyY2UucmVtb3ZlTGlzdGVuZXIoImVycm9yIixvbmVycm9yKTtkZXN0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsb25lcnJvcik7c291cmNlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGNsZWFudXApO3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLGNsZWFudXApO2Rlc3QucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixjbGVhbnVwKX1zb3VyY2Uub24oImVuZCIsY2xlYW51cCk7c291cmNlLm9uKCJjbG9zZSIsY2xlYW51cCk7ZGVzdC5vbigiY2xvc2UiLGNsZWFudXApO2Rlc3QuZW1pdCgicGlwZSIsc291cmNlKTtyZXR1cm4gZGVzdH19LHtldmVudHM6MTc1LGluaGVyaXRzOjE3NywicmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyI6MTk0LCJyZWFkYWJsZS1zdHJlYW0vcGFzc3Rocm91Z2guanMiOjIwMywicmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzIjoyMDQsInJlYWRhYmxlLXN0cmVhbS90cmFuc2Zvcm0uanMiOjIwNSwicmVhZGFibGUtc3RyZWFtL3dyaXRhYmxlLmpzIjoyMDZ9XSwyMDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpe21vZHVsZS5leHBvcnRzPWRlcHJlY2F0ZTtmdW5jdGlvbiBkZXByZWNhdGUoZm4sbXNnKXtpZihjb25maWcoIm5vRGVwcmVjYXRpb24iKSl7cmV0dXJuIGZufXZhciB3YXJuZWQ9ZmFsc2U7ZnVuY3Rpb24gZGVwcmVjYXRlZCgpe2lmKCF3YXJuZWQpe2lmKGNvbmZpZygidGhyb3dEZXByZWNhdGlvbiIpKXt0aHJvdyBuZXcgRXJyb3IobXNnKX1lbHNlIGlmKGNvbmZpZygidHJhY2VEZXByZWNhdGlvbiIpKXtjb25zb2xlLnRyYWNlKG1zZyl9ZWxzZXtjb25zb2xlLndhcm4obXNnKX13YXJuZWQ9dHJ1ZX1yZXR1cm4gZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBkZXByZWNhdGVkfWZ1bmN0aW9uIGNvbmZpZyhuYW1lKXt0cnl7aWYoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpcmV0dXJuIGZhbHNlfWNhdGNoKF8pe3JldHVybiBmYWxzZX12YXIgdmFsPWdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07aWYobnVsbD09dmFsKXJldHVybiBmYWxzZTtyZXR1cm4gU3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKT09PSJ0cnVlIn19KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCE9PSJ1bmRlZmluZWQiP2dsb2JhbDp0eXBlb2Ygc2VsZiE9PSJ1bmRlZmluZWQiP3NlbGY6dHlwZW9mIHdpbmRvdyE9PSJ1bmRlZmluZWQiP3dpbmRvdzp7fSl9LHt9XSwyMDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe2FyZ3VtZW50c1s0XVsxNzddWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKX0se2R1cDoxNzd9XSwyMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIGlzQnVmZmVyKGFyZyl7cmV0dXJuIGFyZyYmdHlwZW9mIGFyZz09PSJvYmplY3QiJiZ0eXBlb2YgYXJnLmNvcHk9PT0iZnVuY3Rpb24iJiZ0eXBlb2YgYXJnLmZpbGw9PT0iZnVuY3Rpb24iJiZ0eXBlb2YgYXJnLnJlYWRVSW50OD09PSJmdW5jdGlvbiJ9fSx7fV0sMjExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24ocHJvY2VzcyxnbG9iYWwpe3ZhciBmb3JtYXRSZWdFeHA9LyVbc2RqJV0vZztleHBvcnRzLmZvcm1hdD1mdW5jdGlvbihmKXtpZighaXNTdHJpbmcoZikpe3ZhciBvYmplY3RzPVtdO2Zvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe29iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpfXJldHVybiBvYmplY3RzLmpvaW4oIiAiKX12YXIgaT0xO3ZhciBhcmdzPWFyZ3VtZW50czt2YXIgbGVuPWFyZ3MubGVuZ3RoO3ZhciBzdHI9U3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLGZ1bmN0aW9uKHgpe2lmKHg9PT0iJSUiKXJldHVybiIlIjtpZihpPj1sZW4pcmV0dXJuIHg7c3dpdGNoKHgpe2Nhc2UiJXMiOnJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtjYXNlIiVkIjpyZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7Y2FzZSIlaiI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pfWNhdGNoKF8pe3JldHVybiJbQ2lyY3VsYXJdIn1kZWZhdWx0OnJldHVybiB4fX0pO2Zvcih2YXIgeD1hcmdzW2ldO2k8bGVuO3g9YXJnc1srK2ldKXtpZihpc051bGwoeCl8fCFpc09iamVjdCh4KSl7c3RyKz0iICIreH1lbHNle3N0cis9IiAiK2luc3BlY3QoeCl9fXJldHVybiBzdHJ9O2V4cG9ydHMuZGVwcmVjYXRlPWZ1bmN0aW9uKGZuLG1zZyl7aWYoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sbXNnKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWlmKHByb2Nlc3Mubm9EZXByZWNhdGlvbj09PXRydWUpe3JldHVybiBmbn12YXIgd2FybmVkPWZhbHNlO2Z1bmN0aW9uIGRlcHJlY2F0ZWQoKXtpZighd2FybmVkKXtpZihwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pe3Rocm93IG5ldyBFcnJvcihtc2cpfWVsc2UgaWYocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKXtjb25zb2xlLnRyYWNlKG1zZyl9ZWxzZXtjb25zb2xlLmVycm9yKG1zZyl9d2FybmVkPXRydWV9cmV0dXJuIGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZGVwcmVjYXRlZH07dmFyIGRlYnVncz17fTt2YXIgZGVidWdFbnZpcm9uO2V4cG9ydHMuZGVidWdsb2c9ZnVuY3Rpb24oc2V0KXtpZihpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKWRlYnVnRW52aXJvbj1wcm9jZXNzLmVudi5OT0RFX0RFQlVHfHwiIjtzZXQ9c2V0LnRvVXBwZXJDYXNlKCk7aWYoIWRlYnVnc1tzZXRdKXtpZihuZXcgUmVnRXhwKCJcXGIiK3NldCsiXFxiIiwiaSIpLnRlc3QoZGVidWdFbnZpcm9uKSl7dmFyIHBpZD1wcm9jZXNzLnBpZDtkZWJ1Z3Nbc2V0XT1mdW5jdGlvbigpe3ZhciBtc2c9ZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoIiVzICVkOiAlcyIsc2V0LHBpZCxtc2cpfX1lbHNle2RlYnVnc1tzZXRdPWZ1bmN0aW9uKCl7fX19cmV0dXJuIGRlYnVnc1tzZXRdfTtmdW5jdGlvbiBpbnNwZWN0KG9iaixvcHRzKXt2YXIgY3R4PXtzZWVuOltdLHN0eWxpemU6c3R5bGl6ZU5vQ29sb3J9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTMpY3R4LmRlcHRoPWFyZ3VtZW50c1syXTtpZihhcmd1bWVudHMubGVuZ3RoPj00KWN0eC5jb2xvcnM9YXJndW1lbnRzWzNdO2lmKGlzQm9vbGVhbihvcHRzKSl7Y3R4LnNob3dIaWRkZW49b3B0c31lbHNlIGlmKG9wdHMpe2V4cG9ydHMuX2V4dGVuZChjdHgsb3B0cyl9aWYoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKWN0eC5zaG93SGlkZGVuPWZhbHNlO2lmKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpY3R4LmRlcHRoPTI7aWYoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpY3R4LmNvbG9ycz1mYWxzZTtpZihpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpY3R4LmN1c3RvbUluc3BlY3Q9dHJ1ZTtpZihjdHguY29sb3JzKWN0eC5zdHlsaXplPXN0eWxpemVXaXRoQ29sb3I7cmV0dXJuIGZvcm1hdFZhbHVlKGN0eCxvYmosY3R4LmRlcHRoKX1leHBvcnRzLmluc3BlY3Q9aW5zcGVjdDtpbnNwZWN0LmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX07aW5zcGVjdC5zdHlsZXM9e3NwZWNpYWw6ImN5YW4iLG51bWJlcjoieWVsbG93Iixib29sZWFuOiJ5ZWxsb3ciLHVuZGVmaW5lZDoiZ3JleSIsbnVsbDoiYm9sZCIsc3RyaW5nOiJncmVlbiIsZGF0ZToibWFnZW50YSIscmVnZXhwOiJyZWQifTtmdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0cixzdHlsZVR5cGUpe3ZhciBzdHlsZT1pbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO2lmKHN0eWxlKXtyZXR1cm4iG1siK2luc3BlY3QuY29sb3JzW3N0eWxlXVswXSsibSIrc3RyKyIbWyIraW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdKyJtIn1lbHNle3JldHVybiBzdHJ9fWZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0cixzdHlsZVR5cGUpe3JldHVybiBzdHJ9ZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpe3ZhciBoYXNoPXt9O2FycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLGlkeCl7aGFzaFt2YWxdPXRydWV9KTtyZXR1cm4gaGFzaH1mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsdmFsdWUscmVjdXJzZVRpbWVzKXtpZihjdHguY3VzdG9tSW5zcGVjdCYmdmFsdWUmJmlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkmJnZhbHVlLmluc3BlY3QhPT1leHBvcnRzLmluc3BlY3QmJiEodmFsdWUuY29uc3RydWN0b3ImJnZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZT09PXZhbHVlKSl7dmFyIHJldD12YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcyxjdHgpO2lmKCFpc1N0cmluZyhyZXQpKXtyZXQ9Zm9ybWF0VmFsdWUoY3R4LHJldCxyZWN1cnNlVGltZXMpfXJldHVybiByZXR9dmFyIHByaW1pdGl2ZT1mb3JtYXRQcmltaXRpdmUoY3R4LHZhbHVlKTtpZihwcmltaXRpdmUpe3JldHVybiBwcmltaXRpdmV9dmFyIGtleXM9T2JqZWN0LmtleXModmFsdWUpO3ZhciB2aXNpYmxlS2V5cz1hcnJheVRvSGFzaChrZXlzKTtpZihjdHguc2hvd0hpZGRlbil7a2V5cz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSl9aWYoaXNFcnJvcih2YWx1ZSkmJihrZXlzLmluZGV4T2YoIm1lc3NhZ2UiKT49MHx8a2V5cy5pbmRleE9mKCJkZXNjcmlwdGlvbiIpPj0wKSl7cmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKX1pZihrZXlzLmxlbmd0aD09PTApe2lmKGlzRnVuY3Rpb24odmFsdWUpKXt2YXIgbmFtZT12YWx1ZS5uYW1lPyI6ICIrdmFsdWUubmFtZToiIjtyZXR1cm4gY3R4LnN0eWxpemUoIltGdW5jdGlvbiIrbmFtZSsiXSIsInNwZWNpYWwiKX1pZihpc1JlZ0V4cCh2YWx1ZSkpe3JldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCJyZWdleHAiKX1pZihpc0RhdGUodmFsdWUpKXtyZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksImRhdGUiKX1pZihpc0Vycm9yKHZhbHVlKSl7cmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKX19dmFyIGJhc2U9IiIsYXJyYXk9ZmFsc2UsYnJhY2VzPVsieyIsIn0iXTtpZihpc0FycmF5KHZhbHVlKSl7YXJyYXk9dHJ1ZTticmFjZXM9WyJbIiwiXSJdfWlmKGlzRnVuY3Rpb24odmFsdWUpKXt2YXIgbj12YWx1ZS5uYW1lPyI6ICIrdmFsdWUubmFtZToiIjtiYXNlPSIgW0Z1bmN0aW9uIituKyJdIn1pZihpc1JlZ0V4cCh2YWx1ZSkpe2Jhc2U9IiAiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSl9aWYoaXNEYXRlKHZhbHVlKSl7YmFzZT0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSl9aWYoaXNFcnJvcih2YWx1ZSkpe2Jhc2U9IiAiK2Zvcm1hdEVycm9yKHZhbHVlKX1pZihrZXlzLmxlbmd0aD09PTAmJighYXJyYXl8fHZhbHVlLmxlbmd0aD09MCkpe3JldHVybiBicmFjZXNbMF0rYmFzZSticmFjZXNbMV19aWYocmVjdXJzZVRpbWVzPDApe2lmKGlzUmVnRXhwKHZhbHVlKSl7cmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksInJlZ2V4cCIpfWVsc2V7cmV0dXJuIGN0eC5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKX19Y3R4LnNlZW4ucHVzaCh2YWx1ZSk7dmFyIG91dHB1dDtpZihhcnJheSl7b3V0cHV0PWZvcm1hdEFycmF5KGN0eCx2YWx1ZSxyZWN1cnNlVGltZXMsdmlzaWJsZUtleXMsa2V5cyl9ZWxzZXtvdXRwdXQ9a2V5cy5tYXAoZnVuY3Rpb24oa2V5KXtyZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LHZhbHVlLHJlY3Vyc2VUaW1lcyx2aXNpYmxlS2V5cyxrZXksYXJyYXkpfSl9Y3R4LnNlZW4ucG9wKCk7cmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCxiYXNlLGJyYWNlcyl9ZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCx2YWx1ZSl7aWYoaXNVbmRlZmluZWQodmFsdWUpKXJldHVybiBjdHguc3R5bGl6ZSgidW5kZWZpbmVkIiwidW5kZWZpbmVkIik7aWYoaXNTdHJpbmcodmFsdWUpKXt2YXIgc2ltcGxlPSInIitKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXiJ8IiQvZywiIikucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpKyInIjtyZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCJzdHJpbmciKX1pZihpc051bWJlcih2YWx1ZSkpcmV0dXJuIGN0eC5zdHlsaXplKCIiK3ZhbHVlLCJudW1iZXIiKTtpZihpc0Jvb2xlYW4odmFsdWUpKXJldHVybiBjdHguc3R5bGl6ZSgiIit2YWx1ZSwiYm9vbGVhbiIpO2lmKGlzTnVsbCh2YWx1ZSkpcmV0dXJuIGN0eC5zdHlsaXplKCJudWxsIiwibnVsbCIpfWZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKyJdIn1mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsdmFsdWUscmVjdXJzZVRpbWVzLHZpc2libGVLZXlzLGtleXMpe3ZhciBvdXRwdXQ9W107Zm9yKHZhciBpPTAsbD12YWx1ZS5sZW5ndGg7aTxsOysraSl7aWYoaGFzT3duUHJvcGVydHkodmFsdWUsU3RyaW5nKGkpKSl7b3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LHZhbHVlLHJlY3Vyc2VUaW1lcyx2aXNpYmxlS2V5cyxTdHJpbmcoaSksdHJ1ZSkpfWVsc2V7b3V0cHV0LnB1c2goIiIpfX1rZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KXtpZigha2V5Lm1hdGNoKC9eXGQrJC8pKXtvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsdmFsdWUscmVjdXJzZVRpbWVzLHZpc2libGVLZXlzLGtleSx0cnVlKSl9fSk7cmV0dXJuIG91dHB1dH1mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsdmFsdWUscmVjdXJzZVRpbWVzLHZpc2libGVLZXlzLGtleSxhcnJheSl7dmFyIG5hbWUsc3RyLGRlc2M7ZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLGtleSl8fHt2YWx1ZTp2YWx1ZVtrZXldfTtpZihkZXNjLmdldCl7aWYoZGVzYy5zZXQpe3N0cj1jdHguc3R5bGl6ZSgiW0dldHRlci9TZXR0ZXJdIiwic3BlY2lhbCIpfWVsc2V7c3RyPWN0eC5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKX19ZWxzZXtpZihkZXNjLnNldCl7c3RyPWN0eC5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKX19aWYoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLGtleSkpe25hbWU9IlsiK2tleSsiXSJ9aWYoIXN0cil7aWYoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKTwwKXtpZihpc051bGwocmVjdXJzZVRpbWVzKSl7c3RyPWZvcm1hdFZhbHVlKGN0eCxkZXNjLnZhbHVlLG51bGwpfWVsc2V7c3RyPWZvcm1hdFZhbHVlKGN0eCxkZXNjLnZhbHVlLHJlY3Vyc2VUaW1lcy0xKX1pZihzdHIuaW5kZXhPZigiXG4iKT4tMSl7aWYoYXJyYXkpe3N0cj1zdHIuc3BsaXQoIlxuIikubWFwKGZ1bmN0aW9uKGxpbmUpe3JldHVybiIgICIrbGluZX0pLmpvaW4oIlxuIikuc3Vic3RyKDIpfWVsc2V7c3RyPSJcbiIrc3RyLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihsaW5lKXtyZXR1cm4iICAgIitsaW5lfSkuam9pbigiXG4iKX19fWVsc2V7c3RyPWN0eC5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpfX1pZihpc1VuZGVmaW5lZChuYW1lKSl7aWYoYXJyYXkmJmtleS5tYXRjaCgvXlxkKyQvKSl7cmV0dXJuIHN0cn1uYW1lPUpTT04uc3RyaW5naWZ5KCIiK2tleSk7aWYobmFtZS5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pKXtuYW1lPW5hbWUuc3Vic3RyKDEsbmFtZS5sZW5ndGgtMik7bmFtZT1jdHguc3R5bGl6ZShuYW1lLCJuYW1lIil9ZWxzZXtuYW1lPW5hbWUucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpLnJlcGxhY2UoLyheInwiJCkvZywiJyIpO25hbWU9Y3R4LnN0eWxpemUobmFtZSwic3RyaW5nIil9fXJldHVybiBuYW1lKyI6ICIrc3RyfWZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCxiYXNlLGJyYWNlcyl7dmFyIG51bUxpbmVzRXN0PTA7dmFyIGxlbmd0aD1vdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsY3VyKXtudW1MaW5lc0VzdCsrO2lmKGN1ci5pbmRleE9mKCJcbiIpPj0wKW51bUxpbmVzRXN0Kys7cmV0dXJuIHByZXYrY3VyLnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSwwKTtpZihsZW5ndGg+NjApe3JldHVybiBicmFjZXNbMF0rKGJhc2U9PT0iIj8iIjpiYXNlKyJcbiAiKSsiICIrb3V0cHV0LmpvaW4oIixcbiAgIikrIiAiK2JyYWNlc1sxXX1yZXR1cm4gYnJhY2VzWzBdK2Jhc2UrIiAiK291dHB1dC5qb2luKCIsICIpKyIgIiticmFjZXNbMV19ZnVuY3Rpb24gaXNBcnJheShhcil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpfWV4cG9ydHMuaXNBcnJheT1pc0FycmF5O2Z1bmN0aW9uIGlzQm9vbGVhbihhcmcpe3JldHVybiB0eXBlb2YgYXJnPT09ImJvb2xlYW4ifWV4cG9ydHMuaXNCb29sZWFuPWlzQm9vbGVhbjtmdW5jdGlvbiBpc051bGwoYXJnKXtyZXR1cm4gYXJnPT09bnVsbH1leHBvcnRzLmlzTnVsbD1pc051bGw7ZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKXtyZXR1cm4gYXJnPT1udWxsfWV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQ9aXNOdWxsT3JVbmRlZmluZWQ7ZnVuY3Rpb24gaXNOdW1iZXIoYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJudW1iZXIifWV4cG9ydHMuaXNOdW1iZXI9aXNOdW1iZXI7ZnVuY3Rpb24gaXNTdHJpbmcoYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJzdHJpbmcifWV4cG9ydHMuaXNTdHJpbmc9aXNTdHJpbmc7ZnVuY3Rpb24gaXNTeW1ib2woYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJzeW1ib2wifWV4cG9ydHMuaXNTeW1ib2w9aXNTeW1ib2w7ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKXtyZXR1cm4gYXJnPT09dm9pZCAwfWV4cG9ydHMuaXNVbmRlZmluZWQ9aXNVbmRlZmluZWQ7ZnVuY3Rpb24gaXNSZWdFeHAocmUpe3JldHVybiBpc09iamVjdChyZSkmJm9iamVjdFRvU3RyaW5nKHJlKT09PSJbb2JqZWN0IFJlZ0V4cF0ifWV4cG9ydHMuaXNSZWdFeHA9aXNSZWdFeHA7ZnVuY3Rpb24gaXNPYmplY3QoYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJvYmplY3QiJiZhcmchPT1udWxsfWV4cG9ydHMuaXNPYmplY3Q9aXNPYmplY3Q7ZnVuY3Rpb24gaXNEYXRlKGQpe3JldHVybiBpc09iamVjdChkKSYmb2JqZWN0VG9TdHJpbmcoZCk9PT0iW29iamVjdCBEYXRlXSJ9ZXhwb3J0cy5pc0RhdGU9aXNEYXRlO2Z1bmN0aW9uIGlzRXJyb3IoZSl7cmV0dXJuIGlzT2JqZWN0KGUpJiYob2JqZWN0VG9TdHJpbmcoZSk9PT0iW29iamVjdCBFcnJvcl0ifHxlIGluc3RhbmNlb2YgRXJyb3IpfWV4cG9ydHMuaXNFcnJvcj1pc0Vycm9yO2Z1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKXtyZXR1cm4gdHlwZW9mIGFyZz09PSJmdW5jdGlvbiJ9ZXhwb3J0cy5pc0Z1bmN0aW9uPWlzRnVuY3Rpb247ZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKXtyZXR1cm4gYXJnPT09bnVsbHx8dHlwZW9mIGFyZz09PSJib29sZWFuInx8dHlwZW9mIGFyZz09PSJudW1iZXIifHx0eXBlb2YgYXJnPT09InN0cmluZyJ8fHR5cGVvZiBhcmc9PT0ic3ltYm9sInx8dHlwZW9mIGFyZz09PSJ1bmRlZmluZWQifWV4cG9ydHMuaXNQcmltaXRpdmU9aXNQcmltaXRpdmU7ZXhwb3J0cy5pc0J1ZmZlcj1yZXF1aXJlKCIuL3N1cHBvcnQvaXNCdWZmZXIiKTtmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pfWZ1bmN0aW9uIHBhZChuKXtyZXR1cm4gbjwxMD8iMCIrbi50b1N0cmluZygxMCk6bi50b1N0cmluZygxMCl9dmFyIG1vbnRocz1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdO2Z1bmN0aW9uIHRpbWVzdGFtcCgpe3ZhciBkPW5ldyBEYXRlO3ZhciB0aW1lPVtwYWQoZC5nZXRIb3VycygpKSxwYWQoZC5nZXRNaW51dGVzKCkpLHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oIjoiKTtyZXR1cm5bZC5nZXREYXRlKCksbW9udGhzW2QuZ2V0TW9udGgoKV0sdGltZV0uam9pbigiICIpfWV4cG9ydHMubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coIiVzIC0gJXMiLHRpbWVzdGFtcCgpLGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSl9O2V4cG9ydHMuaW5oZXJpdHM9cmVxdWlyZSgiaW5oZXJpdHMiKTtleHBvcnRzLl9leHRlbmQ9ZnVuY3Rpb24ob3JpZ2luLGFkZCl7aWYoIWFkZHx8IWlzT2JqZWN0KGFkZCkpcmV0dXJuIG9yaWdpbjt2YXIga2V5cz1PYmplY3Qua2V5cyhhZGQpO3ZhciBpPWtleXMubGVuZ3RoO3doaWxlKGktLSl7b3JpZ2luW2tleXNbaV1dPWFkZFtrZXlzW2ldXX1yZXR1cm4gb3JpZ2lufTtmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmoscHJvcCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmoscHJvcCl9fSkuY2FsbCh0aGlzLHJlcXVpcmUoIl9wcm9jZXNzIiksdHlwZW9mIGdsb2JhbCE9PSJ1bmRlZmluZWQiP2dsb2JhbDp0eXBlb2Ygc2VsZiE9PSJ1bmRlZmluZWQiP3NlbGY6dHlwZW9mIHdpbmRvdyE9PSJ1bmRlZmluZWQiP3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjoyMTAsX3Byb2Nlc3M6MTkzLGluaGVyaXRzOjIwOX1dfSx7fSxbOTZdKTsK');
